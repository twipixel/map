webpackJsonp([1],{0:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var s=r(334),a=n(s),u=r(333),f=n(u);!function(){window.onload=function(){new c}}();var c=function(){function t(){i(this,t),this.init(),this.addEvent(),this.onresize()}return o(t,[{key:"init",value:function(){this.app=new a.default}},{key:"addEvent",value:function(){window.onresize=this.onresize.bind(this),window.addEventListener("keyup",this.onkeyup.bind(this)),window.addEventListener("keydown",this.onkeydown.bind(this))}},{key:"onresize",value:function(){this.app.resize()}},{key:"getIntervalFunction",value:function(t,e){function r(){e.apply(t,i),clearTimeout(this.keyIntervalId),this.keyIntervalId=setTimeout(r.bind(this),200)}for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r.bind(this)}},{key:"clearInterFunction",value:function(){clearTimeout(this.keyIntervalId)}},{key:"onkeydown",value:function(t){switch(t.keyCode){case f.default.UP:this.getIntervalFunction(this.app,this.app.moveCamera,"y",-1)();break;case f.default.DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"y",1)();break;case f.default.LEFT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",-1)();break;case f.default.RIGHT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",1)();break;case f.default.PAGE_UP:this.getIntervalFunction(this.app,this.app.moveCamera,"z",1)();break;case f.default.PAGE_DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"z",-1)();break;case f.default.NUMBER_4:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",-.01)();break;case f.default.NUMBER_6:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",.01)();break;case f.default.NUMBER_8:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",-.01)();break;case f.default.NUMBER_2:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",.01)();break;case f.default.NUMBER_7:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_1:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMBER_9:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_3:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMPAD_ADD:this.app.zoomIn();break;case f.default.NUMPAD_SUBTRACT:this.app.zoomOut();break;case f.default.NUMPAD_ENTER:this.app.zoomOut();break;case f.default.NUMBER_0:this.app.reset();break;case f.default.W:break;case f.default.S:break;case f.default.A:break;case f.default.D:}}},{key:"onkeyup",value:function(t){switch(t.keyCode){case f.default.ESCAPE:console.clear();break;case f.default.SPACE:this.app.gui.closed?this.app.gui.open():this.app.gui.close();break;case f.default.UP:case f.default.DOWN:case f.default.LEFT:case f.default.RIGHT:case f.default.PAGE_UP:case f.default.PAGE_DOWN:case f.default.NUMBER_4:case f.default.NUMBER_6:case f.default.NUMBER_8:case f.default.NUMBER_2:case f.default.NUMBER_7:case f.default.NUMBER_1:case f.default.NUMBER_9:case f.default.NUMBER_3:case f.default.NUMPAD_ADD:case f.default.NUMPAD_SUBTRACT:case f.default.W:case f.default.S:case f.default.A:case f.default.D:this.clearInterFunction();break;case f.default.BACKSPACE:}}}]),t}()},334:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(335),u=(n(a),r(362)),f=n(u),c=r(365),h=n(c),l=r(366),p=n(l),d=r(367),y=n(d),v=r(368),g=n(v),m=(r(369),r(371)),b={x:27953,y:12713,z:15},w={bus:"https://map.pstatic.net/nvb/wmts/bus/d2e364c9-b75e-4fd7-8020-c4b26f82b9ce/getTile/{x}/{y}/{z}/pbf",poi_web:"https://map.pstatic.net/nvb/wmts/poi_web/8fe6883e-5525-45f8-8f55-5e30bc4981f1/getTile/{x}/{y}/{z}/pbf",poi4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_poi/5653e757-9bf1-4a2e-b20f-86bb4c0b9912/getTile/{x}/{y}/{z}/pbf",naver4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_data/getMetadata",cctv:"https://map.pstatic.net/nvbpc/wmts/cctv/ab50b26c-842d-4be5-8b0c-46019f5e79a1/getTile/{x}/{y}/{z}/pbf",ozone:"https://map.pstatic.net/ozone/pbf/geojson/POI?x="+b.x+"&y="+b.y+" &z="+b.z+"&name=osm_naver_poi&versionCode=5653e757-9bf1-4a2e-b20f-86bb4c0b9912&pixelRatio=2&imageType=sprite&language=ko&mapType=NORMAL&quality=normal"};for(var x in w)w[x]=(0,y.default)(w[x],b);var S=function(){function t(){i(this,t),this.testPbf(w.cctv,"cctv"),this.testPbf(w.poi_web,"naver4osm"),this.testPbf(w.poi4osm,"poi4osm"),this.testOzone(w.ozone,"ozone")}return s(t,[{key:"parse",value:function(){}},{key:"testPbf",value:function(t,e){var r=this;console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱"));var n=new m.VectorTile(new h.default(t));console.timeEnd((0,g.default)(e+" pbf 파싱")),console.log(n),console.time((0,g.default)(e+" 피쳐 생성"));var i=r.getFeatures(n);console.timeEnd((0,g.default)(e+" 피쳐 생성")),console.log("features",i.features)})}},{key:"testOzone",value:function(t,e){console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱 및 피쳐 생성"));var r={type:"FeatureCollection",features:[]};r=f.default.decode(new h.default(t)),console.timeEnd((0,g.default)(e+" pbf 파싱 및 피쳐 생성")),console.log("features",r.features)})}},{key:"getFeatures",value:function(t){var e={type:"FeatureCollection",features:[]},r=Object.keys(t.layers);return Array.isArray(r)||(r=[r]),console.log("layers ("+r.length+")"),r.forEach(function(r){for(var n=t.layers[r],i=n.length,s=0;s<i;s++){var a=o({},n.feature(s).toGeoJSON(b.x,b.y,b.z));i>0&&(a.properties.layer=r),console.log("feature",JSON.stringify(a,null,2)),e.features.push(a)}}),e}},{key:"resize",value:function(){}}]),t}();e.default=S},335:function(t,e,r){t.exports=r(336)},336:function(t,e,r){"use strict";function n(t){var e=new s(t),r=o(s.prototype.request,e);return i.extend(r,s.prototype,e),i.extend(r,e),r}var i=r(337),o=r(338),s=r(340),a=r(358),u=r(346),f=n(u);f.Axios=s,f.create=function(t){return n(a(f.defaults,t))},f.Cancel=r(359),f.CancelToken=r(360),f.isCancel=r(345),f.all=function(t){return Promise.all(t)},f.spread=r(361),t.exports=f,t.exports.default=f},337:function(t,e,r){"use strict";function n(t){return"[object Array]"===M.call(t)}function i(t){return"[object ArrayBuffer]"===M.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function f(t){return"undefined"==typeof t}function c(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===M.call(t)}function l(t){return"[object File]"===M.call(t)}function p(t){return"[object Blob]"===M.call(t)}function d(t){return"[object Function]"===M.call(t)}function y(t){return c(t)&&d(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(t,e){if(null!==t&&"undefined"!=typeof t)if("object"!=typeof t&&(t=[t]),n(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function w(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=w(e[r],t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function x(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=x(e[r],t):"object"==typeof t?e[r]=x({},t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function S(t,e,r){return b(e,function(e,n){r&&"function"==typeof e?t[n]=F(e,r):t[n]=e}),t}var F=r(338),_=r(339),M=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isBuffer:_,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:c,isUndefined:f,isDate:h,isFile:l,isBlob:p,isFunction:d,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:w,deepMerge:x,extend:S,trim:g}},338:function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},339:function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},340:function(t,e,r){"use strict";function n(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var i=r(337),o=r(341),s=r(342),a=r(343),u=r(358);n.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=u(this.defaults,t),t.method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},n.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n},341:function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=r(337);t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}},342:function(t,e,r){"use strict";function n(){this.handlers=[]}var i=r(337);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},343:function(t,e,r){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=r(337),o=r(344),s=r(345),a=r(346),u=r(356),f=r(357);t.exports=function(t){n(t),t.baseURL&&!u(t.url)&&(t.url=f(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||a.adapter;return e(t).then(function(e){return n(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(n(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},344:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},345:function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},346:function(t,e,r){(function(e){"use strict";function n(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function i(){var t;return"undefined"!=typeof e&&"[object process]"===Object.prototype.toString.call(e)?t=r(349):"undefined"!=typeof XMLHttpRequest&&(t=r(349)),t}var o=r(337),s=r(348),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:i(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){u.headers[t]={}}),o.forEach(["post","put","patch"],function(t){u.headers[t]=o.merge(a)}),t.exports=u}).call(e,r(347))},347:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function f(){}var c,h,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],y=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=f,l.addListener=f,l.once=f,l.off=f,l.removeListener=f,l.removeAllListeners=f,l.emit=f,l.prependListener=f,l.prependOnceListener=f,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},348:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},349:function(t,e,r){"use strict";var n=r(337),i=r(350),o=r(341),s=r(353),a=r(354),u=r(351);t.exports=function(t){return new Promise(function(e,f){var c=t.data,h=t.headers;n.isFormData(c)&&delete h["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+d)}if(l.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?s(l.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?l.response:l.responseText,o={data:n,status:l.status,statusText:l.statusText,headers:r,config:t,request:l};i(e,f,o),l=null}},l.onabort=function(){l&&(f(u("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){f(u("Network Error",t,null,l)),l=null},l.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var y=r(355),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in l&&n.forEach(h,function(t,e){"undefined"==typeof c&&"content-type"===e.toLowerCase()?delete h[e]:l.setRequestHeader(e,t)}),t.withCredentials&&(l.withCredentials=!0),t.responseType)try{l.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){l&&(l.abort(),f(t),l=null)}),void 0===c&&(c=null),l.send(c)})}},350:function(t,e,r){"use strict";var n=r(351);t.exports=function(t,e,r){var i=r.config.validateStatus;!i||i(r.status)?t(r):e(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},351:function(t,e,r){"use strict";var n=r(352);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},352:function(t,e){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},353:function(t,e,r){"use strict";var n=r(337),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;"set-cookie"===e?s[e]=(s[e]?s[e]:[]).concat([r]):s[e]=s[e]?s[e]+", "+r:r}}),s):s}},354:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(r){var i=n.isString(r)?t(r):r;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},355:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},356:function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},357:function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},358:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){e=e||{};var r={};return n.forEach(["url","method","params","data"],function(t){"undefined"!=typeof e[t]&&(r[t]=e[t])}),n.forEach(["headers","auth","proxy"],function(i){n.isObject(e[i])?r[i]=n.deepMerge(t[i],e[i]):"undefined"!=typeof e[i]?r[i]=e[i]:n.isObject(t[i])?r[i]=n.deepMerge(t[i]):"undefined"!=typeof t[i]&&(r[i]=t[i])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){"undefined"!=typeof e[n]?r[n]=e[n]:"undefined"!=typeof t[n]&&(r[n]=t[n])}),r}},359:function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},360:function(t,e,r){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}var i=r(359);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,e=new n(function(e){t=e});return{token:e,cancel:t}},t.exports=n},361:function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},362:function(t,e,r){"use strict";e.encode=r(363),e.decode=r(364)},363:function(t,e){"use strict";function r(t,e){b={},x=[],w=0,S=0,F=1,n(t),F=Math.min(F,_);for(var r=Math.ceil(Math.log(F)/Math.LN10),i=0;i<x.length;i++)e.writeStringField(1,x[i]);return 2!==S&&e.writeVarintField(2,S),6!==r&&e.writeVarintField(3,r),"FeatureCollection"===t.type?e.writeMessage(4,u,t):"Feature"===t.type?e.writeMessage(5,f,t):e.writeMessage(6,c,t),b=null,e.finish()}function n(t){var e,r;if("FeatureCollection"===t.type)for(e=0;e<t.features.length;e++)n(t.features[e]);else if("Feature"===t.type){null!==t.geometry&&n(t.geometry);for(r in t.properties)a(r)}else if("Point"===t.type)s(t.coordinates);else if("MultiPoint"===t.type)o(t.coordinates);else if("GeometryCollection"===t.type)for(e=0;e<t.geometries.length;e++)n(t.geometries[e]);else if("LineString"===t.type)o(t.coordinates);else if("Polygon"===t.type||"MultiLineString"===t.type)i(t.coordinates);else if("MultiPolygon"===t.type)for(e=0;e<t.coordinates.length;e++)i(t.coordinates[e]);for(r in t)m(r,t.type)||a(r)}function i(t){for(var e=0;e<t.length;e++)o(t[e])}function o(t){for(var e=0;e<t.length;e++)s(t[e])}function s(t){S=Math.max(S,t.length);for(var e=0;e<t.length;e++)for(;Math.round(t[e]*F)/F!==t[e]&&F<_;)F*=10}function a(t){void 0===b[t]&&(x.push(t),b[t]=w++)}function u(t,e){for(var r=0;r<t.features.length;r++)e.writeMessage(1,f,t.features[r]);h(t,e,!0)}function f(t,e){null!==t.geometry&&e.writeMessage(1,c,t.geometry),void 0!==t.id&&("number"==typeof t.id&&t.id%1===0?e.writeSVarintField(12,t.id):e.writeStringField(11,t.id)),t.properties&&h(t.properties,e),h(t,e,!0)}function c(t,e){e.writeVarintField(1,M[t.type]);var r=t.coordinates;if("Point"===t.type)p(r,e);else if("MultiPoint"===t.type)d(r,e,!0);else if("LineString"===t.type)d(r,e);else if("MultiLineString"===t.type)y(r,e);else if("Polygon"===t.type)y(r,e,!0);else if("MultiPolygon"===t.type)v(r,e);else if("GeometryCollection"===t.type)for(var n=0;n<t.geometries.length;n++)e.writeMessage(4,c,t.geometries[n]);h(t,e,!0)}function h(t,e,r){var n=[],i=0;for(var o in t)r&&m(o,t.type)||(e.writeMessage(13,l,t[o]),n.push(b[o]),n.push(i++));e.writePackedVarint(r?15:14,n)}function l(t,e){if(null!==t){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(5,t):"object"===r?e.writeStringField(6,JSON.stringify(t)):"number"===r&&(t%1!==0?e.writeDoubleField(2,t):t>=0?e.writeVarintField(3,t):e.writeVarintField(4,-t))}}function p(t,e){for(var r=[],n=0;n<S;n++)r.push(Math.round(t[n]*F));e.writePackedSVarint(3,r)}function d(t,e){var r=[];g(r,t),e.writePackedSVarint(3,r)}function y(t,e,r){var n,i=t.length;if(1!==i){var o=[];for(n=0;n<i;n++)o.push(t[n].length-(r?1:0));e.writePackedVarint(2,o)}var s=[];for(n=0;n<i;n++)g(s,t[n],r);e.writePackedSVarint(3,s)}function v(t,e){var r,n,i=t.length;if(1!==i||1!==t[0].length){var o=[i];for(r=0;r<i;r++)for(o.push(t[r].length),n=0;n<t[r].length;n++)o.push(t[r][n].length-1);e.writePackedVarint(2,o)}var s=[];for(r=0;r<i;r++)for(n=0;n<t[r].length;n++)g(s,t[r][n],!0);e.writePackedSVarint(3,s)}function g(t,e,r){var n,i,o=e.length-(r?1:0),s=new Array(S);for(i=0;i<S;i++)s[i]=0;for(n=0;n<o;n++)for(i=0;i<S;i++){var a=Math.round(e[n][i]*F)-s[i];t.push(a),s[i]+=a}}function m(t,e){if("type"===t)return!0;if("FeatureCollection"===e){if("features"===t)return!0}else if("Feature"===e){if("id"===t||"properties"===t||"geometry"===t)return!0}else if("GeometryCollection"===e){if("geometries"===t)return!0}else if("coordinates"===t)return!0;return!1}t.exports=r;var b,w,x,S,F,_=1e6,M={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6}},364:function(t,e){"use strict";function r(t){x=2,S=Math.pow(10,6),w=null,m=[],b=[];var e=t.readFields(n,{});return m=null,e}function n(t,e,r){1===t?m.push(r.readString()):2===t?x=r.readVarint():3===t?S=Math.pow(10,r.readVarint()):4===t?i(r,e):5===t?o(r,e):6===t&&s(r,e)}function i(t,e){return e.type="FeatureCollection",e.features=[],t.readMessage(a,e)}function o(t,e){e.type="Feature";var r=t.readMessage(u,e);return r.hasOwnProperty("geometry")||(r.geometry=null),r}function s(t,e){return t.readMessage(f,e)}function a(t,e,r){1===t?e.features.push(o(r,{})):13===t?b.push(h(r)):15===t&&l(r,e)}function u(t,e,r){1===t?e.geometry=s(r,{}):11===t?e.id=r.readString():12===t?e.id=r.readSVarint():13===t?b.push(h(r)):14===t?e.properties=l(r,{}):15===t&&l(r,e)}function f(t,e,r){1===t?e.type=F[r.readVarint()]:2===t?w=r.readPackedVarint():3===t?c(e,r,e.type):4===t?(e.geometries=e.geometries||[],e.geometries.push(s(r,{}))):13===t?b.push(h(r)):15===t&&l(r,e)}function c(t,e,r){"Point"===r?t.coordinates=p(e):"MultiPoint"===r?t.coordinates=y(e,!0):"LineString"===r?t.coordinates=y(e):"MultiLineString"===r?t.coordinates=v(e):"Polygon"===r?t.coordinates=v(e,!0):"MultiPolygon"===r&&(t.coordinates=g(e))}function h(t){for(var e=t.readVarint()+t.pos,r=null;t.pos<e;){var n=t.readVarint(),i=n>>3;1===i?r=t.readString():2===i?r=t.readDouble():3===i?r=t.readVarint():4===i?r=-t.readVarint():5===i?r=t.readBoolean():6===i&&(r=JSON.parse(t.readString()))}return r}function l(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;)e[m[t.readVarint()]]=b[t.readVarint()];return b=[],e}function p(t){for(var e=t.readVarint()+t.pos,r=[];t.pos<e;)r.push(t.readSVarint()/S);return r}function d(t,e,r,n){var i,o,s=0,a=[],u=[];for(o=0;o<x;o++)u[o]=0;for(;r?s<r:t.pos<e;){for(i=[],o=0;o<x;o++)u[o]+=t.readSVarint(),i[o]=u[o]/S;a.push(i),s++}return n&&a.push(a[0]),a}function y(t){return d(t,t.readVarint()+t.pos)}function v(t,e){var r=t.readVarint()+t.pos;if(!w)return[d(t,r,null,e)];for(var n=[],i=0;i<w.length;i++)n.push(d(t,r,w[i],e));return w=null,n}function g(t){var e=t.readVarint()+t.pos;if(!w)return[[d(t,e,null,!0)]];for(var r=[],n=1,i=0;i<w[0];i++){for(var o=[],s=0;s<w[n];s++)o.push(d(t,e,w[n+1+s],!0));n+=w[n]+1,r.push(o)}return w=null,r}t.exports=r;var m,b,w,x,S,F=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"]},365:function(t,e,r){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function a(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(r=~(-t%4294967296),n=~(-t/4294967296),4294967295^r?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(r,n,e),f(n,e)}function u(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}function f(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function h(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function m(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function b(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function F(t,e,r){for(var n="",i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>r)break;var u,f,c;1===a?o<128&&(s=o):2===a?(u=t[i+1],128===(192&u)&&(s=(31&o)<<6|63&u,s<=127&&(s=null))):3===a?(u=t[i+1],f=t[i+2],128===(192&u)&&128===(192&f)&&(s=(15&o)<<12|(63&u)<<6|63&f,(s<=2047||s>=55296&&s<=57343)&&(s=null))):4===a&&(u=t[i+1],f=t[i+2],c=t[i+3],128===(192&u)&&128===(192&f)&&128===(192&c)&&(s=(15&o)<<18|(63&u)<<12|(63&f)<<6|63&c,(s<=65535||s>=1114112)&&(s=null))),null===s?(s=65533,a=1):s>65535&&(s-=65536,n+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),n+=String.fromCharCode(s),i+=a}return n}function _(t,e,r){for(var n,i,o=0;o<e.length;o++){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}t.exports=n;var M=r(331);n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var k=4294967296,P=1/k;n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=w(this.buf,this.pos)+w(this.buf,this.pos+4)*k;return this.pos+=8,t},readSFixed64:function(){var t=w(this.buf,this.pos)+S(this.buf,this.pos+4)*k;return this.pos+=8,t},readFloat:function(){
var t=M.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=M.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return r=n[this.pos++],e=127&r,r<128?e:(r=n[this.pos++],e|=(127&r)<<7,r<128?e:(r=n[this.pos++],e|=(127&r)<<14,r<128?e:(r=n[this.pos++],e|=(127&r)<<21,r<128?e:(r=n[this.pos],e|=(15&r)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=F(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==n.Bytes)return t.push(this.readVarint(e));var r=o(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==n.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==n.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==n.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==n.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t||0,t>268435455||t<0?void a(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=_(this.buf,t,this.pos);var r=this.pos-e;r>=128&&c(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),M.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),M.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&c(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,n.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},366:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.url,r=t.responseType,n=void 0===r?"json":r,i=function(){return(0,s.default)({url:e,responseType:n}).then(function(t){var e=t.data;return e})};return i()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(335),s=n(o)},367:function(t,e){"use strict";function r(t,e){return t.replace(n,function(t,r){var n=e[r];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/\{ *([\w_-]+) *\}/g},368:function(t,e){"use strict";function r(t){return n+" "+t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n="▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨ "},369:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e=e||30,e>f)return void console.log(t);if((0,u.default)(t))for(var r in t)console.log(r,t[r]),console.group(r+" : "+s(t[r])),i(t[r],e+1),console.groupEnd();else console.log(t)}function o(t,e){return JSON.stringify(t,null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.expandedLog=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(370),u=n(a),f=100;e.expandedLog=i,e.stringify=o},370:function(t,e){"use strict";function r(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":n(t))&&Array.isArray(t)===!1}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},371:function(t,e,r){t.exports.VectorTile=r(372),t.exports.VectorTileFeature=r(374),t.exports.VectorTileLayer=r(373)},372:function(t,e,r){"use strict";function n(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,r){if(3===t){var n=new o(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}var o=r(373);t.exports=n},373:function(t,e,r){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(o(r))}function o(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var s=r(374);t.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},374:function(t,e,r){"use strict";function n(t,e,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(i,this,e)}function i(t,e,r){1==t?e.id=r.readVarint():2==t?o(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function o(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i}}function s(t){var e=t.length;if(e<=1)return[t];for(var r,n,i=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(r&&i.push(r),r=[t[o]]):r.push(t[o]))}return r&&i.push(r),i}function a(t){for(var e,r,n=0,i=0,o=t.length,s=o-1;i<o;s=i++)e=t[i],r=t[s],n+=(r.x-e.x)*(e.y+r.y);return n}var u=r(375);t.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,o=0,s=0,a=[];t.pos<r;){if(i<=0){var f=t.readVarint();n=7&f,i=f>>3}if(i--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new u(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,o=0,s=1/0,a=-(1/0),u=1/0,f=-(1/0);t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)i+=t.readSVarint(),o+=t.readSVarint(),i<s&&(s=i),i>a&&(a=i),o<u&&(u=o),o>f&&(f=o);else if(7!==r)throw new Error("unknown command "+r)}return[s,u,a,f]},n.prototype.toGeoJSON=function(t,e,r){function i(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+c)/u;t[e]=[360*(r.x+f)/u-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,a,u=this.extent*Math.pow(2,r),f=this.extent*t,c=this.extent*e,h=this.loadGeometry(),l=n.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<h.length;o++)p[o]=h[o][0];h=p,i(h);break;case 2:for(o=0;o<h.length;o++)i(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)i(h[o][a])}1===h.length?h=h[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:h},properties:this.properties};return"id"in this&&(d.id=this.id),d}},375:function(t,e){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,i=r*this.x+e*this.y;return this.x=n,this.y=i,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.x+r*(this.x-e.x)-n*(this.y-e.y),o=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9tYXAvcGJmL2xvYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbWFwL3BiZi9sb2FkL0FwcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL34vZ2VvYnVmL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3BiZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbmV0L3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZy90ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc29sZS9nZXRUaW1lTGFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnNvbGUvZXhwYW5kZWRMb2cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRlL2lzb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vQG1hcGJveC92ZWN0b3ItdGlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvcG9pbnQtZ2VvbWV0cnkvaW5kZXguanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJfQXBwIiwiX0FwcDIiLCJfS2V5Q29kZSIsIl9LZXlDb2RlMiIsIndpbmRvdyIsIm9ubG9hZCIsIk1haW4iLCJ0aGlzIiwiaW5pdCIsImFkZEV2ZW50Iiwib25yZXNpemUiLCJ2YWx1ZSIsImFwcCIsIkFwcCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwib25rZXl1cCIsIm9ua2V5ZG93biIsInJlc2l6ZSIsInRoZUFyZyIsImZ1bmMiLCJpbnRlcnZhbEZ1bmMiLCJhcHBseSIsInBhcmFtcyIsImNsZWFyVGltZW91dCIsImtleUludGVydmFsSWQiLCJzZXRUaW1lb3V0IiwiX2xlbiIsImFyZ3VtZW50cyIsIkFycmF5IiwiX2tleSIsImV2ZW50Iiwia2V5Q29kZSIsIktleUNvZGUiLCJVUCIsImdldEludGVydmFsRnVuY3Rpb24iLCJtb3ZlQ2FtZXJhIiwiRE9XTiIsIkxFRlQiLCJSSUdIVCIsIlBBR0VfVVAiLCJQQUdFX0RPV04iLCJOVU1CRVJfNCIsInJvdGF0ZVdvcmxkIiwiTlVNQkVSXzYiLCJOVU1CRVJfOCIsIk5VTUJFUl8yIiwiTlVNQkVSXzciLCJOVU1CRVJfMSIsIk5VTUJFUl85IiwiTlVNQkVSXzMiLCJOVU1QQURfQUREIiwiem9vbUluIiwiTlVNUEFEX1NVQlRSQUNUIiwiem9vbU91dCIsIk5VTVBBRF9FTlRFUiIsIk5VTUJFUl8wIiwicmVzZXQiLCJXIiwiUyIsIkEiLCJEIiwiRVNDQVBFIiwiY29uc29sZSIsImNsZWFyIiwiU1BBQ0UiLCJndWkiLCJjbG9zZWQiLCJvcGVuIiwiY2xvc2UiLCJjbGVhckludGVyRnVuY3Rpb24iLCJCQUNLU1BBQ0UiLCIzMzQiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9heGlvcyIsIl9nZW9idWYiLCJfZ2VvYnVmMiIsIl9wYmYiLCJfcGJmMiIsIl9yZXF1ZXN0IiwiX3JlcXVlc3QyIiwiX3RlbXBsYXRlIiwiX3RlbXBsYXRlMiIsIl9nZXRUaW1lTGFiZWwiLCJfZ2V0VGltZUxhYmVsMiIsIl92ZWN0b3JUaWxlIiwieHl6IiwieCIsInkiLCJ6IiwidXJscyIsImJ1cyIsInBvaV93ZWIiLCJwb2k0b3NtIiwibmF2ZXI0b3NtIiwiY2N0diIsIm96b25lIiwicHJvcCIsInRlc3RQYmYiLCJ0ZXN0T3pvbmUiLCJ1cmwiLCJ0aW1lTGFiZWwiLCJfdGhpcyIsInRpbWUiLCJyZXNwb25zZVR5cGUiLCJ0aGVuIiwiYnVmZmVyIiwidGltZUVuZCIsInRpbGUiLCJWZWN0b3JUaWxlIiwiUHJvdG9CdWYiLCJsb2ciLCJjb2xsZWN0aW9uIiwiZ2V0RmVhdHVyZXMiLCJmZWF0dXJlcyIsInR5cGUiLCJnZW9idWYiLCJkZWNvZGUiLCJsYXllcnMiLCJrZXlzIiwiaXNBcnJheSIsImZvckVhY2giLCJsYXllcklEIiwibGF5ZXIiLCJsZW4iLCJmZWF0dXJlIiwidG9HZW9KU09OIiwicHJvcGVydGllcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJwdXNoIiwiMzM1IiwiMzM2IiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsIkF4aW9zIiwicmVxdWVzdCIsInV0aWxzIiwiZXh0ZW5kIiwibWVyZ2VDb25maWciLCJkZWZhdWx0cyIsImF4aW9zIiwiY3JlYXRlIiwiaW5zdGFuY2VDb25maWciLCJDYW5jZWwiLCJDYW5jZWxUb2tlbiIsImlzQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJQcm9taXNlIiwic3ByZWFkIiwiMzM3IiwidmFsIiwidG9TdHJpbmciLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJyZXN1bHQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNGdW5jdGlvbiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJkb2N1bWVudCIsImZuIiwibCIsIm1lcmdlIiwiYXNzaWduVmFsdWUiLCJkZWVwTWVyZ2UiLCJhIiwiYiIsInRoaXNBcmciLCJpc0J1ZmZlciIsIjMzOCIsImFyZ3MiLCIzMzkiLCJjb25zdHJ1Y3RvciIsImlzU2xvd0J1ZmZlciIsInJlYWRGbG9hdExFIiwic2xpY2UiLCJfaXNCdWZmZXIiLCIzNDAiLCJpbnRlcmNlcHRvcnMiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJyZXNwb25zZSIsImJ1aWxkVVJMIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiY29uZmlnIiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJjaGFpbiIsInVuZGVmaW5lZCIsInByb21pc2UiLCJyZXNvbHZlIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImdldFVyaSIsInBhcmFtc1NlcmlhbGl6ZXIiLCJkYXRhIiwiMzQxIiwiZW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiam9pbiIsImhhc2htYXJrSW5kZXgiLCJpbmRleE9mIiwiMzQyIiwiaGFuZGxlcnMiLCJ1c2UiLCJlamVjdCIsImlkIiwiaCIsIjM0MyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJjYW5jZWxUb2tlbiIsInRocm93SWZSZXF1ZXN0ZWQiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiY29tbW9uIiwiYWRhcHRlciIsInRyYW5zZm9ybVJlc3BvbnNlIiwicmVhc29uIiwicmVqZWN0IiwiMzQ0IiwiZm5zIiwiMzQ1IiwiX19DQU5DRUxfXyIsIjM0NiIsInByb2Nlc3MiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJnZXREZWZhdWx0QWRhcHRlciIsIlhNTEh0dHBSZXF1ZXN0Iiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiQ29udGVudC1UeXBlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJBY2NlcHQiLCIzNDciLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwibmFtZSIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiMzQ4Iiwibm9ybWFsaXplZE5hbWUiLCJ0b1VwcGVyQ2FzZSIsIjM0OSIsInNldHRsZSIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZURhdGEiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiMzUwIiwiMzUxIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsIjM1MiIsImlzQXhpb3NFcnJvciIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCIzNTMiLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIjM1NCIsInJlc29sdmVVUkwiLCJocmVmIiwibXNpZSIsInVybFBhcnNpbmdOb2RlIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0Iiwib3JpZ2luVVJMIiwidGVzdCIsInVzZXJBZ2VudCIsImNyZWF0ZUVsZW1lbnQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCIzNTUiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCIzNTYiLCIzNTciLCJyZWxhdGl2ZVVSTCIsIjM1OCIsImNvbmZpZzEiLCJjb25maWcyIiwiMzU5IiwiMzYwIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwiYyIsIjM2MSIsImNhbGxiYWNrIiwiYXJyIiwiMzYyIiwiMzYzIiwicGJmIiwia2V5c0FyciIsImtleXNOdW0iLCJkaW0iLCJhbmFseXplIiwiTWF0aCIsIm1pbiIsIm1heFByZWNpc2lvbiIsInByZWNpc2lvbiIsImNlaWwiLCJMTjEwIiwid3JpdGVTdHJpbmdGaWVsZCIsIndyaXRlVmFyaW50RmllbGQiLCJ3cml0ZU1lc3NhZ2UiLCJ3cml0ZUZlYXR1cmVDb2xsZWN0aW9uIiwid3JpdGVGZWF0dXJlIiwid3JpdGVHZW9tZXRyeSIsImZpbmlzaCIsImdlb21ldHJ5Iiwic2F2ZUtleSIsImFuYWx5emVQb2ludCIsImNvb3JkaW5hdGVzIiwiYW5hbHl6ZVBvaW50cyIsImdlb21ldHJpZXMiLCJhbmFseXplTXVsdGlMaW5lIiwiaXNTcGVjaWFsS2V5IiwiY29vcmRzIiwicG9pbnQiLCJtYXgiLCJyb3VuZCIsIndyaXRlUHJvcHMiLCJ3cml0ZVNWYXJpbnRGaWVsZCIsImdlb20iLCJnZW9tZXRyeVR5cGVzIiwid3JpdGVQb2ludCIsIndyaXRlTGluZSIsIndyaXRlTXVsdGlMaW5lIiwid3JpdGVNdWx0aVBvbHlnb24iLCJpc0N1c3RvbSIsImluZGV4ZXMiLCJ2YWx1ZUluZGV4Iiwid3JpdGVWYWx1ZSIsIndyaXRlUGFja2VkVmFyaW50Iiwid3JpdGVCb29sZWFuRmllbGQiLCJ3cml0ZURvdWJsZUZpZWxkIiwid3JpdGVQYWNrZWRTVmFyaW50IiwicG9wdWxhdGVMaW5lIiwibGluZXMiLCJsZW5ndGhzIiwicG9seWdvbnMiLCJqIiwic3VtIiwibiIsIlBvaW50IiwiTXVsdGlQb2ludCIsIkxpbmVTdHJpbmciLCJNdWx0aUxpbmVTdHJpbmciLCJQb2x5Z29uIiwiTXVsdGlQb2x5Z29uIiwiR2VvbWV0cnlDb2xsZWN0aW9uIiwiMzY0IiwicG93IiwidmFsdWVzIiwicmVhZEZpZWxkcyIsInJlYWREYXRhRmllbGQiLCJ0YWciLCJyZWFkU3RyaW5nIiwicmVhZFZhcmludCIsInJlYWRGZWF0dXJlQ29sbGVjdGlvbiIsInJlYWRGZWF0dXJlIiwicmVhZEdlb21ldHJ5IiwicmVhZE1lc3NhZ2UiLCJyZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCIsImYiLCJyZWFkRmVhdHVyZUZpZWxkIiwicmVhZEdlb21ldHJ5RmllbGQiLCJyZWFkVmFsdWUiLCJyZWFkUHJvcHMiLCJyZWFkU1ZhcmludCIsInJlYWRQYWNrZWRWYXJpbnQiLCJyZWFkQ29vcmRzIiwicmVhZFBvaW50IiwicmVhZExpbmUiLCJyZWFkTXVsdGlMaW5lIiwicmVhZE11bHRpUG9seWdvbiIsImVuZCIsInBvcyIsInJlYWREb3VibGUiLCJyZWFkQm9vbGVhbiIsInJlYWRMaW5lUGFydCIsInAiLCJkIiwicHJldlAiLCJyaW5ncyIsImsiLCIzNjUiLCJQYmYiLCJidWYiLCJVaW50OEFycmF5IiwicmVhZFZhcmludFJlbWFpbmRlciIsInMiLCJ0b051bSIsInJlYWRQYWNrZWRFbmQiLCJCeXRlcyIsImxvdyIsImhpZ2giLCJpc1NpZ25lZCIsIndyaXRlQmlnVmFyaW50IiwicmVhbGxvYyIsIndyaXRlQmlnVmFyaW50TG93Iiwid3JpdGVCaWdWYXJpbnRIaWdoIiwibHNiIiwibWFrZVJvb21Gb3JFeHRyYUxlbmd0aCIsInN0YXJ0UG9zIiwiZXh0cmFMZW4iLCJmbG9vciIsIkxOMiIsIndyaXRlVmFyaW50Iiwid3JpdGVTVmFyaW50Iiwid3JpdGVQYWNrZWRGbG9hdCIsIndyaXRlRmxvYXQiLCJ3cml0ZVBhY2tlZERvdWJsZSIsIndyaXRlRG91YmxlIiwid3JpdGVQYWNrZWRCb29sZWFuIiwid3JpdGVCb29sZWFuIiwid3JpdGVQYWNrZWRGaXhlZDMyIiwid3JpdGVGaXhlZDMyIiwid3JpdGVQYWNrZWRTRml4ZWQzMiIsIndyaXRlU0ZpeGVkMzIiLCJ3cml0ZVBhY2tlZEZpeGVkNjQiLCJ3cml0ZUZpeGVkNjQiLCJ3cml0ZVBhY2tlZFNGaXhlZDY0Iiwid3JpdGVTRml4ZWQ2NCIsInJlYWRVSW50MzIiLCJ3cml0ZUludDMyIiwicmVhZEludDMyIiwicmVhZFV0ZjgiLCJiMCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJiMSIsImIyIiwiYjMiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ3cml0ZVV0ZjgiLCJsZWFkIiwiY2hhckNvZGVBdCIsImllZWU3NTQiLCJWYXJpbnQiLCJGaXhlZDY0IiwiRml4ZWQzMiIsIlNISUZUX0xFRlRfMzIiLCJTSElGVF9SSUdIVF8zMiIsImRlc3Ryb3kiLCJyZWFkRmllbGQiLCJza2lwIiwicmVhZEZpeGVkMzIiLCJyZWFkU0ZpeGVkMzIiLCJyZWFkRml4ZWQ2NCIsInJlYWRTRml4ZWQ2NCIsInJlYWRGbG9hdCIsInJlYWRWYXJpbnQ2NCIsIm51bSIsIkJvb2xlYW4iLCJyZWFkQnl0ZXMiLCJzdWJhcnJheSIsInJlYWRQYWNrZWRTVmFyaW50IiwicmVhZFBhY2tlZEJvb2xlYW4iLCJyZWFkUGFja2VkRmxvYXQiLCJyZWFkUGFja2VkRG91YmxlIiwicmVhZFBhY2tlZEZpeGVkMzIiLCJyZWFkUGFja2VkU0ZpeGVkMzIiLCJyZWFkUGFja2VkRml4ZWQ2NCIsInJlYWRQYWNrZWRTRml4ZWQ2NCIsIndyaXRlVGFnIiwic2V0Iiwid3JpdGVTdHJpbmciLCJ3cml0ZUJ5dGVzIiwid3JpdGVSYXdNZXNzYWdlIiwid3JpdGVCeXRlc0ZpZWxkIiwid3JpdGVGaXhlZDMyRmllbGQiLCJ3cml0ZVNGaXhlZDMyRmllbGQiLCJ3cml0ZUZpeGVkNjRGaWVsZCIsIndyaXRlU0ZpeGVkNjRGaWVsZCIsIndyaXRlRmxvYXRGaWVsZCIsIjM2NiIsIl9yZWYiLCJfcmVmJHJlc3BvbnNlVHlwZSIsImZldGNoRGF0YSIsIl9heGlvczIiLCJfcmVmMiIsIjM2NyIsInRlbXBsYXRlIiwidGVtcGxhdGVSZSIsIjM2OCIsImdldFRpbWVMYWJlbCIsImxhYmVsIiwidGltZUxhYmVsUHJlZml4IiwiMzY5IiwiZXhwYW5kZWRMb2ciLCJpdGVtIiwiZGVwdGgiLCJNQVhfREVQVEgiLCJfaXNvYmplY3QyIiwiZ3JvdXAiLCJfdHlwZW9mIiwiZ3JvdXBFbmQiLCJvYmplY3QiLCJzcGFjZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2lzb2JqZWN0IiwiMzcwIiwiMzcxIiwiVmVjdG9yVGlsZUZlYXR1cmUiLCJWZWN0b3JUaWxlTGF5ZXIiLCIzNzIiLCJyZWFkVGlsZSIsIjM3MyIsImV4dGVudCIsIl9rZXlzIiwiX3ZhbHVlcyIsIl9mZWF0dXJlcyIsInJlYWRMYXllciIsInJlYWRWYWx1ZU1lc3NhZ2UiLCIzNzQiLCJfZ2VvbWV0cnkiLCJyZWFkVGFnIiwiY2xhc3NpZnlSaW5ncyIsInBvbHlnb24iLCJjY3ciLCJhcmVhIiwic2lnbmVkQXJlYSIsInJpbmciLCJwMSIsInAyIiwidHlwZXMiLCJsb2FkR2VvbWV0cnkiLCJjbWQiLCJjbWRMZW4iLCJjbG9uZSIsImJib3giLCJ4MSIsIkluZmluaXR5IiwieDIiLCJ5MSIsInkyIiwicHJvamVjdCIsInkwIiwic2l6ZSIsIngwIiwiUEkiLCJhdGFuIiwiZXhwIiwicG9pbnRzIiwiMzc1IiwiYWRkIiwiX2FkZCIsInN1YiIsIl9zdWIiLCJtdWx0QnlQb2ludCIsIl9tdWx0QnlQb2ludCIsImRpdkJ5UG9pbnQiLCJfZGl2QnlQb2ludCIsIm11bHQiLCJfbXVsdCIsImRpdiIsIl9kaXYiLCJyb3RhdGUiLCJfcm90YXRlIiwicm90YXRlQXJvdW5kIiwiX3JvdGF0ZUFyb3VuZCIsIm1hdE11bHQiLCJtIiwiX21hdE11bHQiLCJ1bml0IiwiX3VuaXQiLCJwZXJwIiwiX3BlcnAiLCJfcm91bmQiLCJtYWciLCJzcXJ0IiwiZXF1YWxzIiwib3RoZXIiLCJkaXN0IiwiZGlzdFNxciIsImR4IiwiZHkiLCJhbmdsZSIsImF0YW4yIiwiYW5nbGVUbyIsImFuZ2xlV2l0aCIsImFuZ2xlV2l0aFNlcCIsImNvcyIsInNpbiIsImNvbnZlcnQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEVBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFaEMsWUFjQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTRyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQWRoSCxHQUFJQyxHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIs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R0FDQSxHQUFBSyxHQUFBaFMsS0FBQWdTLElBQUFMLEdBQ0FNLEVBQUFqUyxLQUFBaVMsSUFBQU4sR0FDQWpuQixFQUFBc25CLEVBQUExc0IsS0FBQW9GLEVBQUF1bkIsRUFBQTNzQixLQUFBcUYsRUFDQUEsRUFBQXNuQixFQUFBM3NCLEtBQUFvRixFQUFBc25CLEVBQUExc0IsS0FBQXFGLENBR0EsT0FGQXJGLE1BQUFvRixJQUNBcEYsS0FBQXFGLElBQ0FyRixNQUdBb3JCLGNBQUEsU0FBQWlCLEVBQUF0TSxHQUNBLEdBQUEyTSxHQUFBaFMsS0FBQWdTLElBQUFMLEdBQ0FNLEVBQUFqUyxLQUFBaVMsSUFBQU4sR0FDQWpuQixFQUFBMmEsRUFBQTNhLEVBQUFzbkIsR0FBQTFzQixLQUFBb0YsRUFBQTJhLEVBQUEzYSxHQUFBdW5CLEdBQUEzc0IsS0FBQXFGLEVBQUEwYSxFQUFBMWEsR0FDQUEsRUFBQTBhLEVBQUExYSxFQUFBc25CLEdBQUEzc0IsS0FBQW9GLEVBQUEyYSxFQUFBM2EsR0FBQXNuQixHQUFBMXNCLEtBQUFxRixFQUFBMGEsRUFBQTFhLEVBR0EsT0FGQXJGLE1BQUFvRixJQUNBcEYsS0FBQXFGLElBQ0FyRixNQUdBNHJCLE9BQUEsV0FHQSxNQUZBNXJCLE1BQUFvRixFQUFBc1YsS0FBQXdCLE1BQUFsYyxLQUFBb0YsR0FDQXBGLEtBQUFxRixFQUFBcVYsS0FBQXdCLE1BQUFsYyxLQUFBcUYsR0FDQXJGLE9BZUEwZCxFQUFBa1AsUUFBQSxTQUFBcmhCLEdBQ0EsTUFBQUEsYUFBQW1TLEdBQ0FuUyxFQUVBakssTUFBQStGLFFBQUFrRSxHQUNBLEdBQUFtUyxHQUFBblMsRUFBQSxHQUFBQSxFQUFBLElBRUFBIiwiZmlsZSI6ImxvYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzFdLHtcblxuLyoqKi8gMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfQXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuXHRcblx0dmFyIF9BcHAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXBwKTtcblx0XG5cdHZhciBfS2V5Q29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzMzKTtcblx0XG5cdHZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG1haW4gPSBuZXcgTWFpbigpO1xuXHQgICAgfTtcblx0fSkoKTtcblx0XG5cdHZhciBNYWluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gTWFpbigpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFpbik7XG5cdFxuXHQgICAgICAgIHRoaXMuaW5pdCgpO1xuXHQgICAgICAgIHRoaXMuYWRkRXZlbnQoKTtcblx0ICAgICAgICB0aGlzLm9ucmVzaXplKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKE1haW4sIFt7XG5cdCAgICAgICAga2V5OiAnaW5pdCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuYXBwID0gbmV3IF9BcHAyLmRlZmF1bHQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYWRkRXZlbnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudCgpIHtcblx0ICAgICAgICAgICAgd2luZG93Lm9ucmVzaXplID0gdGhpcy5vbnJlc2l6ZS5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9ua2V5dXAuYmluZCh0aGlzKSk7XG5cdCAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbmtleWRvd24uYmluZCh0aGlzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29ucmVzaXplJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25yZXNpemUoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuYXBwLnJlc2l6ZSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0gZnVuYyB7RnVuY3Rpb259XG5cdCAgICAgICAgICogQHBhcmFtIHBhcmFtc1xuXHQgICAgICAgICAqIEByZXR1cm5zIHtpbnRlcnZhbEZ1bmN9XG5cdCAgICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldEludGVydmFsRnVuY3Rpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnRlcnZhbEZ1bmN0aW9uKHRoZUFyZywgZnVuYykge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICAgICAgcGFyYW1zW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgZnVuY3Rpb24gaW50ZXJ2YWxGdW5jKCkge1xuXHQgICAgICAgICAgICAgICAgZnVuYy5hcHBseSh0aGVBcmcsIHBhcmFtcyk7XG5cdCAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZXlJbnRlcnZhbElkKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMua2V5SW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWxGdW5jLmJpbmQodGhpcyksIDIwMCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbEZ1bmMuYmluZCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY2xlYXJJbnRlckZ1bmN0aW9uJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJJbnRlckZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZXlJbnRlcnZhbElkKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25rZXlkb3duJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25rZXlkb3duKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5VUDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd5JywgLTEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkRPV046XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneScsIDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkxFRlQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneCcsIC0xKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5SSUdIVDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd4JywgMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUEFHRV9VUDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd6JywgMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUEFHRV9ET1dOOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3onLCAtMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3knLCAtMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzY6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3knLCAwLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfODpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneCcsIC0wLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneCcsIDAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl83OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgLTAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8xOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzk6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAtMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzM6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAwLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1QQURfQUREOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21JbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1QQURfU1VCVFJBQ1Q6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbU91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1QQURfRU5URVI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbU91dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5yZXNldCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5XOlxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5TOlxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5BOlxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5EOlxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29ua2V5dXAnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbmtleXVwKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5FU0NBUEU6XG5cdCAgICAgICAgICAgICAgICAgICAgY29uc29sZS5jbGVhcigpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHRcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuU1BBQ0U6XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBwLmd1aS5jbG9zZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuZ3VpLm9wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5ndWkuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5VUDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuRE9XTjpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTEVGVDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUklHSFQ6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlBBR0VfVVA6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlBBR0VfRE9XTjpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzQ6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl82OlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfODpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzI6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl83OlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMTpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzk6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8zOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1QQURfQUREOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1QQURfU1VCVFJBQ1Q6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Llc6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlM6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkE6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckludGVyRnVuY3Rpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkJBQ0tTUEFDRTpcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblxuXHQgICAgcmV0dXJuIE1haW47XG5cdH0oKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMzNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM1KTtcblx0XG5cdHZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXHRcblx0dmFyIF9nZW9idWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Mik7XG5cdFxuXHR2YXIgX2dlb2J1ZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW9idWYpO1xuXHRcblx0dmFyIF9wYmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NSk7XG5cdFxuXHR2YXIgX3BiZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYmYpO1xuXHRcblx0dmFyIF9yZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuXHRcblx0dmFyIF9yZXF1ZXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlcXVlc3QpO1xuXHRcblx0dmFyIF90ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcblx0XG5cdHZhciBfdGVtcGxhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVtcGxhdGUpO1xuXHRcblx0dmFyIF9nZXRUaW1lTGFiZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG5cdFxuXHR2YXIgX2dldFRpbWVMYWJlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRUaW1lTGFiZWwpO1xuXHRcblx0dmFyIF9leHBhbmRlZExvZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcblx0XG5cdHZhciBfdmVjdG9yVGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0LyoqXG5cdCAqIOyVhOuemCDso7zshozsnZggcGJm66W8IOy9lOunjOuPhOydmCDsiqTtg4DsnbzsnYQg7KeB7KCRIOuCtOugpOuwm+yVhOyEnCDtjIzsi7HtlZwg6rKD6rO8IOyYpOyhtOydmCDqsoPsnYQg67Cb7JWE7IScIO2ZleyduCDtlanri4jri6QuXG5cdCAqIGh0dHBzOi8vbWFwLm5hdmVyLmNvbS92NS8/Yz0xNDE0OTY3Mi43Mzc4ODE3LDQ0OTExOTkuNzIxOTk1MCwxNSwwLDAsMCxkaFxuXHQgKiDqt7jrpqzqs6Ag67Cb6rOgIO2MjOyLse2VmOuKlCDruYTsmqkg6rCc7IKw7J2EIO2VqeuLiOuLpC5cblx0ICovXG5cdC8vIGNvbnN0IHh5eiA9IHt4OiAyNzk1MywgeTogMTI3MTEsIHo6IDE1fTtcblx0Ly8gY29uc3QgeHl6ID0ge3g6IDI3OTU0LCB5OiAxMjcxMiwgejogMTV9O1xuXHQvLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzE0LCB6OiAxNX07XG5cdC8vIGNvbnN0IHh5eiA9IHt4OiAyNzk1MiwgeTogMTI3MTQsIHo6IDE1fTtcblx0Ly8g6re466aw7Yyp7Yag66asXG5cdHZhciB4eXogPSB7IHg6IDI3OTUzLCB5OiAxMjcxMywgejogMTUgfTtcblx0dmFyIHVybHMgPSB7XG5cdCAgYnVzOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZiL3dtdHMvYnVzL2QyZTM2NGM5LWI3NWUtNGZkNy04MDIwLWM0YjI2ZjgyYjljZS9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG5cdCAgcG9pX3dlYjogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252Yi93bXRzL3BvaV93ZWIvOGZlNjg4M2UtNTUyNS00NWY4LThmNTUtNWUzMGJjNDk4MWYxL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcblx0ICBwb2k0b3NtOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9vc21fbmF2ZXJfcG9pLzU2NTNlNzU3LTliZjEtNGEyZS1iMjBmLTg2YmI0YzBiOTkxMi9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG5cdCAgbmF2ZXI0b3NtOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9vc21fbmF2ZXJfZGF0YS9nZXRNZXRhZGF0YScsXG5cdCAgY2N0djogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252YnBjL3dtdHMvY2N0di9hYjUwYjI2Yy04NDJkLTRiZTUtOGIwYy00NjAxOWY1ZTc5YTEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuXHQgIG96b25lOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvb3pvbmUvcGJmL2dlb2pzb24vUE9JPycgKyAneD0nICsgeHl6LnggKyAnJicgKyAneT0nICsgeHl6LnkgKyAnICYnICsgJ3o9JyArIHh5ei56ICsgJyYnICsgJ25hbWU9b3NtX25hdmVyX3BvaSYnICsgJ3ZlcnNpb25Db2RlPTU2NTNlNzU3LTliZjEtNGEyZS1iMjBmLTg2YmI0YzBiOTkxMiYnICsgJ3BpeGVsUmF0aW89MiYnICsgJ2ltYWdlVHlwZT1zcHJpdGUmJyArICdsYW5ndWFnZT1rbyYnICsgJ21hcFR5cGU9Tk9STUFMJicgKyAncXVhbGl0eT1ub3JtYWwnXG5cdH07XG5cdFxuXHRmb3IgKHZhciBwcm9wIGluIHVybHMpIHtcblx0ICB1cmxzW3Byb3BdID0gKDAsIF90ZW1wbGF0ZTIuZGVmYXVsdCkodXJsc1twcm9wXSwgeHl6KTtcblx0fVxuXHRcblx0dmFyIEFwcCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBBcHAoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblx0XG5cdCAgICAvLyB0aGlzLnRlc3RQYmYodXJscy5idXMsICdidXMnKTtcblx0ICAgIC8vIHRoaXMudGVzdFBiZih1cmxzLmNjdHYsICdjY3R2Jyk7XG5cdCAgICB0aGlzLnRlc3RQYmYodXJscy5jY3R2LCAnY2N0dicpO1xuXHQgICAgdGhpcy50ZXN0UGJmKHVybHMucG9pX3dlYiwgJ25hdmVyNG9zbScpO1xuXHQgICAgdGhpcy50ZXN0UGJmKHVybHMucG9pNG9zbSwgJ3BvaTRvc20nKTtcblx0ICAgIHRoaXMudGVzdE96b25lKHVybHMub3pvbmUsICdvem9uZScpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcblx0ICAgIGtleTogJ3BhcnNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZSgpIHtcblx0ICAgICAgLy8gY29uc3QgcGJmID0gbmV3IFBiZihuZXcgVWludDhBcnJheShyZXNwb25zZSkpO1xuXHQgICAgICAvLyBjb25zdCB0aWxlID0gbmV3IFZlY3RvclRpbGUocGJmKTtcblx0ICAgICAgLy8gY29uc3QgdGlsZSA9IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b0J1ZihidWZmZXIpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0ZXN0UGJmJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0UGJmKHVybCwgdGltZUxhYmVsKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBjb25zb2xlLnRpbWUoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1Qjg1Q1xcdUI0REMnKSk7XG5cdCAgICAgICgwLCBfcmVxdWVzdDIuZGVmYXVsdCkoe1xuXHQgICAgICAgIHVybDogdXJsLFxuXHQgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuXHQgICAgICB9KS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0ICAgICAgICBjb25zb2xlLnRpbWVFbmQoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1Qjg1Q1xcdUI0REMnKSk7XG5cdCAgICAgICAgY29uc29sZS50aW1lKCgwLCBfZ2V0VGltZUxhYmVsMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIHBiZiBcXHVEMzBDXFx1QzJGMScpKTtcblx0ICAgICAgICB2YXIgdGlsZSA9IG5ldyBfdmVjdG9yVGlsZS5WZWN0b3JUaWxlKG5ldyBfcGJmMi5kZWZhdWx0KGJ1ZmZlcikpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBwYmYgXFx1RDMwQ1xcdUMyRjEnKSk7XG5cdCAgICAgICAgLy8gY29uc29sZS5sb2coc3RyaW5naWZ5KHRpbGUsIDIpKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyh0aWxlKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWUoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1RDUzQ1xcdUNDRDAgXFx1QzBERFxcdUMxMzEnKSk7XG5cdCAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBfdGhpcy5nZXRGZWF0dXJlcyh0aWxlKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWVFbmQoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1RDUzQ1xcdUNDRDAgXFx1QzBERFxcdUMxMzEnKSk7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmVzJywgY29sbGVjdGlvbi5mZWF0dXJlcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Rlc3RPem9uZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdGVzdE96b25lKHVybCwgdGltZUxhYmVsKSB7XG5cdCAgICAgIGNvbnNvbGUudGltZSgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVCODVDXFx1QjREQycpKTtcblx0ICAgICAgKDAsIF9yZXF1ZXN0Mi5kZWZhdWx0KSh7XG5cdCAgICAgICAgdXJsOiB1cmwsXG5cdCAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG5cdCAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVCODVDXFx1QjREQycpKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWUoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgcGJmIFxcdUQzMENcXHVDMkYxIFxcdUJDMEYgXFx1RDUzQ1xcdUNDRDAgXFx1QzBERFxcdUMxMzEnKSk7XG5cdFxuXHQgICAgICAgIHZhciBjb2xsZWN0aW9uID0ge1xuXHQgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcblx0ICAgICAgICAgIGZlYXR1cmVzOiBbXVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNvbGxlY3Rpb24gPSBfZ2VvYnVmMi5kZWZhdWx0LmRlY29kZShuZXcgX3BiZjIuZGVmYXVsdChidWZmZXIpKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWVFbmQoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgcGJmIFxcdUQzMENcXHVDMkYxIFxcdUJDMEYgXFx1RDUzQ1xcdUNDRDAgXFx1QzBERFxcdUMxMzEnKSk7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmVzJywgY29sbGVjdGlvbi5mZWF0dXJlcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEZlYXR1cmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGZWF0dXJlcyh0aWxlKSB7XG5cdCAgICAgIHZhciBjb2xsZWN0aW9uID0ge1xuXHQgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG5cdCAgICAgICAgZmVhdHVyZXM6IFtdXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgbGF5ZXJzID0gT2JqZWN0LmtleXModGlsZS5sYXllcnMpO1xuXHRcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxheWVycykpIHtcblx0ICAgICAgICBsYXllcnMgPSBbbGF5ZXJzXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgY29uc29sZS5sb2coJ2xheWVycyAoJyArIGxheWVycy5sZW5ndGggKyAnKScpO1xuXHQgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXJJRCkge1xuXHQgICAgICAgIHZhciBsYXllciA9IHRpbGUubGF5ZXJzW2xheWVySURdO1xuXHRcblx0ICAgICAgICB2YXIgbGVuID0gbGF5ZXIubGVuZ3RoO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XG5cdCAgICAgICAgICB2YXIgZmVhdHVyZSA9IF9leHRlbmRzKHt9LCBsYXllci5mZWF0dXJlKGkpLnRvR2VvSlNPTih4eXoueCwgeHl6LnksIHh5ei56KSk7XG5cdFxuXHQgICAgICAgICAgaWYgKGxlbiA+IDApIHtcblx0ICAgICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzLmxheWVyID0gbGF5ZXJJRDtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmVhdHVyZScsIGZlYXR1cmUpO1xuXHQgICAgICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmUnLCBKU09OLnN0cmluZ2lmeShmZWF0dXJlLCBudWxsLCAyKSk7XG5cdCAgICAgICAgICBjb2xsZWN0aW9uLmZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jlc2l6ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge31cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBBcHA7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFwcDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMzNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM2KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMzNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdHZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzgpO1xuXHR2YXIgQXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MCk7XG5cdHZhciBtZXJnZUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU4KTtcblx0dmFyIGRlZmF1bHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDYpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuXHQgKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3Ncblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcblx0ICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcblx0ICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblx0XG5cdCAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2Vcblx0ICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cdFxuXHQgIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuXHQgIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cdFxuXHQgIHJldHVybiBpbnN0YW5jZTtcblx0fVxuXHRcblx0Ly8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5cdHZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblx0XG5cdC8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuXHRheGlvcy5BeGlvcyA9IEF4aW9zO1xuXHRcblx0Ly8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuXHRheGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcblx0ICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoYXhpb3MuZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG5cdH07XG5cdFxuXHQvLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cblx0YXhpb3MuQ2FuY2VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTkpO1xuXHRheGlvcy5DYW5jZWxUb2tlbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzYwKTtcblx0YXhpb3MuaXNDYW5jZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSk7XG5cdFxuXHQvLyBFeHBvc2UgYWxsL3NwcmVhZFxuXHRheGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcblx0ICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXHR9O1xuXHRheGlvcy5zcHJlYWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXHRcblx0Ly8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5cdG1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzgpO1xuXHR2YXIgaXNCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOSk7XG5cdFxuXHQvKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblx0XG5cdC8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cdFxuXHR2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcblx0ICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG5cdCAgdmFyIHJlc3VsdDtcblx0ICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG5cdCAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuXHQgIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuXHQgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuXHQgIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuXHQgKi9cblx0ZnVuY3Rpb24gdHJpbShzdHIpIHtcblx0ICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG5cdCAqXG5cdCAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG5cdCAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cblx0ICpcblx0ICogd2ViIHdvcmtlcnM6XG5cdCAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuXHQgKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuXHQgKlxuXHQgKiByZWFjdC1uYXRpdmU6XG5cdCAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG5cdCAqIG5hdGl2ZXNjcmlwdFxuXHQgKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuXHQgKi9cblx0ZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG5cdCAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuIChcblx0ICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG5cdCAgKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuXHQgKlxuXHQgKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG5cdCAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuXHQgKlxuXHQgKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuXHQgKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG5cdCAqL1xuXHRmdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcblx0ICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcblx0ICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHRcblx0ICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcblx0ICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcblx0ICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuXHQgICAgb2JqID0gW29ial07XG5cdCAgfVxuXHRcblx0ICBpZiAoaXNBcnJheShvYmopKSB7XG5cdCAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG5cdCAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuXHQgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuXHQgICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cblx0ICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG5cdCAqXG5cdCAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG5cdCAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cblx0ICpcblx0ICogRXhhbXBsZTpcblx0ICpcblx0ICogYGBganNcblx0ICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuXHQgKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcblx0ICovXG5cdGZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuXHQgIHZhciByZXN1bHQgPSB7fTtcblx0ICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuXHQgICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogRnVuY3Rpb24gZXF1YWwgdG8gbWVyZ2Ugd2l0aCB0aGUgZGlmZmVyZW5jZSBiZWluZyB0aGF0IG5vIHJlZmVyZW5jZVxuXHQgKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG5cdCAqXG5cdCAqIEBzZWUgbWVyZ2Vcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuXHQgKi9cblx0ZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuXHQgIHZhciByZXN1bHQgPSB7fTtcblx0ICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuXHQgICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cblx0ICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuXHQgKi9cblx0ZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcblx0ICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG5cdCAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGFba2V5XSA9IHZhbDtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gYTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgaXNBcnJheTogaXNBcnJheSxcblx0ICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuXHQgIGlzQnVmZmVyOiBpc0J1ZmZlcixcblx0ICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuXHQgIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcblx0ICBpc1N0cmluZzogaXNTdHJpbmcsXG5cdCAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuXHQgIGlzT2JqZWN0OiBpc09iamVjdCxcblx0ICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG5cdCAgaXNEYXRlOiBpc0RhdGUsXG5cdCAgaXNGaWxlOiBpc0ZpbGUsXG5cdCAgaXNCbG9iOiBpc0Jsb2IsXG5cdCAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcblx0ICBpc1N0cmVhbTogaXNTdHJlYW0sXG5cdCAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuXHQgIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcblx0ICBmb3JFYWNoOiBmb3JFYWNoLFxuXHQgIG1lcmdlOiBtZXJnZSxcblx0ICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcblx0ICBleHRlbmQ6IGV4dGVuZCxcblx0ICB0cmltOiB0cmltXG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDMzODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIVxuXHQgKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG5cdCAqXG5cdCAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG5cdCAqIEBsaWNlbnNlICBNSVRcblx0ICovXG5cdFxuXHQvLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG5cdC8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuXHQgIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG5cdH1cblx0XG5cdC8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5cdGZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG5cdH1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0dmFyIGJ1aWxkVVJMID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDEpO1xuXHR2YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpO1xuXHR2YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDMpO1xuXHR2YXIgbWVyZ2VDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuXHQgKi9cblx0ZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcblx0ICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG5cdCAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG5cdCAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG5cdCAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERpc3BhdGNoIGEgcmVxdWVzdFxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcblx0ICovXG5cdEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcblx0ICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cblx0ICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG5cdCAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG5cdCAgICBjb25maWcgPSBhcmd1bWVudHNbMV0gfHwge307XG5cdCAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBjb25maWcgPSBjb25maWcgfHwge307XG5cdCAgfVxuXHRcblx0ICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXHQgIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kID8gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpIDogJ2dldCc7XG5cdFxuXHQgIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcblx0ICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuXHQgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cdFxuXHQgIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuXHQgICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcblx0ICB9KTtcblx0XG5cdCAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcblx0ICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG5cdCAgfSk7XG5cdFxuXHQgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcblx0ICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gcHJvbWlzZTtcblx0fTtcblx0XG5cdEF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG5cdCAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblx0ICByZXR1cm4gYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLCAnJyk7XG5cdH07XG5cdFxuXHQvLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcblx0dXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG5cdCAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblx0ICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuXHQgICAgICBtZXRob2Q6IG1ldGhvZCxcblx0ICAgICAgdXJsOiB1cmxcblx0ICAgIH0pKTtcblx0ICB9O1xuXHR9KTtcblx0XG5cdHV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG5cdCAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblx0ICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuXHQgICAgICBtZXRob2Q6IG1ldGhvZCxcblx0ICAgICAgdXJsOiB1cmwsXG5cdCAgICAgIGRhdGE6IGRhdGFcblx0ICAgIH0pKTtcblx0ICB9O1xuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHRmdW5jdGlvbiBlbmNvZGUodmFsKSB7XG5cdCAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuXHQgICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuXHQgICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuXHQgICAgcmVwbGFjZSgvJTI0L2csICckJykuXG5cdCAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG5cdCAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cblx0ICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cblx0ICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcblx0ICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcblx0ICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcblx0ICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cblx0ICBpZiAoIXBhcmFtcykge1xuXHQgICAgcmV0dXJuIHVybDtcblx0ICB9XG5cdFxuXHQgIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuXHQgIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG5cdCAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuXHQgIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuXHQgICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgcGFydHMgPSBbXTtcblx0XG5cdCAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG5cdCAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcblx0ICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbCA9IFt2YWxdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG5cdCAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuXHQgICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG5cdCAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG5cdCAgfVxuXHRcblx0ICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuXHQgICAgdmFyIGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuXHQgICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG5cdCAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcblx0ICAgIH1cblx0XG5cdCAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdXJsO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0ZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuXHQgIHRoaXMuaGFuZGxlcnMgPSBbXTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuXHQgKlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG5cdCAqL1xuXHRJbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG5cdCAgdGhpcy5oYW5kbGVycy5wdXNoKHtcblx0ICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuXHQgICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG5cdCAgfSk7XG5cdCAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcblx0ICpcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuXHQgKi9cblx0SW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG5cdCAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG5cdCAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG5cdCAqXG5cdCAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG5cdCAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuXHQgKi9cblx0SW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuXHQgIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuXHQgICAgaWYgKGggIT09IG51bGwpIHtcblx0ICAgICAgZm4oaCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0dmFyIHRyYW5zZm9ybURhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG5cdHZhciBpc0NhbmNlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ1KTtcblx0dmFyIGRlZmF1bHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDYpO1xuXHR2YXIgaXNBYnNvbHV0ZVVSTCA9IF9fd2VicGFja19yZXF1aXJlX18oMzU2KTtcblx0dmFyIGNvbWJpbmVVUkxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTcpO1xuXHRcblx0LyoqXG5cdCAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuXHQgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcblx0ICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3Rcblx0ICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG5cdCAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXHRcblx0ICAvLyBTdXBwb3J0IGJhc2VVUkwgY29uZmlnXG5cdCAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG5cdCAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuXHQgIH1cblx0XG5cdCAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3Rcblx0ICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuXHRcblx0ICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG5cdCAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuXHQgICAgY29uZmlnLmRhdGEsXG5cdCAgICBjb25maWcuaGVhZGVycyxcblx0ICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG5cdCAgKTtcblx0XG5cdCAgLy8gRmxhdHRlbiBoZWFkZXJzXG5cdCAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcblx0ICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcblx0ICAgIGNvbmZpZy5oZWFkZXJzW2NvbmZpZy5tZXRob2RdIHx8IHt9LFxuXHQgICAgY29uZmlnLmhlYWRlcnMgfHwge31cblx0ICApO1xuXHRcblx0ICB1dGlscy5mb3JFYWNoKFxuXHQgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG5cdCAgICBmdW5jdGlvbiBjbGVhbkhlYWRlckNvbmZpZyhtZXRob2QpIHtcblx0ICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG5cdCAgICB9XG5cdCAgKTtcblx0XG5cdCAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXHRcblx0ICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuXHQgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXHRcblx0ICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG5cdCAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcblx0ICAgICAgcmVzcG9uc2UuZGF0YSxcblx0ICAgICAgcmVzcG9uc2UuaGVhZGVycyxcblx0ICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG5cdCAgICApO1xuXHRcblx0ICAgIHJldHVybiByZXNwb25zZTtcblx0ICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG5cdCAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcblx0ICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXHRcblx0ICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcblx0ICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcblx0ICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG5cdCAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcblx0ICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuXHQgICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuXHQgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2Vcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG5cdCAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcblx0ICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuXHQgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuXHQgIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcblx0ICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGRhdGE7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdHZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDgpO1xuXHRcblx0dmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuXHQgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG5cdCAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcblx0ICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcblx0ICB2YXIgYWRhcHRlcjtcblx0ICAvLyBPbmx5IE5vZGUuSlMgaGFzIGEgcHJvY2VzcyB2YXJpYWJsZSB0aGF0IGlzIG9mIFtbQ2xhc3NdXSBwcm9jZXNzXG5cdCAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuXHQgICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuXHQgICAgYWRhcHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ5KTtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcblx0ICAgIGFkYXB0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OSk7XG5cdCAgfVxuXHQgIHJldHVybiBhZGFwdGVyO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdCAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblx0XG5cdCAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuXHQgICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG5cdCAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcblx0ICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG5cdCAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcblx0ICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcblx0ICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcblx0ICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG5cdCAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuXHQgICAgKSB7XG5cdCAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgfVxuXHQgICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG5cdCAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcblx0ICAgIH1cblx0ICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuXHQgICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG5cdCAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG5cdCAgICB9XG5cdCAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcblx0ICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcblx0ICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGE7XG5cdCAgfV0sXG5cdFxuXHQgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuXHQgICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG5cdCAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRhO1xuXHQgIH1dLFxuXHRcblx0ICAvKipcblx0ICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcblx0ICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuXHQgICAqL1xuXHQgIHRpbWVvdXQ6IDAsXG5cdFxuXHQgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG5cdCAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXHRcblx0ICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblx0XG5cdCAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuXHQgICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuXHQgIH1cblx0fTtcblx0XG5cdGRlZmF1bHRzLmhlYWRlcnMgPSB7XG5cdCAgY29tbW9uOiB7XG5cdCAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcblx0ICB9XG5cdH07XG5cdFxuXHR1dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG5cdCAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG5cdH0pO1xuXHRcblx0dXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcblx0ICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NykpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcblx0ICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcblx0ICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcblx0ICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdHZhciBzZXR0bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MCk7XG5cdHZhciBidWlsZFVSTCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQxKTtcblx0dmFyIHBhcnNlSGVhZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUzKTtcblx0dmFyIGlzVVJMU2FtZU9yaWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzU0KTtcblx0dmFyIGNyZWF0ZUVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuXHQgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcblx0ICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuXHRcblx0ICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuXHQgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XG5cdCAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG5cdCAgICBpZiAoY29uZmlnLmF1dGgpIHtcblx0ICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG5cdCAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuXHQgICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cdFxuXHQgICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcblx0ICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXHRcblx0ICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcblx0ICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcblx0ICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG5cdCAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG5cdCAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG5cdCAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3Rcblx0ICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuXHQgICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG5cdCAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG5cdCAgICAgIHZhciByZXNwb25zZSA9IHtcblx0ICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG5cdCAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcblx0ICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG5cdCAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuXHQgICAgICAgIGNvbmZpZzogY29uZmlnLFxuXHQgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3Rcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblx0XG5cdCAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3Rcblx0ICAgICAgcmVxdWVzdCA9IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcblx0ICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuXHQgICAgICBpZiAoIXJlcXVlc3QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXHRcblx0ICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuXHQgICAgICByZXF1ZXN0ID0gbnVsbDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuXHQgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG5cdCAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuXHQgICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3Jcblx0ICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cdFxuXHQgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG5cdCAgICAgIHJlcXVlc3QgPSBudWxsO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBIYW5kbGUgdGltZW91dFxuXHQgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuXHQgICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcblx0ICAgICAgICByZXF1ZXN0KSk7XG5cdFxuXHQgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG5cdCAgICAgIHJlcXVlc3QgPSBudWxsO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBBZGQgeHNyZiBoZWFkZXJcblx0ICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuXHQgICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cblx0ICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG5cdCAgICAgIHZhciBjb29raWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTUpO1xuXHRcblx0ICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG5cdCAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG5cdCAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuXHQgICAgICAgIHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIGlmICh4c3JmVmFsdWUpIHtcblx0ICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3Rcblx0ICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuXHQgICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG5cdCAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG5cdCAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3Rcblx0ICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG5cdCAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuXHQgICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuXHQgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG5cdCAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cblx0ICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG5cdCAgICAgICAgICB0aHJvdyBlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcblx0ICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcblx0ICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcblx0ICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuXHQgICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG5cdCAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcblx0ICAgICAgICBpZiAoIXJlcXVlc3QpIHtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcblx0ICAgICAgICByZWplY3QoY2FuY2VsKTtcblx0ICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG5cdCAgICAgICAgcmVxdWVzdCA9IG51bGw7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG5cdCAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuXHQgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGNyZWF0ZUVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTEpO1xuXHRcblx0LyoqXG5cdCAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG5cdCAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuXHQgIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuXHQgICAgcmVzb2x2ZShyZXNwb25zZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJlamVjdChjcmVhdGVFcnJvcihcblx0ICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcblx0ICAgICAgcmVzcG9uc2UuY29uZmlnLFxuXHQgICAgICBudWxsLFxuXHQgICAgICByZXNwb25zZS5yZXF1ZXN0LFxuXHQgICAgICByZXNwb25zZVxuXHQgICAgKSk7XG5cdCAgfVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGVuaGFuY2VFcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzUyKTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuXHQgIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuXHQgIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcblx0ICBpZiAoY29kZSkge1xuXHQgICAgZXJyb3IuY29kZSA9IGNvZGU7XG5cdCAgfVxuXHRcblx0ICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcblx0ICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuXHQgIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cdFxuXHQgIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgLy8gU3RhbmRhcmRcblx0ICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuXHQgICAgICBuYW1lOiB0aGlzLm5hbWUsXG5cdCAgICAgIC8vIE1pY3Jvc29mdFxuXHQgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcblx0ICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcblx0ICAgICAgLy8gTW96aWxsYVxuXHQgICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcblx0ICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuXHQgICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuXHQgICAgICBzdGFjazogdGhpcy5zdGFjayxcblx0ICAgICAgLy8gQXhpb3Ncblx0ICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcblx0ICAgICAgY29kZTogdGhpcy5jb2RlXG5cdCAgICB9O1xuXHQgIH07XG5cdCAgcmV0dXJuIGVycm9yO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0Ly8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcblx0Ly8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuXHR2YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG5cdCAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcblx0ICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG5cdCAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuXHQgICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5cdF07XG5cdFxuXHQvKipcblx0ICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuXHQgKlxuXHQgKiBgYGBcblx0ICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcblx0ICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG5cdCAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcblx0ICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcblx0ICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3Rcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcblx0ICB2YXIgcGFyc2VkID0ge307XG5cdCAgdmFyIGtleTtcblx0ICB2YXIgdmFsO1xuXHQgIHZhciBpO1xuXHRcblx0ICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXHRcblx0ICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuXHQgICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuXHQgICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcblx0ICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblx0XG5cdCAgICBpZiAoa2V5KSB7XG5cdCAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcblx0ICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcGFyc2VkO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cdFxuXHQgIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuXHQgIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuXHQgICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcblx0ICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHQgICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdCAgICAgIHZhciBvcmlnaW5VUkw7XG5cdFxuXHQgICAgICAvKipcblx0ICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcblx0ICAgICogQHJldHVybnMge09iamVjdH1cblx0ICAgICovXG5cdCAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG5cdCAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cdFxuXHQgICAgICAgIGlmIChtc2llKSB7XG5cdCAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuXHQgICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cdCAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXHRcblx0ICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG5cdCAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuXHQgICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcblx0ICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcblx0ICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG5cdCAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG5cdCAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuXHQgICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuXHQgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG5cdCAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cdFxuXHQgICAgICAvKipcblx0ICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG5cdCAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2Vcblx0ICAgICovXG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuXHQgICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG5cdCAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuXHQgICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuXHQgICAgICB9O1xuXHQgICAgfSkoKSA6XG5cdFxuXHQgIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG5cdCAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9O1xuXHQgICAgfSkoKVxuXHQpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cdFxuXHQgIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuXHQgICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG5cdCAgICAgICAgICB2YXIgY29va2llID0gW107XG5cdCAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cdFxuXHQgICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG5cdCAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcblx0ICAgICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG5cdCAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG5cdCAgICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuXHQgICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG5cdCAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0ICAgIH0pKCkgOlxuXHRcblx0ICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG5cdCAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuXHQgICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuXHQgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cblx0ICAgICAgfTtcblx0ICAgIH0pKClcblx0KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuXHQgIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cblx0ICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcblx0ICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cblx0ICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcblx0ICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuXHQgIHJldHVybiByZWxhdGl2ZVVSTFxuXHQgICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcblx0ICAgIDogYmFzZVVSTDtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdC8qKlxuXHQgKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG5cdCAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcblx0ICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdCAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG5cdCAgdmFyIGNvbmZpZyA9IHt9O1xuXHRcblx0ICB1dGlscy5mb3JFYWNoKFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddLCBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKHByb3ApIHtcblx0ICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdXRpbHMuZm9yRWFjaChbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddLCBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKHByb3ApIHtcblx0ICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuXHQgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChjb25maWcxW3Byb3BdKSkge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICB1dGlscy5mb3JFYWNoKFtcblx0ICAgICdiYXNlVVJMJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG5cdCAgICAndGltZW91dCcsICd3aXRoQ3JlZGVudGlhbHMnLCAnYWRhcHRlcicsICdyZXNwb25zZVR5cGUnLCAneHNyZkNvb2tpZU5hbWUnLFxuXHQgICAgJ3hzcmZIZWFkZXJOYW1lJywgJ29uVXBsb2FkUHJvZ3Jlc3MnLCAnb25Eb3dubG9hZFByb2dyZXNzJywgJ21heENvbnRlbnRMZW5ndGgnLFxuXHQgICAgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLCAnaHR0cHNBZ2VudCcsICdjYW5jZWxUb2tlbicsXG5cdCAgICAnc29ja2V0UGF0aCdcblx0ICBdLCBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKHByb3ApIHtcblx0ICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBjb25maWc7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG5cdCAqXG5cdCAqIEBjbGFzc1xuXHQgKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuXHQgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cblx0XG5cdENhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0ICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcblx0fTtcblx0XG5cdENhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzYwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBDYW5jZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG5cdFxuXHQvKipcblx0ICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cblx0ICpcblx0ICogQGNsYXNzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG5cdCAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIHJlc29sdmVQcm9taXNlO1xuXHQgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG5cdCAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG5cdCAgfSk7XG5cdFxuXHQgIHZhciB0b2tlbiA9IHRoaXM7XG5cdCAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcblx0ICAgIGlmICh0b2tlbi5yZWFzb24pIHtcblx0ICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuXHQgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG5cdCAqL1xuXHRDYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG5cdCAgaWYgKHRoaXMucmVhc29uKSB7XG5cdCAgICB0aHJvdyB0aGlzLnJlYXNvbjtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuXHQgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuXHQgKi9cblx0Q2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuXHQgIHZhciBjYW5jZWw7XG5cdCAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcblx0ICAgIGNhbmNlbCA9IGM7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHRva2VuOiB0b2tlbixcblx0ICAgIGNhbmNlbDogY2FuY2VsXG5cdCAgfTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cblx0ICpcblx0ICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cblx0ICpcblx0ICogIGBgYGpzXG5cdCAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG5cdCAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcblx0ICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG5cdCAqICBgYGBcblx0ICpcblx0ICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG5cdCAqXG5cdCAqICBgYGBqc1xuXHQgKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuXHQgKiAgYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG5cdCAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5lbmNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Myk7XG5cdGV4cG9ydHMuZGVjb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjQpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBlbmNvZGU7XG5cdFxuXHR2YXIga2V5cywga2V5c051bSwga2V5c0FyciwgZGltLCBlLFxuXHQgICAgbWF4UHJlY2lzaW9uID0gMWU2O1xuXHRcblx0dmFyIGdlb21ldHJ5VHlwZXMgPSB7XG5cdCAgICAnUG9pbnQnOiAwLFxuXHQgICAgJ011bHRpUG9pbnQnOiAxLFxuXHQgICAgJ0xpbmVTdHJpbmcnOiAyLFxuXHQgICAgJ011bHRpTGluZVN0cmluZyc6IDMsXG5cdCAgICAnUG9seWdvbic6IDQsXG5cdCAgICAnTXVsdGlQb2x5Z29uJzogNSxcblx0ICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiA2XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBlbmNvZGUob2JqLCBwYmYpIHtcblx0ICAgIGtleXMgPSB7fTtcblx0ICAgIGtleXNBcnIgPSBbXTtcblx0ICAgIGtleXNOdW0gPSAwO1xuXHQgICAgZGltID0gMDtcblx0ICAgIGUgPSAxO1xuXHRcblx0ICAgIGFuYWx5emUob2JqKTtcblx0XG5cdCAgICBlID0gTWF0aC5taW4oZSwgbWF4UHJlY2lzaW9uKTtcblx0ICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLmNlaWwoTWF0aC5sb2coZSkgLyBNYXRoLkxOMTApO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0Fyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU3RyaW5nRmllbGQoMSwga2V5c0FycltpXSk7XG5cdCAgICBpZiAoZGltICE9PSAyKSBwYmYud3JpdGVWYXJpbnRGaWVsZCgyLCBkaW0pO1xuXHQgICAgaWYgKHByZWNpc2lvbiAhPT0gNikgcGJmLndyaXRlVmFyaW50RmllbGQoMywgcHJlY2lzaW9uKTtcblx0XG5cdCAgICBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHBiZi53cml0ZU1lc3NhZ2UoNCwgd3JpdGVGZWF0dXJlQ29sbGVjdGlvbiwgb2JqKTtcblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZScpIHBiZi53cml0ZU1lc3NhZ2UoNSwgd3JpdGVGZWF0dXJlLCBvYmopO1xuXHQgICAgZWxzZSBwYmYud3JpdGVNZXNzYWdlKDYsIHdyaXRlR2VvbWV0cnksIG9iaik7XG5cdFxuXHQgICAga2V5cyA9IG51bGw7XG5cdFxuXHQgICAgcmV0dXJuIHBiZi5maW5pc2goKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYW5hbHl6ZShvYmopIHtcblx0ICAgIHZhciBpLCBrZXk7XG5cdFxuXHQgICAgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5mZWF0dXJlcy5sZW5ndGg7IGkrKykgYW5hbHl6ZShvYmouZmVhdHVyZXNbaV0pO1xuXHRcblx0ICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlJykge1xuXHQgICAgICAgIGlmIChvYmouZ2VvbWV0cnkgIT09IG51bGwpIGFuYWx5emUob2JqLmdlb21ldHJ5KTtcblx0ICAgICAgICBmb3IgKGtleSBpbiBvYmoucHJvcGVydGllcykgc2F2ZUtleShrZXkpO1xuXHRcblx0ICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICdQb2ludCcpIGFuYWx5emVQb2ludChvYmouY29vcmRpbmF0ZXMpO1xuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdNdWx0aVBvaW50JykgYW5hbHl6ZVBvaW50cyhvYmouY29vcmRpbmF0ZXMpO1xuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5nZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSBhbmFseXplKG9iai5nZW9tZXRyaWVzW2ldKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnTGluZVN0cmluZycpIGFuYWx5emVQb2ludHMob2JqLmNvb3JkaW5hdGVzKTtcblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnUG9seWdvbicgfHwgb2JqLnR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSBhbmFseXplTXVsdGlMaW5lKG9iai5jb29yZGluYXRlcyk7XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSBhbmFseXplTXVsdGlMaW5lKG9iai5jb29yZGluYXRlc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChrZXkgaW4gb2JqKSB7XG5cdCAgICAgICAgaWYgKCFpc1NwZWNpYWxLZXkoa2V5LCBvYmoudHlwZSkpIHNhdmVLZXkoa2V5KTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYW5hbHl6ZU11bHRpTGluZShjb29yZHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSBhbmFseXplUG9pbnRzKGNvb3Jkc1tpXSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFuYWx5emVQb2ludHMoY29vcmRzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgYW5hbHl6ZVBvaW50KGNvb3Jkc1tpXSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFuYWx5emVQb2ludChwb2ludCkge1xuXHQgICAgZGltID0gTWF0aC5tYXgoZGltLCBwb2ludC5sZW5ndGgpO1xuXHRcblx0ICAgIC8vIGZpbmQgbWF4IHByZWNpc2lvblxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHdoaWxlIChNYXRoLnJvdW5kKHBvaW50W2ldICogZSkgLyBlICE9PSBwb2ludFtpXSAmJiBlIDwgbWF4UHJlY2lzaW9uKSBlICo9IDEwO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlS2V5KGtleSkge1xuXHQgICAgaWYgKGtleXNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAga2V5c0Fyci5wdXNoKGtleSk7XG5cdCAgICAgICAga2V5c1trZXldID0ga2V5c051bSsrO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUZlYXR1cmVDb2xsZWN0aW9uKG9iaiwgcGJmKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHBiZi53cml0ZU1lc3NhZ2UoMSwgd3JpdGVGZWF0dXJlLCBvYmouZmVhdHVyZXNbaV0pO1xuXHQgICAgfVxuXHQgICAgd3JpdGVQcm9wcyhvYmosIHBiZiwgdHJ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlRmVhdHVyZShmZWF0dXJlLCBwYmYpIHtcblx0ICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ICE9PSBudWxsKSBwYmYud3JpdGVNZXNzYWdlKDEsIHdyaXRlR2VvbWV0cnksIGZlYXR1cmUuZ2VvbWV0cnkpO1xuXHRcblx0ICAgIGlmIChmZWF0dXJlLmlkICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmUuaWQgPT09ICdudW1iZXInICYmIGZlYXR1cmUuaWQgJSAxID09PSAwKSBwYmYud3JpdGVTVmFyaW50RmllbGQoMTIsIGZlYXR1cmUuaWQpO1xuXHQgICAgICAgIGVsc2UgcGJmLndyaXRlU3RyaW5nRmllbGQoMTEsIGZlYXR1cmUuaWQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHdyaXRlUHJvcHMoZmVhdHVyZS5wcm9wZXJ0aWVzLCBwYmYpO1xuXHQgICAgd3JpdGVQcm9wcyhmZWF0dXJlLCBwYmYsIHRydWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUdlb21ldHJ5KGdlb20sIHBiZikge1xuXHQgICAgcGJmLndyaXRlVmFyaW50RmllbGQoMSwgZ2VvbWV0cnlUeXBlc1tnZW9tLnR5cGVdKTtcblx0XG5cdCAgICB2YXIgY29vcmRzID0gZ2VvbS5jb29yZGluYXRlcztcblx0XG5cdCAgICBpZiAoZ2VvbS50eXBlID09PSAnUG9pbnQnKSB3cml0ZVBvaW50KGNvb3JkcywgcGJmKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ011bHRpUG9pbnQnKSB3cml0ZUxpbmUoY29vcmRzLCBwYmYsIHRydWUpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTGluZVN0cmluZycpIHdyaXRlTGluZShjb29yZHMsIHBiZik7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSB3cml0ZU11bHRpTGluZShjb29yZHMsIHBiZik7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdQb2x5Z29uJykgd3JpdGVNdWx0aUxpbmUoY29vcmRzLCBwYmYsIHRydWUpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlQb2x5Z29uJykgd3JpdGVNdWx0aVBvbHlnb24oY29vcmRzLCBwYmYpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbS5nZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVNZXNzYWdlKDQsIHdyaXRlR2VvbWV0cnksIGdlb20uZ2VvbWV0cmllc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgd3JpdGVQcm9wcyhnZW9tLCBwYmYsIHRydWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZVByb3BzKHByb3BzLCBwYmYsIGlzQ3VzdG9tKSB7XG5cdCAgICB2YXIgaW5kZXhlcyA9IFtdLFxuXHQgICAgICAgIHZhbHVlSW5kZXggPSAwO1xuXHRcblx0ICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuXHQgICAgICAgIGlmIChpc0N1c3RvbSAmJiBpc1NwZWNpYWxLZXkoa2V5LCBwcm9wcy50eXBlKSkge1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxMywgd3JpdGVWYWx1ZSwgcHJvcHNba2V5XSk7XG5cdCAgICAgICAgaW5kZXhlcy5wdXNoKGtleXNba2V5XSk7XG5cdCAgICAgICAgaW5kZXhlcy5wdXNoKHZhbHVlSW5kZXgrKyk7XG5cdCAgICB9XG5cdCAgICBwYmYud3JpdGVQYWNrZWRWYXJpbnQoaXNDdXN0b20gPyAxNSA6IDE0LCBpbmRleGVzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVWYWx1ZSh2YWx1ZSwgcGJmKSB7XG5cdCAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcblx0XG5cdCAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0XG5cdCAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIHZhbHVlKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykgcGJmLndyaXRlQm9vbGVhbkZpZWxkKDUsIHZhbHVlKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSBwYmYud3JpdGVTdHJpbmdGaWVsZCg2LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICBpZiAodmFsdWUgJSAxICE9PSAwKSBwYmYud3JpdGVEb3VibGVGaWVsZCgyLCB2YWx1ZSk7XG5cdCAgICAgICAgZWxzZSBpZiAodmFsdWUgPj0gMCkgcGJmLndyaXRlVmFyaW50RmllbGQoMywgdmFsdWUpO1xuXHQgICAgICAgIGVsc2UgcGJmLndyaXRlVmFyaW50RmllbGQoNCwgLXZhbHVlKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVQb2ludChwb2ludCwgcGJmKSB7XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSBjb29yZHMucHVzaChNYXRoLnJvdW5kKHBvaW50W2ldICogZSkpO1xuXHQgICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUxpbmUobGluZSwgcGJmKSB7XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lKTtcblx0ICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVNdWx0aUxpbmUobGluZXMsIHBiZiwgY2xvc2VkKSB7XG5cdCAgICB2YXIgbGVuID0gbGluZXMubGVuZ3RoLFxuXHQgICAgICAgIGk7XG5cdCAgICBpZiAobGVuICE9PSAxKSB7XG5cdCAgICAgICAgdmFyIGxlbmd0aHMgPSBbXTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIGxlbmd0aHMucHVzaChsaW5lc1tpXS5sZW5ndGggLSAoY2xvc2VkID8gMSA6IDApKTtcblx0ICAgICAgICBwYmYud3JpdGVQYWNrZWRWYXJpbnQoMiwgbGVuZ3Rocyk7XG5cdCAgICAgICAgLy8gVE9ETyBmYXN0ZXIgd2l0aCBjdXN0b20gd3JpdGVNZXNzYWdlP1xuXHQgICAgfVxuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lc1tpXSwgY2xvc2VkKTtcblx0ICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVNdWx0aVBvbHlnb24ocG9seWdvbnMsIHBiZikge1xuXHQgICAgdmFyIGxlbiA9IHBvbHlnb25zLmxlbmd0aCxcblx0ICAgICAgICBpLCBqO1xuXHQgICAgaWYgKGxlbiAhPT0gMSB8fCBwb2x5Z29uc1swXS5sZW5ndGggIT09IDEpIHtcblx0ICAgICAgICB2YXIgbGVuZ3RocyA9IFtsZW5dO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICBsZW5ndGhzLnB1c2gocG9seWdvbnNbaV0ubGVuZ3RoKTtcblx0ICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBvbHlnb25zW2ldLmxlbmd0aDsgaisrKSBsZW5ndGhzLnB1c2gocG9seWdvbnNbaV1bal0ubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHBiZi53cml0ZVBhY2tlZFZhcmludCgyLCBsZW5ndGhzKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBmb3IgKGogPSAwOyBqIDwgcG9seWdvbnNbaV0ubGVuZ3RoOyBqKyspIHBvcHVsYXRlTGluZShjb29yZHMsIHBvbHlnb25zW2ldW2pdLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcG9wdWxhdGVMaW5lKGNvb3JkcywgbGluZSwgY2xvc2VkKSB7XG5cdCAgICB2YXIgaSwgaixcblx0ICAgICAgICBsZW4gPSBsaW5lLmxlbmd0aCAtIChjbG9zZWQgPyAxIDogMCksXG5cdCAgICAgICAgc3VtID0gbmV3IEFycmF5KGRpbSk7XG5cdCAgICBmb3IgKGogPSAwOyBqIDwgZGltOyBqKyspIHN1bVtqXSA9IDA7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBmb3IgKGogPSAwOyBqIDwgZGltOyBqKyspIHtcblx0ICAgICAgICAgICAgdmFyIG4gPSBNYXRoLnJvdW5kKGxpbmVbaV1bal0gKiBlKSAtIHN1bVtqXTtcblx0ICAgICAgICAgICAgY29vcmRzLnB1c2gobik7XG5cdCAgICAgICAgICAgIHN1bVtqXSArPSBuO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTcGVjaWFsS2V5KGtleSwgdHlwZSkge1xuXHQgICAgaWYgKGtleSA9PT0gJ3R5cGUnKSByZXR1cm4gdHJ1ZTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSAnZmVhdHVyZXMnKSByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gJ2lkJyB8fCBrZXkgPT09ICdwcm9wZXJ0aWVzJyB8fCBrZXkgPT09ICdnZW9tZXRyeScpIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdnZW9tZXRyaWVzJykgcmV0dXJuIHRydWU7XG5cdCAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Nvb3JkaW5hdGVzJykgcmV0dXJuIHRydWU7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZGVjb2RlO1xuXHRcblx0dmFyIGtleXMsIHZhbHVlcywgbGVuZ3RocywgZGltLCBlO1xuXHRcblx0dmFyIGdlb21ldHJ5VHlwZXMgPSBbXG5cdCAgICAnUG9pbnQnLCAnTXVsdGlQb2ludCcsICdMaW5lU3RyaW5nJywgJ011bHRpTGluZVN0cmluZycsXG5cdCAgICAnUG9seWdvbicsICdNdWx0aVBvbHlnb24nLCAnR2VvbWV0cnlDb2xsZWN0aW9uJ107XG5cdFxuXHRmdW5jdGlvbiBkZWNvZGUocGJmKSB7XG5cdCAgICBkaW0gPSAyO1xuXHQgICAgZSA9IE1hdGgucG93KDEwLCA2KTtcblx0ICAgIGxlbmd0aHMgPSBudWxsO1xuXHRcblx0ICAgIGtleXMgPSBbXTtcblx0ICAgIHZhbHVlcyA9IFtdO1xuXHQgICAgdmFyIG9iaiA9IHBiZi5yZWFkRmllbGRzKHJlYWREYXRhRmllbGQsIHt9KTtcblx0ICAgIGtleXMgPSBudWxsO1xuXHRcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWREYXRhRmllbGQodGFnLCBvYmosIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMSkga2V5cy5wdXNoKHBiZi5yZWFkU3RyaW5nKCkpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAyKSBkaW0gPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAzKSBlID0gTWF0aC5wb3coMTAsIHBiZi5yZWFkVmFyaW50KCkpO1xuXHRcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNCkgcmVhZEZlYXR1cmVDb2xsZWN0aW9uKHBiZiwgb2JqKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgcmVhZEZlYXR1cmUocGJmLCBvYmopO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSA2KSByZWFkR2VvbWV0cnkocGJmLCBvYmopO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRmVhdHVyZUNvbGxlY3Rpb24ocGJmLCBvYmopIHtcblx0ICAgIG9iai50eXBlID0gJ0ZlYXR1cmVDb2xsZWN0aW9uJztcblx0ICAgIG9iai5mZWF0dXJlcyA9IFtdO1xuXHQgICAgcmV0dXJuIHBiZi5yZWFkTWVzc2FnZShyZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCwgb2JqKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEZlYXR1cmUocGJmLCBmZWF0dXJlKSB7XG5cdCAgICBmZWF0dXJlLnR5cGUgPSAnRmVhdHVyZSc7XG5cdCAgICB2YXIgZiA9IHBiZi5yZWFkTWVzc2FnZShyZWFkRmVhdHVyZUZpZWxkLCBmZWF0dXJlKTtcblx0ICAgIGlmICghZi5oYXNPd25Qcm9wZXJ0eSgnZ2VvbWV0cnknKSkgZi5nZW9tZXRyeSA9IG51bGw7XG5cdCAgICByZXR1cm4gZjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEdlb21ldHJ5KHBiZiwgZ2VvbSkge1xuXHQgICAgcmV0dXJuIHBiZi5yZWFkTWVzc2FnZShyZWFkR2VvbWV0cnlGaWVsZCwgZ2VvbSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRGZWF0dXJlQ29sbGVjdGlvbkZpZWxkKHRhZywgb2JqLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDEpIG9iai5mZWF0dXJlcy5wdXNoKHJlYWRGZWF0dXJlKHBiZiwge30pKTtcblx0XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDE1KSByZWFkUHJvcHMocGJmLCBvYmopO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRmVhdHVyZUZpZWxkKHRhZywgZmVhdHVyZSwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAxKSBmZWF0dXJlLmdlb21ldHJ5ID0gcmVhZEdlb21ldHJ5KHBiZiwge30pO1xuXHRcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFN0cmluZygpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxMikgZmVhdHVyZS5pZCA9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHRcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTQpIGZlYXR1cmUucHJvcGVydGllcyA9IHJlYWRQcm9wcyhwYmYsIHt9KTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTUpIHJlYWRQcm9wcyhwYmYsIGZlYXR1cmUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkR2VvbWV0cnlGaWVsZCh0YWcsIGdlb20sIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMSkgZ2VvbS50eXBlID0gZ2VvbWV0cnlUeXBlc1twYmYucmVhZFZhcmludCgpXTtcblx0XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDIpIGxlbmd0aHMgPSBwYmYucmVhZFBhY2tlZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAzKSByZWFkQ29vcmRzKGdlb20sIHBiZiwgZ2VvbS50eXBlKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNCkge1xuXHQgICAgICAgIGdlb20uZ2VvbWV0cmllcyA9IGdlb20uZ2VvbWV0cmllcyB8fCBbXTtcblx0ICAgICAgICBnZW9tLmdlb21ldHJpZXMucHVzaChyZWFkR2VvbWV0cnkocGJmLCB7fSkpO1xuXHQgICAgfVxuXHQgICAgZWxzZSBpZiAodGFnID09PSAxMykgdmFsdWVzLnB1c2gocmVhZFZhbHVlKHBiZikpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZ2VvbSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRDb29yZHMoZ2VvbSwgcGJmLCB0eXBlKSB7XG5cdCAgICBpZiAodHlwZSA9PT0gJ1BvaW50JykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRQb2ludChwYmYpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUG9pbnQnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZExpbmUocGJmLCB0cnVlKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRMaW5lKHBiZik7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRNdWx0aUxpbmUocGJmKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdQb2x5Z29uJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRNdWx0aUxpbmUocGJmLCB0cnVlKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpUG9seWdvbihwYmYpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkVmFsdWUocGJmKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG5cdCAgICAgICAgdmFsdWUgPSBudWxsO1xuXHRcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHBiZi5yZWFkVmFyaW50KCksXG5cdCAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzO1xuXHRcblx0ICAgICAgICBpZiAodGFnID09PSAxKSB2YWx1ZSA9IHBiZi5yZWFkU3RyaW5nKCk7XG5cdCAgICAgICAgZWxzZSBpZiAodGFnID09PSAyKSB2YWx1ZSA9IHBiZi5yZWFkRG91YmxlKCk7XG5cdCAgICAgICAgZWxzZSBpZiAodGFnID09PSAzKSB2YWx1ZSA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICAgICAgZWxzZSBpZiAodGFnID09PSA0KSB2YWx1ZSA9IC1wYmYucmVhZFZhcmludCgpO1xuXHQgICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgdmFsdWUgPSBwYmYucmVhZEJvb2xlYW4oKTtcblx0ICAgICAgICBlbHNlIGlmICh0YWcgPT09IDYpIHZhbHVlID0gSlNPTi5wYXJzZShwYmYucmVhZFN0cmluZygpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFByb3BzKHBiZiwgcHJvcHMpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSBwcm9wc1trZXlzW3BiZi5yZWFkVmFyaW50KCldXSA9IHZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcblx0ICAgIHZhbHVlcyA9IFtdO1xuXHQgICAgcmV0dXJuIHByb3BzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkUG9pbnQocGJmKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG5cdCAgICAgICAgY29vcmRzID0gW107XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkgY29vcmRzLnB1c2gocGJmLnJlYWRTVmFyaW50KCkgLyBlKTtcblx0ICAgIHJldHVybiBjb29yZHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuLCBjbG9zZWQpIHtcblx0ICAgIHZhciBpID0gMCxcblx0ICAgICAgICBjb29yZHMgPSBbXSxcblx0ICAgICAgICBwLCBkO1xuXHRcblx0ICAgIHZhciBwcmV2UCA9IFtdO1xuXHQgICAgZm9yIChkID0gMDsgZCA8IGRpbTsgZCsrKSBwcmV2UFtkXSA9IDA7XG5cdFxuXHQgICAgd2hpbGUgKGxlbiA/IGkgPCBsZW4gOiBwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgcCA9IFtdO1xuXHQgICAgICAgIGZvciAoZCA9IDA7IGQgPCBkaW07IGQrKykge1xuXHQgICAgICAgICAgICBwcmV2UFtkXSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0ICAgICAgICAgICAgcFtkXSA9IHByZXZQW2RdIC8gZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29vcmRzLnB1c2gocCk7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgaWYgKGNsb3NlZCkgY29vcmRzLnB1c2goY29vcmRzWzBdKTtcblx0XG5cdCAgICByZXR1cm4gY29vcmRzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkTGluZShwYmYpIHtcblx0ICAgIHJldHVybiByZWFkTGluZVBhcnQocGJmLCBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRNdWx0aUxpbmUocGJmLCBjbG9zZWQpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblx0ICAgIGlmICghbGVuZ3RocykgcmV0dXJuIFtyZWFkTGluZVBhcnQocGJmLCBlbmQsIG51bGwsIGNsb3NlZCldO1xuXHRcblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3Rocy5sZW5ndGg7IGkrKykgY29vcmRzLnB1c2gocmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW5ndGhzW2ldLCBjbG9zZWQpKTtcblx0ICAgIGxlbmd0aHMgPSBudWxsO1xuXHQgICAgcmV0dXJuIGNvb3Jkcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZE11bHRpUG9seWdvbihwYmYpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblx0ICAgIGlmICghbGVuZ3RocykgcmV0dXJuIFtbcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBudWxsLCB0cnVlKV1dO1xuXHRcblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIHZhciBqID0gMTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3Roc1swXTsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJpbmdzID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZW5ndGhzW2pdOyBrKyspIHJpbmdzLnB1c2gocmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW5ndGhzW2ogKyAxICsga10sIHRydWUpKTtcblx0ICAgICAgICBqICs9IGxlbmd0aHNbal0gKyAxO1xuXHQgICAgICAgIGNvb3Jkcy5wdXNoKHJpbmdzKTtcblx0ICAgIH1cblx0ICAgIGxlbmd0aHMgPSBudWxsO1xuXHQgICAgcmV0dXJuIGNvb3Jkcztcblx0fVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYmY7XG5cdFxuXHR2YXIgaWVlZTc1NCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMxKTtcblx0XG5cdGZ1bmN0aW9uIFBiZihidWYpIHtcblx0ICAgIHRoaXMuYnVmID0gQXJyYXlCdWZmZXIuaXNWaWV3ICYmIEFycmF5QnVmZmVyLmlzVmlldyhidWYpID8gYnVmIDogbmV3IFVpbnQ4QXJyYXkoYnVmIHx8IDApO1xuXHQgICAgdGhpcy5wb3MgPSAwO1xuXHQgICAgdGhpcy50eXBlID0gMDtcblx0ICAgIHRoaXMubGVuZ3RoID0gdGhpcy5idWYubGVuZ3RoO1xuXHR9XG5cdFxuXHRQYmYuVmFyaW50ICA9IDA7IC8vIHZhcmludDogaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cblx0UGJmLkZpeGVkNjQgPSAxOyAvLyA2NC1iaXQ6IGRvdWJsZSwgZml4ZWQ2NCwgc2ZpeGVkNjRcblx0UGJmLkJ5dGVzICAgPSAyOyAvLyBsZW5ndGgtZGVsaW1pdGVkOiBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuXHRQYmYuRml4ZWQzMiA9IDU7IC8vIDMyLWJpdDogZmxvYXQsIGZpeGVkMzIsIHNmaXhlZDMyXG5cdFxuXHR2YXIgU0hJRlRfTEVGVF8zMiA9ICgxIDw8IDE2KSAqICgxIDw8IDE2KSxcblx0ICAgIFNISUZUX1JJR0hUXzMyID0gMSAvIFNISUZUX0xFRlRfMzI7XG5cdFxuXHRQYmYucHJvdG90eXBlID0ge1xuXHRcblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuYnVmID0gbnVsbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLy8gPT09IFJFQURJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XG5cdCAgICByZWFkRmllbGRzOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCwgZW5kKSB7XG5cdCAgICAgICAgZW5kID0gZW5kIHx8IHRoaXMubGVuZ3RoO1xuXHRcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIHtcblx0ICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMucmVhZFZhcmludCgpLFxuXHQgICAgICAgICAgICAgICAgdGFnID0gdmFsID4+IDMsXG5cdCAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMucG9zO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy50eXBlID0gdmFsICYgMHg3O1xuXHQgICAgICAgICAgICByZWFkRmllbGQodGFnLCByZXN1bHQsIHRoaXMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucG9zID09PSBzdGFydFBvcykgdGhpcy5za2lwKHZhbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRNZXNzYWdlOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnJlYWRGaWVsZHMocmVhZEZpZWxkLCByZXN1bHQsIHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MpO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkRml4ZWQzMjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRTRml4ZWQzMjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLy8gNjQtYml0IGludCBoYW5kbGluZyBpcyBiYXNlZCBvbiBnaXRodWIuY29tL2Rwdy9ub2RlLWJ1ZmZlci1tb3JlLWludHMgKE1JVC1saWNlbnNlZClcblx0XG5cdCAgICByZWFkRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKSArIHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFNGaXhlZDY0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZEludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyArIDQpICogU0hJRlRfTEVGVF8zMjtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRGbG9hdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDIzLCA0KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWREb3VibGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBpZWVlNzU0LnJlYWQodGhpcy5idWYsIHRoaXMucG9zLCB0cnVlLCA1MiwgOCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkVmFyaW50OiBmdW5jdGlvbihpc1NpZ25lZCkge1xuXHQgICAgICAgIHZhciBidWYgPSB0aGlzLmJ1Zixcblx0ICAgICAgICAgICAgdmFsLCBiO1xuXHRcblx0ICAgICAgICBiID0gYnVmW3RoaXMucG9zKytdOyB2YWwgID0gIGIgJiAweDdmOyAgICAgICAgaWYgKGIgPCAweDgwKSByZXR1cm4gdmFsO1xuXHQgICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDc7ICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG5cdCAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMTQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcblx0ICAgICAgICBiID0gYnVmW3RoaXMucG9zKytdOyB2YWwgfD0gKGIgJiAweDdmKSA8PCAyMTsgaWYgKGIgPCAweDgwKSByZXR1cm4gdmFsO1xuXHQgICAgICAgIGIgPSBidWZbdGhpcy5wb3NdOyAgIHZhbCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuXHRcblx0ICAgICAgICByZXR1cm4gcmVhZFZhcmludFJlbWFpbmRlcih2YWwsIGlzU2lnbmVkLCB0aGlzKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFZhcmludDY0OiBmdW5jdGlvbigpIHsgLy8gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB2Mi4wLjFcblx0ICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaW50KHRydWUpO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkU1ZhcmludDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG51bSA9IHRoaXMucmVhZFZhcmludCgpO1xuXHQgICAgICAgIHJldHVybiBudW0gJSAyID09PSAxID8gKG51bSArIDEpIC8gLTIgOiBudW0gLyAyOyAvLyB6aWd6YWcgZW5jb2Rpbmdcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZEJvb2xlYW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFN0cmluZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG5cdCAgICAgICAgICAgIHN0ciA9IHJlYWRVdGY4KHRoaXMuYnVmLCB0aGlzLnBvcywgZW5kKTtcblx0ICAgICAgICB0aGlzLnBvcyA9IGVuZDtcblx0ICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkQnl0ZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zLFxuXHQgICAgICAgICAgICBidWZmZXIgPSB0aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcywgZW5kKTtcblx0ICAgICAgICB0aGlzLnBvcyA9IGVuZDtcblx0ICAgICAgICByZXR1cm4gYnVmZmVyO1xuXHQgICAgfSxcblx0XG5cdCAgICAvLyB2ZXJib3NlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOyBkb2Vzbid0IGFmZmVjdCBnemlwcGVkIHNpemVcblx0XG5cdCAgICByZWFkUGFja2VkVmFyaW50OiBmdW5jdGlvbihhcnIsIGlzU2lnbmVkKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkVmFyaW50KGlzU2lnbmVkKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkVmFyaW50KGlzU2lnbmVkKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkU1ZhcmludDogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZEJvb2xlYW46IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRGbG9hdDogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkRG91YmxlOiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZEZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkRml4ZWQ2NDogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0XG5cdCAgICBza2lwOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IHZhbCAmIDB4Nztcblx0ICAgICAgICBpZiAodHlwZSA9PT0gUGJmLlZhcmludCkgd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdID4gMHg3Zikge31cblx0ICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuQnl0ZXMpIHRoaXMucG9zID0gdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcztcblx0ICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQzMikgdGhpcy5wb3MgKz0gNDtcblx0ICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQ2NCkgdGhpcy5wb3MgKz0gODtcblx0ICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCB0eXBlOiAnICsgdHlwZSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8vID09PSBXUklUSU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFxuXHQgICAgd3JpdGVUYWc6IGZ1bmN0aW9uKHRhZywgdHlwZSkge1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQoKHRhZyA8PCAzKSB8IHR5cGUpO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFsbG9jOiBmdW5jdGlvbihtaW4pIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMTY7XG5cdFxuXHQgICAgICAgIHdoaWxlIChsZW5ndGggPCB0aGlzLnBvcyArIG1pbikgbGVuZ3RoICo9IDI7XG5cdFxuXHQgICAgICAgIGlmIChsZW5ndGggIT09IHRoaXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuXHQgICAgICAgICAgICBidWYuc2V0KHRoaXMuYnVmKTtcblx0ICAgICAgICAgICAgdGhpcy5idWYgPSBidWY7XG5cdCAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgZmluaXNoOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucG9zO1xuXHQgICAgICAgIHRoaXMucG9zID0gMDtcblx0ICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoMCwgdGhpcy5sZW5ndGgpO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZUZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVNGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoOCk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVNGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoOCk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVZhcmludDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuXHRcblx0ICAgICAgICBpZiAodmFsID4gMHhmZmZmZmZmIHx8IHZhbCA8IDApIHtcblx0ICAgICAgICAgICAgd3JpdGVCaWdWYXJpbnQodmFsLCB0aGlzKTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXHRcblx0ICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgICAgICAgICB2YWwgJiAweDdmICB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcblx0ICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICgodmFsID4+Pj0gNykgJiAweDdmKSB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcblx0ICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICgodmFsID4+Pj0gNykgJiAweDdmKSB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcblx0ICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgKHZhbCA+Pj4gNykgJiAweDdmO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVNWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsIDwgMCA/IC12YWwgKiAyIC0gMSA6IHZhbCAqIDIpO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZUJvb2xlYW46IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih2YWwpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVTdHJpbmc6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyhzdHIubGVuZ3RoICogNCk7XG5cdFxuXHQgICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBzdHJpbmcgbGVuZ3RoXG5cdFxuXHQgICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuXHQgICAgICAgIC8vIHdyaXRlIHRoZSBzdHJpbmcgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG5cdCAgICAgICAgdGhpcy5wb3MgPSB3cml0ZVV0ZjgodGhpcy5idWYsIHN0ciwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHZhciBsZW4gPSB0aGlzLnBvcyAtIHN0YXJ0UG9zO1xuXHRcblx0ICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cdFxuXHQgICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG5cdCAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuXHQgICAgICAgIHRoaXMucG9zICs9IGxlbjtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVGbG9hdDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXHQgICAgICAgIGllZWU3NTQud3JpdGUodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MsIHRydWUsIDIzLCA0KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZURvdWJsZTogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuXHQgICAgICAgIGllZWU3NTQud3JpdGUodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZUJ5dGVzOiBmdW5jdGlvbihidWZmZXIpIHtcblx0ICAgICAgICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aDtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKGxlbik7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgdGhpcy5idWZbdGhpcy5wb3MrK10gPSBidWZmZXJbaV07XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlUmF3TWVzc2FnZTogZnVuY3Rpb24oZm4sIG9iaikge1xuXHQgICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBtZXNzYWdlIGxlbmd0aFxuXHRcblx0ICAgICAgICAvLyB3cml0ZSB0aGUgbWVzc2FnZSBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cblx0ICAgICAgICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcblx0ICAgICAgICBmbihvYmosIHRoaXMpO1xuXHQgICAgICAgIHZhciBsZW4gPSB0aGlzLnBvcyAtIHN0YXJ0UG9zO1xuXHRcblx0ICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cdFxuXHQgICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG5cdCAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuXHQgICAgICAgIHRoaXMucG9zICs9IGxlbjtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVNZXNzYWdlOiBmdW5jdGlvbih0YWcsIGZuLCBvYmopIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcblx0ICAgICAgICB0aGlzLndyaXRlUmF3TWVzc2FnZShmbiwgb2JqKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVQYWNrZWRWYXJpbnQ6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRWYXJpbnQsIGFycik7ICAgfSxcblx0ICAgIHdyaXRlUGFja2VkU1ZhcmludDogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU1ZhcmludCwgYXJyKTsgIH0sXG5cdCAgICB3cml0ZVBhY2tlZEJvb2xlYW46ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEJvb2xlYW4sIGFycik7ICB9LFxuXHQgICAgd3JpdGVQYWNrZWRGbG9hdDogICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGbG9hdCwgYXJyKTsgICAgfSxcblx0ICAgIHdyaXRlUGFja2VkRG91YmxlOiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRG91YmxlLCBhcnIpOyAgIH0sXG5cdCAgICB3cml0ZVBhY2tlZEZpeGVkMzI6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkMzIsIGFycik7ICB9LFxuXHQgICAgd3JpdGVQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTRml4ZWQzMiwgYXJyKTsgfSxcblx0ICAgIHdyaXRlUGFja2VkRml4ZWQ2NDogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRml4ZWQ2NCwgYXJyKTsgIH0sXG5cdCAgICB3cml0ZVBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDY0LCBhcnIpOyB9LFxuXHRcblx0ICAgIHdyaXRlQnl0ZXNGaWVsZDogZnVuY3Rpb24odGFnLCBidWZmZXIpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcblx0ICAgICAgICB0aGlzLndyaXRlQnl0ZXMoYnVmZmVyKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZUZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuXHQgICAgICAgIHRoaXMud3JpdGVGaXhlZDMyKHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVTRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQzMik7XG5cdCAgICAgICAgdGhpcy53cml0ZVNGaXhlZDMyKHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVGaXhlZDY0RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcblx0ICAgICAgICB0aGlzLndyaXRlRml4ZWQ2NCh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlU0ZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuXHQgICAgICAgIHRoaXMud3JpdGVTRml4ZWQ2NCh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5WYXJpbnQpO1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZVNWYXJpbnRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG5cdCAgICAgICAgdGhpcy53cml0ZVNWYXJpbnQodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZVN0cmluZ0ZpZWxkOiBmdW5jdGlvbih0YWcsIHN0cikge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuXHQgICAgICAgIHRoaXMud3JpdGVTdHJpbmcoc3RyKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZUZsb2F0RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcblx0ICAgICAgICB0aGlzLndyaXRlRmxvYXQodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZURvdWJsZUZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG5cdCAgICAgICAgdGhpcy53cml0ZURvdWJsZSh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlQm9vbGVhbkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnRGaWVsZCh0YWcsIEJvb2xlYW4odmFsKSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiByZWFkVmFyaW50UmVtYWluZGVyKGwsIHMsIHApIHtcblx0ICAgIHZhciBidWYgPSBwLmJ1Zixcblx0ICAgICAgICBoLCBiO1xuXHRcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggID0gKGIgJiAweDcwKSA+PiA0OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDEwOyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxNzsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMjQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4MDEpIDw8IDMxOyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRQYWNrZWRFbmQocGJmKSB7XG5cdCAgICByZXR1cm4gcGJmLnR5cGUgPT09IFBiZi5CeXRlcyA/XG5cdCAgICAgICAgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MgOiBwYmYucG9zICsgMTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9OdW0obG93LCBoaWdoLCBpc1NpZ25lZCkge1xuXHQgICAgaWYgKGlzU2lnbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIGhpZ2ggKiAweDEwMDAwMDAwMCArIChsb3cgPj4+IDApO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAoKGhpZ2ggPj4+IDApICogMHgxMDAwMDAwMDApICsgKGxvdyA+Pj4gMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50KHZhbCwgcGJmKSB7XG5cdCAgICB2YXIgbG93LCBoaWdoO1xuXHRcblx0ICAgIGlmICh2YWwgPj0gMCkge1xuXHQgICAgICAgIGxvdyAgPSAodmFsICUgMHgxMDAwMDAwMDApIHwgMDtcblx0ICAgICAgICBoaWdoID0gKHZhbCAvIDB4MTAwMDAwMDAwKSB8IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxvdyAgPSB+KC12YWwgJSAweDEwMDAwMDAwMCk7XG5cdCAgICAgICAgaGlnaCA9IH4oLXZhbCAvIDB4MTAwMDAwMDAwKTtcblx0XG5cdCAgICAgICAgaWYgKGxvdyBeIDB4ZmZmZmZmZmYpIHtcblx0ICAgICAgICAgICAgbG93ID0gKGxvdyArIDEpIHwgMDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBsb3cgPSAwO1xuXHQgICAgICAgICAgICBoaWdoID0gKGhpZ2ggKyAxKSB8IDA7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmICh2YWwgPj0gMHgxMDAwMDAwMDAwMDAwMDAwMCB8fCB2YWwgPCAtMHgxMDAwMDAwMDAwMDAwMDAwMCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignR2l2ZW4gdmFyaW50IGRvZXNuXFwndCBmaXQgaW50byAxMCBieXRlcycpO1xuXHQgICAgfVxuXHRcblx0ICAgIHBiZi5yZWFsbG9jKDEwKTtcblx0XG5cdCAgICB3cml0ZUJpZ1ZhcmludExvdyhsb3csIGhpZ2gsIHBiZik7XG5cdCAgICB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpIHtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdID0gbG93ICYgMHg3ZiB8IDB4ODA7IGxvdyA+Pj49IDc7XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zXSAgID0gbG93ICYgMHg3Zjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRIaWdoKGhpZ2gsIHBiZikge1xuXHQgICAgdmFyIGxzYiA9IChoaWdoICYgMHgwNykgPDwgNDtcblx0XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gfD0gbHNiICAgICAgICAgfCAoKGhpZ2ggPj4+PSAzKSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2Y7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgcGJmKSB7XG5cdCAgICB2YXIgZXh0cmFMZW4gPVxuXHQgICAgICAgIGxlbiA8PSAweDNmZmYgPyAxIDpcblx0ICAgICAgICBsZW4gPD0gMHgxZmZmZmYgPyAyIDpcblx0ICAgICAgICBsZW4gPD0gMHhmZmZmZmZmID8gMyA6IE1hdGguZmxvb3IoTWF0aC5sb2cobGVuKSAvIChNYXRoLkxOMiAqIDcpKTtcblx0XG5cdCAgICAvLyBpZiAxIGJ5dGUgaXNuJ3QgZW5vdWdoIGZvciBlbmNvZGluZyBtZXNzYWdlIGxlbmd0aCwgc2hpZnQgdGhlIGRhdGEgdG8gdGhlIHJpZ2h0XG5cdCAgICBwYmYucmVhbGxvYyhleHRyYUxlbik7XG5cdCAgICBmb3IgKHZhciBpID0gcGJmLnBvcyAtIDE7IGkgPj0gc3RhcnRQb3M7IGktLSkgcGJmLmJ1ZltpICsgZXh0cmFMZW5dID0gcGJmLmJ1ZltpXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlVmFyaW50KGFycltpXSk7ICAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZFNWYXJpbnQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTVmFyaW50KGFycltpXSk7ICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkRmxvYXQoYXJyLCBwYmYpICAgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZUZsb2F0KGFycltpXSk7ICAgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRG91YmxlKGFycltpXSk7ICAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZEJvb2xlYW4oYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVCb29sZWFuKGFycltpXSk7ICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkRml4ZWQzMihhcnIsIHBiZikgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZUZpeGVkMzIoYXJyW2ldKTsgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQzMihhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkMzIoYXJyW2ldKTsgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkNjQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDY0KGFycltpXSk7ICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkU0ZpeGVkNjQoYXJyLCBwYmYpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVNGaXhlZDY0KGFycltpXSk7IH1cblx0XG5cdC8vIEJ1ZmZlciBjb2RlIGJlbG93IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIsIE1JVC1saWNlbnNlZFxuXHRcblx0ZnVuY3Rpb24gcmVhZFVJbnQzMihidWYsIHBvcykge1xuXHQgICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcblx0ICAgICAgICAoYnVmW3BvcyArIDFdIDw8IDgpIHxcblx0ICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuXHQgICAgICAgIChidWZbcG9zICsgM10gKiAweDEwMDAwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUludDMyKGJ1ZiwgdmFsLCBwb3MpIHtcblx0ICAgIGJ1Zltwb3NdID0gdmFsO1xuXHQgICAgYnVmW3BvcyArIDFdID0gKHZhbCA+Pj4gOCk7XG5cdCAgICBidWZbcG9zICsgMl0gPSAodmFsID4+PiAxNik7XG5cdCAgICBidWZbcG9zICsgM10gPSAodmFsID4+PiAyNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRJbnQzMihidWYsIHBvcykge1xuXHQgICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcblx0ICAgICAgICAoYnVmW3BvcyArIDFdIDw8IDgpIHxcblx0ICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuXHQgICAgICAgIChidWZbcG9zICsgM10gPDwgMjQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkVXRmOChidWYsIHBvcywgZW5kKSB7XG5cdCAgICB2YXIgc3RyID0gJyc7XG5cdCAgICB2YXIgaSA9IHBvcztcblx0XG5cdCAgICB3aGlsZSAoaSA8IGVuZCkge1xuXHQgICAgICAgIHZhciBiMCA9IGJ1ZltpXTtcblx0ICAgICAgICB2YXIgYyA9IG51bGw7IC8vIGNvZGVwb2ludFxuXHQgICAgICAgIHZhciBieXRlc1BlclNlcXVlbmNlID1cblx0ICAgICAgICAgICAgYjAgPiAweEVGID8gNCA6XG5cdCAgICAgICAgICAgIGIwID4gMHhERiA/IDMgOlxuXHQgICAgICAgICAgICBiMCA+IDB4QkYgPyAyIDogMTtcblx0XG5cdCAgICAgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlID4gZW5kKSBicmVhaztcblx0XG5cdCAgICAgICAgdmFyIGIxLCBiMiwgYjM7XG5cdFxuXHQgICAgICAgIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAxKSB7XG5cdCAgICAgICAgICAgIGlmIChiMCA8IDB4ODApIHtcblx0ICAgICAgICAgICAgICAgIGMgPSBiMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMikge1xuXHQgICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG5cdCAgICAgICAgICAgIGlmICgoYjEgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4MUYpIDw8IDB4NiB8IChiMSAmIDB4M0YpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3Rikge1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAzKSB7XG5cdCAgICAgICAgICAgIGIxID0gYnVmW2kgKyAxXTtcblx0ICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuXHQgICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODApIHtcblx0ICAgICAgICAgICAgICAgIGMgPSAoYjAgJiAweEYpIDw8IDB4QyB8IChiMSAmIDB4M0YpIDw8IDB4NiB8IChiMiAmIDB4M0YpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3RkYgfHwgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSA0KSB7XG5cdCAgICAgICAgICAgIGIxID0gYnVmW2kgKyAxXTtcblx0ICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuXHQgICAgICAgICAgICBiMyA9IGJ1ZltpICsgM107XG5cdCAgICAgICAgICAgIGlmICgoYjEgJiAweEMwKSA9PT0gMHg4MCAmJiAoYjIgJiAweEMwKSA9PT0gMHg4MCAmJiAoYjMgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHgxMiB8IChiMSAmIDB4M0YpIDw8IDB4QyB8IChiMiAmIDB4M0YpIDw8IDB4NiB8IChiMyAmIDB4M0YpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPD0gMHhGRkZGIHx8IGMgPj0gMHgxMTAwMDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGMgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgYyA9IDB4RkZGRDtcblx0ICAgICAgICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7XG5cdFxuXHQgICAgICAgIH0gZWxzZSBpZiAoYyA+IDB4RkZGRikge1xuXHQgICAgICAgICAgICBjIC09IDB4MTAwMDA7XG5cdCAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHQgICAgICAgICAgICBjID0gMHhEQzAwIHwgYyAmIDB4M0ZGO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG5cdCAgICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdHI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlVXRmOChidWYsIHN0ciwgcG9zKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgYywgbGVhZDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTsgLy8gY29kZSBwb2ludFxuXHRcblx0ICAgICAgICBpZiAoYyA+IDB4RDdGRiAmJiBjIDwgMHhFMDAwKSB7XG5cdCAgICAgICAgICAgIGlmIChsZWFkKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA8IDB4REMwMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuXHQgICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBjID0gbGVhZCAtIDB4RDgwMCA8PCAxMCB8IGMgLSAweERDMDAgfCAweDEwMDAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPiAweERCRkYgfHwgKGkgKyAxID09PSBzdHIubGVuZ3RoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBsZWFkID0gYztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChsZWFkKSB7XG5cdCAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuXHQgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcblx0ICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG5cdCAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGMgPCAweDgwKSB7XG5cdCAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChjIDwgMHg4MDApIHtcblx0ICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4NiB8IDB4QzA7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA8IDB4MTAwMDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgfCAweEUwO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDEyIHwgMHhGMDtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgJiAweDNGIHwgMHg4MDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4NiAmIDB4M0YgfCAweDgwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjICYgMHgzRiB8IDB4ODA7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHBvcztcblx0fVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVxdWVzdDtcblx0XG5cdHZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG5cdFxuXHR2YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiByZXF1ZXN0KF9yZWYpIHtcblx0ICB2YXIgdXJsID0gX3JlZi51cmwsXG5cdCAgICAgIF9yZWYkcmVzcG9uc2VUeXBlID0gX3JlZi5yZXNwb25zZVR5cGUsXG5cdCAgICAgIHJlc3BvbnNlVHlwZSA9IF9yZWYkcmVzcG9uc2VUeXBlID09PSB1bmRlZmluZWQgPyAnanNvbicgOiBfcmVmJHJlc3BvbnNlVHlwZTtcblx0XG5cdCAgdmFyIGZldGNoRGF0YSA9IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHtcblx0ICAgIHJldHVybiAoMCwgX2F4aW9zMi5kZWZhdWx0KSh7XG5cdCAgICAgIHVybDogdXJsLFxuXHQgICAgICByZXNwb25zZVR5cGU6IHJlc3BvbnNlVHlwZVxuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHtcblx0ICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhO1xuXHRcblx0ICAgICAgcmV0dXJuIGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHQgIHJldHVybiBmZXRjaERhdGEoKTtcblx0fVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB0ZW1wbGF0ZTtcblx0dmFyIHRlbXBsYXRlUmUgPSAvXFx7ICooW1xcd18tXSspICpcXH0vZztcblx0XG5cdC8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXG5cdC8vIFNpbXBsZSB0ZW1wbGF0aW5nIGZhY2lsaXR5LCBhY2NlcHRzIGEgdGVtcGxhdGUgc3RyaW5nIG9mIHRoZSBmb3JtIGAnSGVsbG8ge2F9LCB7Yn0nYFxuXHQvLyBhbmQgYSBkYXRhIG9iamVjdCBsaWtlIGB7YTogJ2ZvbycsIGI6ICdiYXInfWAsIHJldHVybnMgZXZhbHVhdGVkIHN0cmluZ1xuXHQvLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3Jcblx0Ly8gZGF0YSB2YWx1ZXMg4oCUIHRoZXkgd2lsbCBiZSBldmFsdWF0ZWQgcGFzc2luZyBgZGF0YWAgYXMgYW4gYXJndW1lbnQuXG5cdGZ1bmN0aW9uIHRlbXBsYXRlKHN0ciwgZGF0YSkge1xuXHQgIHJldHVybiBzdHIucmVwbGFjZSh0ZW1wbGF0ZVJlLCBmdW5jdGlvbiAoc3RyLCBrZXkpIHtcblx0ICAgIHZhciB2YWx1ZSA9IGRhdGFba2V5XTtcblx0XG5cdCAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZhbHVlIHByb3ZpZGVkIGZvciB2YXJpYWJsZSAnICsgc3RyKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHZhbHVlID0gdmFsdWUoZGF0YSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdCAgfSk7XG5cdH1cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2V0VGltZUxhYmVsO1xuXHR2YXIgdGltZUxhYmVsUHJlZml4ID0gJ+KWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqCAnO1xuXHRcblx0ZnVuY3Rpb24gZ2V0VGltZUxhYmVsKGxhYmVsKSB7XG5cdCAgcmV0dXJuIHRpbWVMYWJlbFByZWZpeCArICcgJyArIGxhYmVsO1xuXHR9XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuc3RyaW5naWZ5ID0gZXhwb3J0cy5leHBhbmRlZExvZyA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfaXNvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG5cdFxuXHR2YXIgX2lzb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzb2JqZWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTUFYX0RFUFRIID0gMTAwO1xuXHRcblx0ZnVuY3Rpb24gZXhwYW5kZWRMb2coaXRlbSwgZGVwdGgpIHtcblx0ICBkZXB0aCA9IGRlcHRoIHx8IDMwO1xuXHRcblx0ICBpZiAoZGVwdGggPiBNQVhfREVQVEgpIHtcblx0ICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgaWYgKCgwLCBfaXNvYmplY3QyLmRlZmF1bHQpKGl0ZW0pKSB7XG5cdCAgICBmb3IgKHZhciBwcm9wIGluIGl0ZW0pIHtcblx0ICAgICAgY29uc29sZS5sb2cocHJvcCwgaXRlbVtwcm9wXSk7XG5cdCAgICAgIGNvbnNvbGUuZ3JvdXAocHJvcCArICcgOiAnICsgX3R5cGVvZihpdGVtW3Byb3BdKSk7XG5cdCAgICAgIGV4cGFuZGVkTG9nKGl0ZW1bcHJvcF0sIGRlcHRoICsgMSk7XG5cdCAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgY29uc29sZS5sb2coaXRlbSk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0LCBzcGFjZSkge1xuXHQgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QsIG51bGwsIHNwYWNlKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5leHBhbmRlZExvZyA9IGV4cGFuZGVkTG9nO1xuXHRleHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDM3MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGlzT2JqZWN0O1xuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9pc29iamVjdC9ibG9iL21hc3Rlci9pbmRleC5qc1xuXHRmdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcblx0ICByZXR1cm4gdmFsICE9IG51bGwgJiYgKHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbCkpID09PSAnb2JqZWN0JyAmJiBBcnJheS5pc0FycmF5KHZhbCkgPT09IGZhbHNlO1xuXHR9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzcxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdG1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzQpO1xuXHRtb2R1bGUuZXhwb3J0cy5WZWN0b3JUaWxlTGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM3Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVmVjdG9yVGlsZUxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzMpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlO1xuXHRcblx0ZnVuY3Rpb24gVmVjdG9yVGlsZShwYmYsIGVuZCkge1xuXHQgICAgdGhpcy5sYXllcnMgPSBwYmYucmVhZEZpZWxkcyhyZWFkVGlsZSwge30sIGVuZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRUaWxlKHRhZywgbGF5ZXJzLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDMpIHtcblx0ICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgVmVjdG9yVGlsZUxheWVyKHBiZiwgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MpO1xuXHQgICAgICAgIGlmIChsYXllci5sZW5ndGgpIGxheWVyc1tsYXllci5uYW1lXSA9IGxheWVyO1xuXHQgICAgfVxuXHR9XG5cdFxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFZlY3RvclRpbGVGZWF0dXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzQpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlTGF5ZXI7XG5cdFxuXHRmdW5jdGlvbiBWZWN0b3JUaWxlTGF5ZXIocGJmLCBlbmQpIHtcblx0ICAgIC8vIFB1YmxpY1xuXHQgICAgdGhpcy52ZXJzaW9uID0gMTtcblx0ICAgIHRoaXMubmFtZSA9IG51bGw7XG5cdCAgICB0aGlzLmV4dGVudCA9IDQwOTY7XG5cdCAgICB0aGlzLmxlbmd0aCA9IDA7XG5cdFxuXHQgICAgLy8gUHJpdmF0ZVxuXHQgICAgdGhpcy5fcGJmID0gcGJmO1xuXHQgICAgdGhpcy5fa2V5cyA9IFtdO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gW107XG5cdCAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXHRcblx0ICAgIHBiZi5yZWFkRmllbGRzKHJlYWRMYXllciwgdGhpcywgZW5kKTtcblx0XG5cdCAgICB0aGlzLmxlbmd0aCA9IHRoaXMuX2ZlYXR1cmVzLmxlbmd0aDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZExheWVyKHRhZywgbGF5ZXIsIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMTUpIGxheWVyLnZlcnNpb24gPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgbGF5ZXIuZXh0ZW50ID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgbGF5ZXIuX2ZlYXR1cmVzLnB1c2gocGJmLnBvcyk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDQpIGxheWVyLl92YWx1ZXMucHVzaChyZWFkVmFsdWVNZXNzYWdlKHBiZikpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkVmFsdWVNZXNzYWdlKHBiZikge1xuXHQgICAgdmFyIHZhbHVlID0gbnVsbCxcblx0ICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblx0XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cdFxuXHQgICAgICAgIHZhbHVlID0gdGFnID09PSAxID8gcGJmLnJlYWRTdHJpbmcoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gMyA/IHBiZi5yZWFkRG91YmxlKCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDQgPyBwYmYucmVhZFZhcmludDY0KCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcblx0ICAgICAgICAgICAgdGFnID09PSA2ID8gcGJmLnJlYWRTVmFyaW50KCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDcgPyBwYmYucmVhZEJvb2xlYW4oKSA6IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHQvLyByZXR1cm4gZmVhdHVyZSBgaWAgZnJvbSB0aGlzIGxheWVyIGFzIGEgYFZlY3RvclRpbGVGZWF0dXJlYFxuXHRWZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG5cdCAgICBpZiAoaSA8IDAgfHwgaSA+PSB0aGlzLl9mZWF0dXJlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignZmVhdHVyZSBpbmRleCBvdXQgb2YgYm91bmRzJyk7XG5cdFxuXHQgICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXHRcblx0ICAgIHZhciBlbmQgPSB0aGlzLl9wYmYucmVhZFZhcmludCgpICsgdGhpcy5fcGJmLnBvcztcblx0ICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzUpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlRmVhdHVyZTtcblx0XG5cdGZ1bmN0aW9uIFZlY3RvclRpbGVGZWF0dXJlKHBiZiwgZW5kLCBleHRlbnQsIGtleXMsIHZhbHVlcykge1xuXHQgICAgLy8gUHVibGljXG5cdCAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcblx0ICAgIHRoaXMuZXh0ZW50ID0gZXh0ZW50O1xuXHQgICAgdGhpcy50eXBlID0gMDtcblx0XG5cdCAgICAvLyBQcml2YXRlXG5cdCAgICB0aGlzLl9wYmYgPSBwYmY7XG5cdCAgICB0aGlzLl9nZW9tZXRyeSA9IC0xO1xuXHQgICAgdGhpcy5fa2V5cyA9IGtleXM7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cdFxuXHQgICAgcGJmLnJlYWRGaWVsZHMocmVhZEZlYXR1cmUsIHRoaXMsIGVuZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRGZWF0dXJlKHRhZywgZmVhdHVyZSwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09IDEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09IDIpIHJlYWRUYWcocGJmLCBmZWF0dXJlKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PSAzKSBmZWF0dXJlLnR5cGUgPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09IDQpIGZlYXR1cmUuX2dlb21ldHJ5ID0gcGJmLnBvcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFRhZyhwYmYsIGZlYXR1cmUpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblx0XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIHZhciBrZXkgPSBmZWF0dXJlLl9rZXlzW3BiZi5yZWFkVmFyaW50KCldLFxuXHQgICAgICAgICAgICB2YWx1ZSA9IGZlYXR1cmUuX3ZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcblx0ICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNba2V5XSA9IHZhbHVlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRWZWN0b3JUaWxlRmVhdHVyZS50eXBlcyA9IFsnVW5rbm93bicsICdQb2ludCcsICdMaW5lU3RyaW5nJywgJ1BvbHlnb24nXTtcblx0XG5cdFZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5sb2FkR2VvbWV0cnkgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG5cdCAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cdFxuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuXHQgICAgICAgIGNtZCA9IDEsXG5cdCAgICAgICAgbGVuZ3RoID0gMCxcblx0ICAgICAgICB4ID0gMCxcblx0ICAgICAgICB5ID0gMCxcblx0ICAgICAgICBsaW5lcyA9IFtdLFxuXHQgICAgICAgIGxpbmU7XG5cdFxuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcblx0ICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4Nztcblx0ICAgICAgICAgICAgbGVuZ3RoID0gY21kTGVuID4+IDM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBsZW5ndGgtLTtcblx0XG5cdCAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcblx0ICAgICAgICAgICAgeCArPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0ICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChjbWQgPT09IDEpIHsgLy8gbW92ZVRvXG5cdCAgICAgICAgICAgICAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcblx0ICAgICAgICAgICAgICAgIGxpbmUgPSBbXTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgbGluZS5wdXNoKG5ldyBQb2ludCh4LCB5KSk7XG5cdFxuXHQgICAgICAgIH0gZWxzZSBpZiAoY21kID09PSA3KSB7XG5cdFxuXHQgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcG5pay12ZWN0b3ItdGlsZS9pc3N1ZXMvOTBcblx0ICAgICAgICAgICAgaWYgKGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIGxpbmUucHVzaChsaW5lWzBdLmNsb25lKCkpOyAvLyBjbG9zZVBvbHlnb25cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29tbWFuZCAnICsgY21kKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG5cdFxuXHQgICAgcmV0dXJuIGxpbmVzO1xuXHR9O1xuXHRcblx0VmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLmJib3ggPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG5cdCAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cdFxuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuXHQgICAgICAgIGNtZCA9IDEsXG5cdCAgICAgICAgbGVuZ3RoID0gMCxcblx0ICAgICAgICB4ID0gMCxcblx0ICAgICAgICB5ID0gMCxcblx0ICAgICAgICB4MSA9IEluZmluaXR5LFxuXHQgICAgICAgIHgyID0gLUluZmluaXR5LFxuXHQgICAgICAgIHkxID0gSW5maW5pdHksXG5cdCAgICAgICAgeTIgPSAtSW5maW5pdHk7XG5cdFxuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcblx0ICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4Nztcblx0ICAgICAgICAgICAgbGVuZ3RoID0gY21kTGVuID4+IDM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBsZW5ndGgtLTtcblx0XG5cdCAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcblx0ICAgICAgICAgICAgeCArPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0ICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0ICAgICAgICAgICAgaWYgKHggPCB4MSkgeDEgPSB4O1xuXHQgICAgICAgICAgICBpZiAoeCA+IHgyKSB4MiA9IHg7XG5cdCAgICAgICAgICAgIGlmICh5IDwgeTEpIHkxID0geTtcblx0ICAgICAgICAgICAgaWYgKHkgPiB5MikgeTIgPSB5O1xuXHRcblx0ICAgICAgICB9IGVsc2UgaWYgKGNtZCAhPT0gNykge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29tbWFuZCAnICsgY21kKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFt4MSwgeTEsIHgyLCB5Ml07XG5cdH07XG5cdFxuXHRWZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OID0gZnVuY3Rpb24oeCwgeSwgeikge1xuXHQgICAgdmFyIHNpemUgPSB0aGlzLmV4dGVudCAqIE1hdGgucG93KDIsIHopLFxuXHQgICAgICAgIHgwID0gdGhpcy5leHRlbnQgKiB4LFxuXHQgICAgICAgIHkwID0gdGhpcy5leHRlbnQgKiB5LFxuXHQgICAgICAgIGNvb3JkcyA9IHRoaXMubG9hZEdlb21ldHJ5KCksXG5cdCAgICAgICAgdHlwZSA9IFZlY3RvclRpbGVGZWF0dXJlLnR5cGVzW3RoaXMudHlwZV0sXG5cdCAgICAgICAgaSwgajtcblx0XG5cdCAgICBmdW5jdGlvbiBwcm9qZWN0KGxpbmUpIHtcblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgdmFyIHAgPSBsaW5lW2pdLCB5MiA9IDE4MCAtIChwLnkgKyB5MCkgKiAzNjAgLyBzaXplO1xuXHQgICAgICAgICAgICBsaW5lW2pdID0gW1xuXHQgICAgICAgICAgICAgICAgKHAueCArIHgwKSAqIDM2MCAvIHNpemUgLSAxODAsXG5cdCAgICAgICAgICAgICAgICAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTBcblx0ICAgICAgICAgICAgXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcblx0ICAgIGNhc2UgMTpcblx0ICAgICAgICB2YXIgcG9pbnRzID0gW107XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwb2ludHNbaV0gPSBjb29yZHNbaV1bMF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvb3JkcyA9IHBvaW50cztcblx0ICAgICAgICBwcm9qZWN0KGNvb3Jkcyk7XG5cdCAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgY2FzZSAyOlxuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgcHJvamVjdChjb29yZHNbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBicmVhaztcblx0XG5cdCAgICBjYXNlIDM6XG5cdCAgICAgICAgY29vcmRzID0gY2xhc3NpZnlSaW5ncyhjb29yZHMpO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkc1tpXS5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICAgICAgcHJvamVjdChjb29yZHNbaV1bal0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjb29yZHMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgY29vcmRzID0gY29vcmRzWzBdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0eXBlID0gJ011bHRpJyArIHR5cGU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IHtcblx0ICAgICAgICB0eXBlOiBcIkZlYXR1cmVcIixcblx0ICAgICAgICBnZW9tZXRyeToge1xuXHQgICAgICAgICAgICB0eXBlOiB0eXBlLFxuXHQgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRzXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKCdpZCcgaW4gdGhpcykge1xuXHQgICAgICAgIHJlc3VsdC5pZCA9IHRoaXMuaWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8vIGNsYXNzaWZpZXMgYW4gYXJyYXkgb2YgcmluZ3MgaW50byBwb2x5Z29ucyB3aXRoIG91dGVyIHJpbmdzIGFuZCBob2xlc1xuXHRcblx0ZnVuY3Rpb24gY2xhc3NpZnlSaW5ncyhyaW5ncykge1xuXHQgICAgdmFyIGxlbiA9IHJpbmdzLmxlbmd0aDtcblx0XG5cdCAgICBpZiAobGVuIDw9IDEpIHJldHVybiBbcmluZ3NdO1xuXHRcblx0ICAgIHZhciBwb2x5Z29ucyA9IFtdLFxuXHQgICAgICAgIHBvbHlnb24sXG5cdCAgICAgICAgY2N3O1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgYXJlYSA9IHNpZ25lZEFyZWEocmluZ3NbaV0pO1xuXHQgICAgICAgIGlmIChhcmVhID09PSAwKSBjb250aW51ZTtcblx0XG5cdCAgICAgICAgaWYgKGNjdyA9PT0gdW5kZWZpbmVkKSBjY3cgPSBhcmVhIDwgMDtcblx0XG5cdCAgICAgICAgaWYgKGNjdyA9PT0gYXJlYSA8IDApIHtcblx0ICAgICAgICAgICAgaWYgKHBvbHlnb24pIHBvbHlnb25zLnB1c2gocG9seWdvbik7XG5cdCAgICAgICAgICAgIHBvbHlnb24gPSBbcmluZ3NbaV1dO1xuXHRcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwb2x5Z29uLnB1c2gocmluZ3NbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXHRcblx0ICAgIHJldHVybiBwb2x5Z29ucztcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2lnbmVkQXJlYShyaW5nKSB7XG5cdCAgICB2YXIgc3VtID0gMDtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByaW5nLmxlbmd0aCwgaiA9IGxlbiAtIDEsIHAxLCBwMjsgaSA8IGxlbjsgaiA9IGkrKykge1xuXHQgICAgICAgIHAxID0gcmluZ1tpXTtcblx0ICAgICAgICBwMiA9IHJpbmdbal07XG5cdCAgICAgICAgc3VtICs9IChwMi54IC0gcDEueCkgKiAocDEueSArIHAyLnkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHN1bTtcblx0fVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQb2ludDtcblx0XG5cdC8qKlxuXHQgKiBBIHN0YW5kYWxvbmUgcG9pbnQgZ2VvbWV0cnkgd2l0aCB1c2VmdWwgYWNjZXNzb3IsIGNvbXBhcmlzb24sIGFuZFxuXHQgKiBtb2RpZmljYXRpb24gbWV0aG9kcy5cblx0ICpcblx0ICogQGNsYXNzIFBvaW50XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbG9uZ2l0dWRlIG9yIHNjcmVlblxuXHQgKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbGF0aXR1ZGUgb3Igc2NyZWVuXG5cdCAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cblx0ICogQGV4YW1wbGVcblx0ICogdmFyIHBvaW50ID0gbmV3IFBvaW50KC03NywgMzgpO1xuXHQgKi9cblx0ZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuXHQgICAgdGhpcy54ID0geDtcblx0ICAgIHRoaXMueSA9IHk7XG5cdH1cblx0XG5cdFBvaW50LnByb3RvdHlwZSA9IHtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENsb25lIHRoaXMgcG9pbnQsIHJldHVybmluZyBhIG5ldyBwb2ludCB0aGF0IGNhbiBiZSBtb2RpZmllZFxuXHQgICAgICogd2l0aG91dCBhZmZlY3RpbmcgdGhlIG9sZCBvbmUuXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gdGhlIGNsb25lXG5cdCAgICAgKi9cblx0ICAgIGNsb25lOiBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBZGQgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIHRvIGFub3RoZXIgcG9pbnQsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIGFkZDogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHApOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU3VidHJhY3QgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIHRvIGZyb20gcG9pbnQsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHN1YjogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHApOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBtdWx0QnlQb2ludDogICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChwKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIGRpdkJ5UG9pbnQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQocCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIG11bHQ6ICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChrKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIGRpdjogICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KGspOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUm90YXRlIHRoaXMgcG9pbnQgYXJvdW5kIHRoZSAwLCAwIG9yaWdpbiBieSBhbiBhbmdsZSBhLFxuXHQgICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuXHQgICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgYW5nbGUgdG8gcm90YXRlIGFyb3VuZCwgaW4gcmFkaWFuc1xuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICByb3RhdGU6ICBmdW5jdGlvbihhKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShhKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCBwIHBvaW50IGJ5IGFuIGFuZ2xlIGEsXG5cdCAgICAgKiBnaXZlbiBpbiByYWRpYW5zXG5cdCAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFBvaW50IHRvIHJvdGF0ZSBhcm91bmRcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgcm90YXRlQXJvdW5kOiAgZnVuY3Rpb24oYSxwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChhLHApOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCBieSBhIDR4MSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gbSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgbWF0TXVsdDogZnVuY3Rpb24obSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KG0pOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2FsY3VsYXRlIHRoaXMgcG9pbnQgYnV0IGFzIGEgdW5pdCB2ZWN0b3IgZnJvbSAwLCAwLCBtZWFuaW5nXG5cdCAgICAgKiB0aGF0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSByZXN1bHRpbmcgcG9pbnQgdG8gdGhlIDAsIDBcblx0ICAgICAqIGNvb3JkaW5hdGUgd2lsbCBiZSBlcXVhbCB0byAxIGFuZCB0aGUgYW5nbGUgZnJvbSB0aGUgcmVzdWx0aW5nXG5cdCAgICAgKiBwb2ludCB0byB0aGUgMCwgMCBjb29yZGluYXRlIHdpbGwgYmUgdGhlIHNhbWUgYXMgYmVmb3JlLlxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IHVuaXQgdmVjdG9yIHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHVuaXQ6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21wdXRlIGEgcGVycGVuZGljdWxhciBwb2ludCwgd2hlcmUgdGhlIG5ldyB5IGNvb3JkaW5hdGVcblx0ICAgICAqIGlzIHRoZSBvbGQgeCBjb29yZGluYXRlIGFuZCB0aGUgbmV3IHggY29vcmRpbmF0ZSBpcyB0aGUgb2xkIHlcblx0ICAgICAqIGNvb3JkaW5hdGUgbXVsdGlwbGllZCBieSAtMVxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IHBlcnBlbmRpY3VsYXIgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgcGVycDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybiBhIHZlcnNpb24gb2YgdGhpcyBwb2ludCB3aXRoIHRoZSB4ICYgeSBjb29yZGluYXRlc1xuXHQgICAgICogcm91bmRlZCB0byBpbnRlZ2Vycy5cblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSByb3VuZGVkIHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHJvdW5kOiAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJuIHRoZSBtYWdpdHVkZSBvZiB0aGlzIHBvaW50OiB0aGlzIGlzIHRoZSBFdWNsaWRlYW5cblx0ICAgICAqIGRpc3RhbmNlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50J3MgeCBhbmQgeVxuXHQgICAgICogY29vcmRpbmF0ZXMuXG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1hZ25pdHVkZVxuXHQgICAgICovXG5cdCAgICBtYWc6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBKdWRnZSB3aGV0aGVyIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBwb2ludCwgcmV0dXJuaW5nXG5cdCAgICAgKiB0cnVlIG9yIGZhbHNlLlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gb3RoZXIgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBwb2ludHMgYXJlIGVxdWFsXG5cdCAgICAgKi9cblx0ICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlci54ICYmXG5cdCAgICAgICAgICAgICAgIHRoaXMueSA9PT0gb3RoZXIueTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuXHQgICAgICovXG5cdCAgICBkaXN0OiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIocCkpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsXG5cdCAgICAgKiB3aXRob3V0IHRoZSBzcXVhcmUgcm9vdCBzdGVwLiBVc2VmdWwgaWYgeW91J3JlIGNvbXBhcmluZ1xuXHQgICAgICogcmVsYXRpdmUgZGlzdGFuY2VzLlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgZGlzdFNxcjogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHZhciBkeCA9IHAueCAtIHRoaXMueCxcblx0ICAgICAgICAgICAgZHkgPSBwLnkgLSB0aGlzLnk7XG5cdCAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQsIGluIHJhZGlhbnNcblx0ICAgICAqIGNvb3JkaW5hdGVzLlxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgICAgICovXG5cdCAgICBhbmdsZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG5cdCAgICAgKi9cblx0ICAgIGFuZ2xlVG86IGZ1bmN0aW9uKGIpIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnkgLSBiLnksIHRoaXMueCAtIGIueCk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG5cdCAgICAgKi9cblx0ICAgIGFuZ2xlV2l0aDogZnVuY3Rpb24oYikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmFuZ2xlV2l0aFNlcChiLngsIGIueSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qXG5cdCAgICAgKiBGaW5kIHRoZSBhbmdsZSBvZiB0aGUgdHdvIHZlY3RvcnMsIHNvbHZpbmcgdGhlIGZvcm11bGEgZm9yXG5cdCAgICAgKiB0aGUgY3Jvc3MgcHJvZHVjdCBhIHggYiA9IHxhfHxifHNpbijOuCkgZm9yIM64LlxuXHQgICAgICogQHBhcmFtIHtOdW1iZXJ9IHggdGhlIHgtY29vcmRpbmF0ZVxuXHQgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZVxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuXHQgICAgICovXG5cdCAgICBhbmdsZVdpdGhTZXA6IGZ1bmN0aW9uKHgsIHkpIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihcblx0ICAgICAgICAgICAgdGhpcy54ICogeSAtIHRoaXMueSAqIHgsXG5cdCAgICAgICAgICAgIHRoaXMueCAqIHggKyB0aGlzLnkgKiB5KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgX21hdE11bHQ6IGZ1bmN0aW9uKG0pIHtcblx0ICAgICAgICB2YXIgeCA9IG1bMF0gKiB0aGlzLnggKyBtWzFdICogdGhpcy55LFxuXHQgICAgICAgICAgICB5ID0gbVsyXSAqIHRoaXMueCArIG1bM10gKiB0aGlzLnk7XG5cdCAgICAgICAgdGhpcy54ID0geDtcblx0ICAgICAgICB0aGlzLnkgPSB5O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfYWRkOiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdGhpcy54ICs9IHAueDtcblx0ICAgICAgICB0aGlzLnkgKz0gcC55O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfc3ViOiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdGhpcy54IC09IHAueDtcblx0ICAgICAgICB0aGlzLnkgLT0gcC55O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfbXVsdDogZnVuY3Rpb24oaykge1xuXHQgICAgICAgIHRoaXMueCAqPSBrO1xuXHQgICAgICAgIHRoaXMueSAqPSBrO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfZGl2OiBmdW5jdGlvbihrKSB7XG5cdCAgICAgICAgdGhpcy54IC89IGs7XG5cdCAgICAgICAgdGhpcy55IC89IGs7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9tdWx0QnlQb2ludDogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHRoaXMueCAqPSBwLng7XG5cdCAgICAgICAgdGhpcy55ICo9IHAueTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX2RpdkJ5UG9pbnQ6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICB0aGlzLnggLz0gcC54O1xuXHQgICAgICAgIHRoaXMueSAvPSBwLnk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF91bml0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLl9kaXYodGhpcy5tYWcoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9wZXJwOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgeSA9IHRoaXMueTtcblx0ICAgICAgICB0aGlzLnkgPSB0aGlzLng7XG5cdCAgICAgICAgdGhpcy54ID0gLXk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9yb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG5cdCAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcblx0ICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuXHQgICAgICAgICAgICB4ID0gY29zICogdGhpcy54IC0gc2luICogdGhpcy55LFxuXHQgICAgICAgICAgICB5ID0gc2luICogdGhpcy54ICsgY29zICogdGhpcy55O1xuXHQgICAgICAgIHRoaXMueCA9IHg7XG5cdCAgICAgICAgdGhpcy55ID0geTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3JvdGF0ZUFyb3VuZDogZnVuY3Rpb24oYW5nbGUsIHApIHtcblx0ICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuXHQgICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSksXG5cdCAgICAgICAgICAgIHggPSBwLnggKyBjb3MgKiAodGhpcy54IC0gcC54KSAtIHNpbiAqICh0aGlzLnkgLSBwLnkpLFxuXHQgICAgICAgICAgICB5ID0gcC55ICsgc2luICogKHRoaXMueCAtIHAueCkgKyBjb3MgKiAodGhpcy55IC0gcC55KTtcblx0ICAgICAgICB0aGlzLnggPSB4O1xuXHQgICAgICAgIHRoaXMueSA9IHk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9yb3VuZDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xuXHQgICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3QgYSBwb2ludCBmcm9tIGFuIGFycmF5IGlmIG5lY2Vzc2FyeSwgb3RoZXJ3aXNlIGlmIHRoZSBpbnB1dFxuXHQgKiBpcyBhbHJlYWR5IGEgUG9pbnQsIG9yIGFuIHVua25vd24gdHlwZSwgcmV0dXJuIGl0IHVuY2hhbmdlZFxuXHQgKiBAcGFyYW0ge0FycmF5PE51bWJlcj58UG9pbnR8Kn0gYSBhbnkga2luZCBvZiBpbnB1dCB2YWx1ZVxuXHQgKiBAcmV0dXJuIHtQb2ludH0gY29uc3RydWN0ZWQgcG9pbnQsIG9yIHBhc3NlZC10aHJvdWdoIHZhbHVlLlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLyB0aGlzXG5cdCAqIHZhciBwb2ludCA9IFBvaW50LmNvbnZlcnQoWzAsIDFdKTtcblx0ICogLy8gaXMgZXF1aXZhbGVudCB0b1xuXHQgKiB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoMCwgMSk7XG5cdCAqL1xuXHRQb2ludC5jb252ZXJ0ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgIGlmIChhIGluc3RhbmNlb2YgUG9pbnQpIHtcblx0ICAgICAgICByZXR1cm4gYTtcblx0ICAgIH1cblx0ICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQb2ludChhWzBdLCBhWzFdKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhO1xuXHR9O1xuXG5cbi8qKiovIH0pXG5cbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsb2FkLmpzIiwiaW1wb3J0ICdiYWJlbC1wb2x5ZmlsbCc7XG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCBLZXlDb2RlIGZyb20gJy4uLy4uLy4uL3NyYy9jb25zdHMvS2V5Q29kZSc7XG5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFpbiA9IG5ldyBNYWluKCk7XG4gICAgfVxufSgpKTtcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50KCk7XG4gICAgICAgIHRoaXMub25yZXNpemUoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmFwcCA9IG5ldyBBcHAoKTtcbiAgICB9XG5cbiAgICBhZGRFdmVudCgpIHtcbiAgICAgICAgd2luZG93Lm9ucmVzaXplID0gdGhpcy5vbnJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9ua2V5dXAuYmluZCh0aGlzKSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbmtleWRvd24uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgb25yZXNpemUoKSB7XG4gICAgICAgIHRoaXMuYXBwLnJlc2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGZ1bmMge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcmV0dXJucyB7aW50ZXJ2YWxGdW5jfVxuICAgICAqL1xuICAgIGdldEludGVydmFsRnVuY3Rpb24odGhlQXJnLCBmdW5jLCAuLi5wYXJhbXMpIHtcbiAgICAgICAgZnVuY3Rpb24gaW50ZXJ2YWxGdW5jKCkge1xuICAgICAgICAgICAgZnVuYy5hcHBseSh0aGVBcmcsIHBhcmFtcyk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZXlJbnRlcnZhbElkKTtcbiAgICAgICAgICAgIHRoaXMua2V5SW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWxGdW5jLmJpbmQodGhpcyksIDIwMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW50ZXJ2YWxGdW5jLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgY2xlYXJJbnRlckZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZXlJbnRlcnZhbElkKTtcbiAgICB9XG5cbiAgICBvbmtleWRvd24oZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuVVA6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneScsIC0xKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkRPV046XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneScsIDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTEVGVDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd4JywgLTEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneCcsIDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd6JywgMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5QQUdFX0RPV046XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneicsIC0xKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl80OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd5JywgLTAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzY6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3knLCAwLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl84OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd4JywgLTAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzI6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3gnLCAwLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl83OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgLTAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzE6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAwLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl85OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgLTAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzM6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAwLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTVBBRF9BREQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbUluKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNUEFEX1NVQlRSQUNUOlxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21PdXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1QQURfRU5URVI6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbU91dCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8wOlxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuVzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5TOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkE6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuRDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9ua2V5dXAoZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuRVNDQVBFOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlNQQUNFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcC5ndWkuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLmd1aS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5ndWkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5VUDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5ET1dOOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkxFRlQ6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5QQUdFX0RPV046XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzQ6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzY6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzg6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzI6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzc6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzE6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzk6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzM6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNUEFEX0FERDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1QQURfU1VCVFJBQ1Q6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuVzpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5TOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkE6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuRDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJGdW5jdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuQkFDS1NQQUNFOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21hcC9wYmYvbG9hZC9pbmRleC5qcyIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgZ2VvYnVmIGZyb20gJ2dlb2J1Zic7XG5pbXBvcnQgUGJmIGZyb20gJ3BiZic7XG5pbXBvcnQgUHJvdG9CdWYgZnJvbSAncGJmJztcbmltcG9ydCByZXF1ZXN0IGZyb20gJy4uLy4uLy4uL3NyYy9uZXQvcmVxdWVzdCc7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi4vLi4vLi4vc3JjL3N0cmluZy90ZW1wbGF0ZSc7XG5pbXBvcnQgZ2V0VGltZUxhYmVsIGZyb20gJy4uLy4uLy4uL3NyYy9jb25zb2xlL2dldFRpbWVMYWJlbCc7XG5pbXBvcnQgeyBleHBhbmRlZExvZywgc3RyaW5naWZ5IH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbnNvbGUvZXhwYW5kZWRMb2cnO1xuaW1wb3J0IHsgVmVjdG9yVGlsZSB9IGZyb20gJ0BtYXBib3gvdmVjdG9yLXRpbGUnO1xuXG4vKipcbiAqIOyVhOuemCDso7zshozsnZggcGJm66W8IOy9lOunjOuPhOydmCDsiqTtg4DsnbzsnYQg7KeB7KCRIOuCtOugpOuwm+yVhOyEnCDtjIzsi7HtlZwg6rKD6rO8IOyYpOyhtOydmCDqsoPsnYQg67Cb7JWE7IScIO2ZleyduCDtlanri4jri6QuXG4gKiBodHRwczovL21hcC5uYXZlci5jb20vdjUvP2M9MTQxNDk2NzIuNzM3ODgxNyw0NDkxMTk5LjcyMTk5NTAsMTUsMCwwLDAsZGhcbiAqIOq3uOumrOqzoCDrsJvqs6Ag7YyM7Iux7ZWY64qUIOu5hOyaqSDqsJzsgrDsnYQg7ZWp64uI64ukLlxuICovXG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTMsIHk6IDEyNzExLCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzEyLCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzE0LCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTIsIHk6IDEyNzE0LCB6OiAxNX07XG4vLyDqt7jrprDtjKnthqDrpqxcbmNvbnN0IHh5eiA9IHt4OiAyNzk1MywgeTogMTI3MTMsIHo6IDE1fTtcbmNvbnN0IHVybHMgPSB7XG4gIGJ1czogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252Yi93bXRzL2J1cy9kMmUzNjRjOS1iNzVlLTRmZDctODAyMC1jNGIyNmY4MmI5Y2UvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBwb2lfd2ViOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZiL3dtdHMvcG9pX3dlYi84ZmU2ODgzZS01NTI1LTQ1ZjgtOGY1NS01ZTMwYmM0OTgxZjEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBwb2k0b3NtOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9vc21fbmF2ZXJfcG9pLzU2NTNlNzU3LTliZjEtNGEyZS1iMjBmLTg2YmI0YzBiOTkxMi9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG4gIG5hdmVyNG9zbTogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252YnBjL3dtdHMvb3NtX25hdmVyX2RhdGEvZ2V0TWV0YWRhdGEnLFxuICBjY3R2OiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9jY3R2L2FiNTBiMjZjLTg0MmQtNGJlNS04YjBjLTQ2MDE5ZjVlNzlhMS9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG4gIG96b25lOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvb3pvbmUvcGJmL2dlb2pzb24vUE9JPycgK1xuICAgICd4PScgKyB4eXoueCArICcmJyArXG4gICAgJ3k9JyArIHh5ei55ICsgJyAmJyArXG4gICAgJ3o9JyArIHh5ei56ICsgJyYnICtcbiAgICAnbmFtZT1vc21fbmF2ZXJfcG9pJicgK1xuICAgICd2ZXJzaW9uQ29kZT01NjUzZTc1Ny05YmYxLTRhMmUtYjIwZi04NmJiNGMwYjk5MTImJyArXG4gICAgJ3BpeGVsUmF0aW89MiYnICtcbiAgICAnaW1hZ2VUeXBlPXNwcml0ZSYnICtcbiAgICAnbGFuZ3VhZ2U9a28mJyArXG4gICAgJ21hcFR5cGU9Tk9STUFMJicgK1xuICAgICdxdWFsaXR5PW5vcm1hbCdcbn07XG5cbmZvciAoY29uc3QgcHJvcCBpbiB1cmxzKSB7XG4gIHVybHNbcHJvcF0gPSB0ZW1wbGF0ZSh1cmxzW3Byb3BdLCB4eXopO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyB0aGlzLnRlc3RQYmYodXJscy5idXMsICdidXMnKTtcbiAgICAvLyB0aGlzLnRlc3RQYmYodXJscy5jY3R2LCAnY2N0dicpO1xuICAgIHRoaXMudGVzdFBiZih1cmxzLmNjdHYsICdjY3R2Jyk7XG4gICAgdGhpcy50ZXN0UGJmKHVybHMucG9pX3dlYiwgJ25hdmVyNG9zbScpO1xuICAgIHRoaXMudGVzdFBiZih1cmxzLnBvaTRvc20sICdwb2k0b3NtJyk7XG4gICAgdGhpcy50ZXN0T3pvbmUodXJscy5vem9uZSwgJ296b25lJyk7XG4gIH1cblxuICBwYXJzZSgpIHtcbiAgICAvLyBjb25zdCBwYmYgPSBuZXcgUGJmKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSk7XG4gICAgLy8gY29uc3QgdGlsZSA9IG5ldyBWZWN0b3JUaWxlKHBiZik7XG4gICAgLy8gY29uc3QgdGlsZSA9IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b0J1ZihidWZmZXIpKTtcbiAgfVxuXG4gIHRlc3RQYmYodXJsLCB0aW1lTGFiZWwpIHtcbiAgICBjb25zb2xlLnRpbWUoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0g66Gc65OcYCkpO1xuICAgIHJlcXVlc3Qoe1xuICAgICAgdXJsLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgIH0pLnRoZW4oYnVmZmVyID0+IHtcbiAgICAgIGNvbnNvbGUudGltZUVuZChnZXRUaW1lTGFiZWwoYCR7dGltZUxhYmVsfSDroZzrk5xgKSk7XG4gICAgICBjb25zb2xlLnRpbWUoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0gcGJmIO2MjOyLsWApKTtcbiAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShuZXcgUHJvdG9CdWYoYnVmZmVyKSk7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0gcGJmIO2MjOyLsWApKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHN0cmluZ2lmeSh0aWxlLCAyKSk7XG4gICAgICBjb25zb2xlLmxvZyh0aWxlKTtcbiAgICAgIGNvbnNvbGUudGltZShnZXRUaW1lTGFiZWwoYCR7dGltZUxhYmVsfSDtlLzss5Ag7IOd7ISxYCkpO1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuZ2V0RmVhdHVyZXModGlsZSk7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0g7ZS87LOQIOyDneyEsWApKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlcycsIGNvbGxlY3Rpb24uZmVhdHVyZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgdGVzdE96b25lKHVybCwgdGltZUxhYmVsKSB7XG4gICAgY29uc29sZS50aW1lKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IOuhnOuTnGApKTtcbiAgICByZXF1ZXN0KHtcbiAgICAgIHVybCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICB9KS50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0g66Gc65OcYCkpO1xuICAgICAgY29uc29sZS50aW1lKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IHBiZiDtjIzsi7Eg67CPIO2UvOyzkCDsg53shLFgKSk7XG5cbiAgICAgIGxldCBjb2xsZWN0aW9uID0ge1xuICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICBmZWF0dXJlczogW11cbiAgICAgIH07XG5cbiAgICAgIGNvbGxlY3Rpb24gPSBnZW9idWYuZGVjb2RlKG5ldyBQcm90b0J1ZihidWZmZXIpKTtcbiAgICAgIGNvbnNvbGUudGltZUVuZChnZXRUaW1lTGFiZWwoYCR7dGltZUxhYmVsfSBwYmYg7YyM7IuxIOuwjyDtlLzss5Ag7IOd7ISxYCkpO1xuICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmVzJywgY29sbGVjdGlvbi5mZWF0dXJlcyk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRGZWF0dXJlcyh0aWxlKSB7XG4gICAgbGV0IGNvbGxlY3Rpb24gPSB7XG4gICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgZmVhdHVyZXM6IFtdXG4gICAgfTtcblxuICAgIGxldCBsYXllcnMgPSBPYmplY3Qua2V5cyh0aWxlLmxheWVycyk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobGF5ZXJzKSkge1xuICAgICAgbGF5ZXJzID0gW2xheWVyc107XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYGxheWVycyAoJHtsYXllcnMubGVuZ3RofSlgKTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXJJRCkgPT4ge1xuICAgICAgY29uc3QgbGF5ZXIgPSB0aWxlLmxheWVyc1tsYXllcklEXTtcblxuICAgICAgY29uc3QgbGVuID0gbGF5ZXIubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSB7XG4gICAgICAgICAgLi4ubGF5ZXIuZmVhdHVyZShpKS50b0dlb0pTT04oeHl6LngsIHh5ei55LCB4eXoueilcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllcy5sYXllciA9IGxheWVySUQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZmVhdHVyZScsIGZlYXR1cmUpO1xuICAgICAgICBjb25zb2xlLmxvZygnZmVhdHVyZScsIEpTT04uc3RyaW5naWZ5KGZlYXR1cmUsIG51bGwsIDIpKTtcbiAgICAgICAgY29sbGVjdGlvbi5mZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cblxuICByZXNpemUoKSB7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21hcC9wYmYvbG9hZC9BcHAuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vY29yZS9tZXJnZUNvbmZpZycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhheGlvcy5kZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9heGlvcy5qc1xuLy8gbW9kdWxlIGlkID0gMzM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZXF1YWwgdG8gbWVyZ2Ugd2l0aCB0aGUgZGlmZmVyZW5jZSBiZWluZyB0aGF0IG5vIHJlZmVyZW5jZVxuICogdG8gb3JpZ2luYWwgb2JqZWN0cyBpcyBrZXB0LlxuICpcbiAqIEBzZWUgbWVyZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGRlZXBNZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDMzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbi8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcbi8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pcy1idWZmZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBhcmd1bWVudHNbMV0gfHwge307XG4gICAgY29uZmlnLnVybCA9IGFyZ3VtZW50c1swXTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gIH1cblxuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZCA/IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKSA6ICdnZXQnO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5BeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICByZXR1cm4gYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLCAnJyk7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanNcbi8vIG1vZHVsZSBpZCA9IDM0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMzQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qc1xuLy8gbW9kdWxlIGlkID0gMzQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qc1xuLy8gbW9kdWxlIGlkID0gMzQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIC8vIE9ubHkgTm9kZS5KUyBoYXMgYSBwcm9jZXNzIHZhcmlhYmxlIHRoYXQgaXMgb2YgW1tDbGFzc11dIHByb2Nlc3NcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdBY2NlcHQnKTtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2RlZmF1bHRzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qc1xuLy8gbW9kdWxlIGlkID0gMzQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanNcbi8vIG1vZHVsZSBpZCA9IDM1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMzUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSkoKVxuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanNcbi8vIG1vZHVsZSBpZCA9IDM1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICAgIH07XG4gICAgfSkoKVxuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qc1xuLy8gbW9kdWxlIGlkID0gMzU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qc1xuLy8gbW9kdWxlIGlkID0gMzU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIHZhciBjb25maWcgPSB7fTtcblxuICB1dGlscy5mb3JFYWNoKFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddLCBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddLCBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKHByb3ApIHtcbiAgICBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzFbcHJvcF0pKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB1dGlscy5mb3JFYWNoKFtcbiAgICAnYmFzZVVSTCcsICd0cmFuc2Zvcm1SZXF1ZXN0JywgJ3RyYW5zZm9ybVJlc3BvbnNlJywgJ3BhcmFtc1NlcmlhbGl6ZXInLFxuICAgICd0aW1lb3V0JywgJ3dpdGhDcmVkZW50aWFscycsICdhZGFwdGVyJywgJ3Jlc3BvbnNlVHlwZScsICd4c3JmQ29va2llTmFtZScsXG4gICAgJ3hzcmZIZWFkZXJOYW1lJywgJ29uVXBsb2FkUHJvZ3Jlc3MnLCAnb25Eb3dubG9hZFByb2dyZXNzJywgJ21heENvbnRlbnRMZW5ndGgnLFxuICAgICd2YWxpZGF0ZVN0YXR1cycsICdtYXhSZWRpcmVjdHMnLCAnaHR0cEFnZW50JywgJ2h0dHBzQWdlbnQnLCAnY2FuY2VsVG9rZW4nLFxuICAgICdzb2NrZXRQYXRoJ1xuICBdLCBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanNcbi8vIG1vZHVsZSBpZCA9IDM1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qc1xuLy8gbW9kdWxlIGlkID0gMzU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qc1xuLy8gbW9kdWxlIGlkID0gMzYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanNcbi8vIG1vZHVsZSBpZCA9IDM2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZW5jb2RlID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbmV4cG9ydHMuZGVjb2RlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9nZW9idWYvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZW5jb2RlO1xuXG52YXIga2V5cywga2V5c051bSwga2V5c0FyciwgZGltLCBlLFxuICAgIG1heFByZWNpc2lvbiA9IDFlNjtcblxudmFyIGdlb21ldHJ5VHlwZXMgPSB7XG4gICAgJ1BvaW50JzogMCxcbiAgICAnTXVsdGlQb2ludCc6IDEsXG4gICAgJ0xpbmVTdHJpbmcnOiAyLFxuICAgICdNdWx0aUxpbmVTdHJpbmcnOiAzLFxuICAgICdQb2x5Z29uJzogNCxcbiAgICAnTXVsdGlQb2x5Z29uJzogNSxcbiAgICAnR2VvbWV0cnlDb2xsZWN0aW9uJzogNlxufTtcblxuZnVuY3Rpb24gZW5jb2RlKG9iaiwgcGJmKSB7XG4gICAga2V5cyA9IHt9O1xuICAgIGtleXNBcnIgPSBbXTtcbiAgICBrZXlzTnVtID0gMDtcbiAgICBkaW0gPSAwO1xuICAgIGUgPSAxO1xuXG4gICAgYW5hbHl6ZShvYmopO1xuXG4gICAgZSA9IE1hdGgubWluKGUsIG1heFByZWNpc2lvbik7XG4gICAgdmFyIHByZWNpc2lvbiA9IE1hdGguY2VpbChNYXRoLmxvZyhlKSAvIE1hdGguTE4xMCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIGtleXNBcnJbaV0pO1xuICAgIGlmIChkaW0gIT09IDIpIHBiZi53cml0ZVZhcmludEZpZWxkKDIsIGRpbSk7XG4gICAgaWYgKHByZWNpc2lvbiAhPT0gNikgcGJmLndyaXRlVmFyaW50RmllbGQoMywgcHJlY2lzaW9uKTtcblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykgcGJmLndyaXRlTWVzc2FnZSg0LCB3cml0ZUZlYXR1cmVDb2xsZWN0aW9uLCBvYmopO1xuICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZScpIHBiZi53cml0ZU1lc3NhZ2UoNSwgd3JpdGVGZWF0dXJlLCBvYmopO1xuICAgIGVsc2UgcGJmLndyaXRlTWVzc2FnZSg2LCB3cml0ZUdlb21ldHJ5LCBvYmopO1xuXG4gICAga2V5cyA9IG51bGw7XG5cbiAgICByZXR1cm4gcGJmLmZpbmlzaCgpO1xufVxuXG5mdW5jdGlvbiBhbmFseXplKG9iaikge1xuICAgIHZhciBpLCBrZXk7XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5mZWF0dXJlcy5sZW5ndGg7IGkrKykgYW5hbHl6ZShvYmouZmVhdHVyZXNbaV0pO1xuXG4gICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG4gICAgICAgIGlmIChvYmouZ2VvbWV0cnkgIT09IG51bGwpIGFuYWx5emUob2JqLmdlb21ldHJ5KTtcbiAgICAgICAgZm9yIChrZXkgaW4gb2JqLnByb3BlcnRpZXMpIHNhdmVLZXkoa2V5KTtcblxuICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICdQb2ludCcpIGFuYWx5emVQb2ludChvYmouY29vcmRpbmF0ZXMpO1xuICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnTXVsdGlQb2ludCcpIGFuYWx5emVQb2ludHMob2JqLmNvb3JkaW5hdGVzKTtcbiAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5nZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSBhbmFseXplKG9iai5nZW9tZXRyaWVzW2ldKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdMaW5lU3RyaW5nJykgYW5hbHl6ZVBvaW50cyhvYmouY29vcmRpbmF0ZXMpO1xuICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnUG9seWdvbicgfHwgb2JqLnR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSBhbmFseXplTXVsdGlMaW5lKG9iai5jb29yZGluYXRlcyk7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmouY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIGFuYWx5emVNdWx0aUxpbmUob2JqLmNvb3JkaW5hdGVzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFpc1NwZWNpYWxLZXkoa2V5LCBvYmoudHlwZSkpIHNhdmVLZXkoa2V5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFuYWx5emVNdWx0aUxpbmUoY29vcmRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIGFuYWx5emVQb2ludHMoY29vcmRzW2ldKTtcbn1cblxuZnVuY3Rpb24gYW5hbHl6ZVBvaW50cyhjb29yZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgYW5hbHl6ZVBvaW50KGNvb3Jkc1tpXSk7XG59XG5cbmZ1bmN0aW9uIGFuYWx5emVQb2ludChwb2ludCkge1xuICAgIGRpbSA9IE1hdGgubWF4KGRpbSwgcG9pbnQubGVuZ3RoKTtcblxuICAgIC8vIGZpbmQgbWF4IHByZWNpc2lvblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd2hpbGUgKE1hdGgucm91bmQocG9pbnRbaV0gKiBlKSAvIGUgIT09IHBvaW50W2ldICYmIGUgPCBtYXhQcmVjaXNpb24pIGUgKj0gMTA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzYXZlS2V5KGtleSkge1xuICAgIGlmIChrZXlzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlzQXJyLnB1c2goa2V5KTtcbiAgICAgICAga2V5c1trZXldID0ga2V5c051bSsrO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd3JpdGVGZWF0dXJlQ29sbGVjdGlvbihvYmosIHBiZikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBiZi53cml0ZU1lc3NhZ2UoMSwgd3JpdGVGZWF0dXJlLCBvYmouZmVhdHVyZXNbaV0pO1xuICAgIH1cbiAgICB3cml0ZVByb3BzKG9iaiwgcGJmLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVGZWF0dXJlKGZlYXR1cmUsIHBiZikge1xuICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ICE9PSBudWxsKSBwYmYud3JpdGVNZXNzYWdlKDEsIHdyaXRlR2VvbWV0cnksIGZlYXR1cmUuZ2VvbWV0cnkpO1xuXG4gICAgaWYgKGZlYXR1cmUuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmUuaWQgPT09ICdudW1iZXInICYmIGZlYXR1cmUuaWQgJSAxID09PSAwKSBwYmYud3JpdGVTVmFyaW50RmllbGQoMTIsIGZlYXR1cmUuaWQpO1xuICAgICAgICBlbHNlIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDExLCBmZWF0dXJlLmlkKTtcbiAgICB9XG5cbiAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB3cml0ZVByb3BzKGZlYXR1cmUucHJvcGVydGllcywgcGJmKTtcbiAgICB3cml0ZVByb3BzKGZlYXR1cmUsIHBiZiwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlR2VvbWV0cnkoZ2VvbSwgcGJmKSB7XG4gICAgcGJmLndyaXRlVmFyaW50RmllbGQoMSwgZ2VvbWV0cnlUeXBlc1tnZW9tLnR5cGVdKTtcblxuICAgIHZhciBjb29yZHMgPSBnZW9tLmNvb3JkaW5hdGVzO1xuXG4gICAgaWYgKGdlb20udHlwZSA9PT0gJ1BvaW50Jykgd3JpdGVQb2ludChjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlQb2ludCcpIHdyaXRlTGluZShjb29yZHMsIHBiZiwgdHJ1ZSk7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTGluZVN0cmluZycpIHdyaXRlTGluZShjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykgd3JpdGVNdWx0aUxpbmUoY29vcmRzLCBwYmYpO1xuICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ1BvbHlnb24nKSB3cml0ZU11bHRpTGluZShjb29yZHMsIHBiZiwgdHJ1ZSk7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlQb2x5Z29uJykgd3JpdGVNdWx0aVBvbHlnb24oY29vcmRzLCBwYmYpO1xuICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tLmdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHBiZi53cml0ZU1lc3NhZ2UoNCwgd3JpdGVHZW9tZXRyeSwgZ2VvbS5nZW9tZXRyaWVzW2ldKTtcbiAgICB9XG5cbiAgICB3cml0ZVByb3BzKGdlb20sIHBiZiwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUHJvcHMocHJvcHMsIHBiZiwgaXNDdXN0b20pIHtcbiAgICB2YXIgaW5kZXhlcyA9IFtdLFxuICAgICAgICB2YWx1ZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoaXNDdXN0b20gJiYgaXNTcGVjaWFsS2V5KGtleSwgcHJvcHMudHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHBiZi53cml0ZU1lc3NhZ2UoMTMsIHdyaXRlVmFsdWUsIHByb3BzW2tleV0pO1xuICAgICAgICBpbmRleGVzLnB1c2goa2V5c1trZXldKTtcbiAgICAgICAgaW5kZXhlcy5wdXNoKHZhbHVlSW5kZXgrKyk7XG4gICAgfVxuICAgIHBiZi53cml0ZVBhY2tlZFZhcmludChpc0N1c3RvbSA/IDE1IDogMTQsIGluZGV4ZXMpO1xufVxuXG5mdW5jdGlvbiB3cml0ZVZhbHVlKHZhbHVlLCBwYmYpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcblxuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSBwYmYud3JpdGVTdHJpbmdGaWVsZCgxLCB2YWx1ZSk7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Jvb2xlYW4nKSBwYmYud3JpdGVCb29sZWFuRmllbGQoNSwgdmFsdWUpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSBwYmYud3JpdGVTdHJpbmdGaWVsZCg2LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh2YWx1ZSAlIDEgIT09IDApIHBiZi53cml0ZURvdWJsZUZpZWxkKDIsIHZhbHVlKTtcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPj0gMCkgcGJmLndyaXRlVmFyaW50RmllbGQoMywgdmFsdWUpO1xuICAgICAgICBlbHNlIHBiZi53cml0ZVZhcmludEZpZWxkKDQsIC12YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZVBvaW50KHBvaW50LCBwYmYpIHtcbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW07IGkrKykgY29vcmRzLnB1c2goTWF0aC5yb3VuZChwb2ludFtpXSAqIGUpKTtcbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTGluZShsaW5lLCBwYmYpIHtcbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgcG9wdWxhdGVMaW5lKGNvb3JkcywgbGluZSk7XG4gICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xufVxuXG5mdW5jdGlvbiB3cml0ZU11bHRpTGluZShsaW5lcywgcGJmLCBjbG9zZWQpIHtcbiAgICB2YXIgbGVuID0gbGluZXMubGVuZ3RoLFxuICAgICAgICBpO1xuICAgIGlmIChsZW4gIT09IDEpIHtcbiAgICAgICAgdmFyIGxlbmd0aHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSBsZW5ndGhzLnB1c2gobGluZXNbaV0ubGVuZ3RoIC0gKGNsb3NlZCA/IDEgOiAwKSk7XG4gICAgICAgIHBiZi53cml0ZVBhY2tlZFZhcmludCgyLCBsZW5ndGhzKTtcbiAgICAgICAgLy8gVE9ETyBmYXN0ZXIgd2l0aCBjdXN0b20gd3JpdGVNZXNzYWdlP1xuICAgIH1cbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lc1tpXSwgY2xvc2VkKTtcbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTXVsdGlQb2x5Z29uKHBvbHlnb25zLCBwYmYpIHtcbiAgICB2YXIgbGVuID0gcG9seWdvbnMubGVuZ3RoLFxuICAgICAgICBpLCBqO1xuICAgIGlmIChsZW4gIT09IDEgfHwgcG9seWdvbnNbMF0ubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHZhciBsZW5ndGhzID0gW2xlbl07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGVuZ3Rocy5wdXNoKHBvbHlnb25zW2ldLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcG9seWdvbnNbaV0ubGVuZ3RoOyBqKyspIGxlbmd0aHMucHVzaChwb2x5Z29uc1tpXVtqXS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBwYmYud3JpdGVQYWNrZWRWYXJpbnQoMiwgbGVuZ3Rocyk7XG4gICAgfVxuXG4gICAgdmFyIGNvb3JkcyA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgcG9seWdvbnNbaV0ubGVuZ3RoOyBqKyspIHBvcHVsYXRlTGluZShjb29yZHMsIHBvbHlnb25zW2ldW2pdLCB0cnVlKTtcbiAgICB9XG4gICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lLCBjbG9zZWQpIHtcbiAgICB2YXIgaSwgaixcbiAgICAgICAgbGVuID0gbGluZS5sZW5ndGggLSAoY2xvc2VkID8gMSA6IDApLFxuICAgICAgICBzdW0gPSBuZXcgQXJyYXkoZGltKTtcbiAgICBmb3IgKGogPSAwOyBqIDwgZGltOyBqKyspIHN1bVtqXSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBkaW07IGorKykge1xuICAgICAgICAgICAgdmFyIG4gPSBNYXRoLnJvdW5kKGxpbmVbaV1bal0gKiBlKSAtIHN1bVtqXTtcbiAgICAgICAgICAgIGNvb3Jkcy5wdXNoKG4pO1xuICAgICAgICAgICAgc3VtW2pdICs9IG47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbEtleShrZXksIHR5cGUpIHtcbiAgICBpZiAoa2V5ID09PSAndHlwZScpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2ZlYXR1cmVzJykgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnRmVhdHVyZScpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lkJyB8fCBrZXkgPT09ICdwcm9wZXJ0aWVzJyB8fCBrZXkgPT09ICdnZW9tZXRyeScpIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2dlb21ldHJpZXMnKSByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Nvb3JkaW5hdGVzJykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2dlb2J1Zi9lbmNvZGUuanNcbi8vIG1vZHVsZSBpZCA9IDM2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVjb2RlO1xuXG52YXIga2V5cywgdmFsdWVzLCBsZW5ndGhzLCBkaW0sIGU7XG5cbnZhciBnZW9tZXRyeVR5cGVzID0gW1xuICAgICdQb2ludCcsICdNdWx0aVBvaW50JywgJ0xpbmVTdHJpbmcnLCAnTXVsdGlMaW5lU3RyaW5nJyxcbiAgICAnUG9seWdvbicsICdNdWx0aVBvbHlnb24nLCAnR2VvbWV0cnlDb2xsZWN0aW9uJ107XG5cbmZ1bmN0aW9uIGRlY29kZShwYmYpIHtcbiAgICBkaW0gPSAyO1xuICAgIGUgPSBNYXRoLnBvdygxMCwgNik7XG4gICAgbGVuZ3RocyA9IG51bGw7XG5cbiAgICBrZXlzID0gW107XG4gICAgdmFsdWVzID0gW107XG4gICAgdmFyIG9iaiA9IHBiZi5yZWFkRmllbGRzKHJlYWREYXRhRmllbGQsIHt9KTtcbiAgICBrZXlzID0gbnVsbDtcblxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHJlYWREYXRhRmllbGQodGFnLCBvYmosIHBiZikge1xuICAgIGlmICh0YWcgPT09IDEpIGtleXMucHVzaChwYmYucmVhZFN0cmluZygpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDIpIGRpbSA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAzKSBlID0gTWF0aC5wb3coMTAsIHBiZi5yZWFkVmFyaW50KCkpO1xuXG4gICAgZWxzZSBpZiAodGFnID09PSA0KSByZWFkRmVhdHVyZUNvbGxlY3Rpb24ocGJmLCBvYmopO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgcmVhZEZlYXR1cmUocGJmLCBvYmopO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gNikgcmVhZEdlb21ldHJ5KHBiZiwgb2JqKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmVDb2xsZWN0aW9uKHBiZiwgb2JqKSB7XG4gICAgb2JqLnR5cGUgPSAnRmVhdHVyZUNvbGxlY3Rpb24nO1xuICAgIG9iai5mZWF0dXJlcyA9IFtdO1xuICAgIHJldHVybiBwYmYucmVhZE1lc3NhZ2UocmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQsIG9iaik7XG59XG5cbmZ1bmN0aW9uIHJlYWRGZWF0dXJlKHBiZiwgZmVhdHVyZSkge1xuICAgIGZlYXR1cmUudHlwZSA9ICdGZWF0dXJlJztcbiAgICB2YXIgZiA9IHBiZi5yZWFkTWVzc2FnZShyZWFkRmVhdHVyZUZpZWxkLCBmZWF0dXJlKTtcbiAgICBpZiAoIWYuaGFzT3duUHJvcGVydHkoJ2dlb21ldHJ5JykpIGYuZ2VvbWV0cnkgPSBudWxsO1xuICAgIHJldHVybiBmO1xufVxuXG5mdW5jdGlvbiByZWFkR2VvbWV0cnkocGJmLCBnZW9tKSB7XG4gICAgcmV0dXJuIHBiZi5yZWFkTWVzc2FnZShyZWFkR2VvbWV0cnlGaWVsZCwgZ2VvbSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGZWF0dXJlQ29sbGVjdGlvbkZpZWxkKHRhZywgb2JqLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxKSBvYmouZmVhdHVyZXMucHVzaChyZWFkRmVhdHVyZShwYmYsIHt9KSk7XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgb2JqKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmVGaWVsZCh0YWcsIGZlYXR1cmUsIHBiZikge1xuICAgIGlmICh0YWcgPT09IDEpIGZlYXR1cmUuZ2VvbWV0cnkgPSByZWFkR2VvbWV0cnkocGJmLCB7fSk7XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDExKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDEyKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRTVmFyaW50KCk7XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNCkgZmVhdHVyZS5wcm9wZXJ0aWVzID0gcmVhZFByb3BzKHBiZiwge30pO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTUpIHJlYWRQcm9wcyhwYmYsIGZlYXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWFkR2VvbWV0cnlGaWVsZCh0YWcsIGdlb20sIHBiZikge1xuICAgIGlmICh0YWcgPT09IDEpIGdlb20udHlwZSA9IGdlb21ldHJ5VHlwZXNbcGJmLnJlYWRWYXJpbnQoKV07XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDIpIGxlbmd0aHMgPSBwYmYucmVhZFBhY2tlZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgcmVhZENvb3JkcyhnZW9tLCBwYmYsIGdlb20udHlwZSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSB7XG4gICAgICAgIGdlb20uZ2VvbWV0cmllcyA9IGdlb20uZ2VvbWV0cmllcyB8fCBbXTtcbiAgICAgICAgZ2VvbS5nZW9tZXRyaWVzLnB1c2gocmVhZEdlb21ldHJ5KHBiZiwge30pKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFnID09PSAxMykgdmFsdWVzLnB1c2gocmVhZFZhbHVlKHBiZikpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTUpIHJlYWRQcm9wcyhwYmYsIGdlb20pO1xufVxuXG5mdW5jdGlvbiByZWFkQ29vcmRzKGdlb20sIHBiZiwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnUG9pbnQnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZFBvaW50KHBiZik7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUG9pbnQnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZExpbmUocGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTGluZVN0cmluZycpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTGluZShwYmYpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpTGluZShwYmYpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdQb2x5Z29uJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRNdWx0aUxpbmUocGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2x5Z29uJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRNdWx0aVBvbHlnb24ocGJmKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlKHBiZikge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgdmFyIHZhbCA9IHBiZi5yZWFkVmFyaW50KCksXG4gICAgICAgICAgICB0YWcgPSB2YWwgPj4gMztcblxuICAgICAgICBpZiAodGFnID09PSAxKSB2YWx1ZSA9IHBiZi5yZWFkU3RyaW5nKCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgdmFsdWUgPSBwYmYucmVhZERvdWJsZSgpO1xuICAgICAgICBlbHNlIGlmICh0YWcgPT09IDMpIHZhbHVlID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgZWxzZSBpZiAodGFnID09PSA0KSB2YWx1ZSA9IC1wYmYucmVhZFZhcmludCgpO1xuICAgICAgICBlbHNlIGlmICh0YWcgPT09IDUpIHZhbHVlID0gcGJmLnJlYWRCb29sZWFuKCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNikgdmFsdWUgPSBKU09OLnBhcnNlKHBiZi5yZWFkU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlYWRQcm9wcyhwYmYsIHByb3BzKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSBwcm9wc1trZXlzW3BiZi5yZWFkVmFyaW50KCldXSA9IHZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcbiAgICB2YWx1ZXMgPSBbXTtcbiAgICByZXR1cm4gcHJvcHM7XG59XG5cbmZ1bmN0aW9uIHJlYWRQb2ludChwYmYpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNvb3JkcyA9IFtdO1xuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSBjb29yZHMucHVzaChwYmYucmVhZFNWYXJpbnQoKSAvIGUpO1xuICAgIHJldHVybiBjb29yZHM7XG59XG5cbmZ1bmN0aW9uIHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuLCBjbG9zZWQpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGNvb3JkcyA9IFtdLFxuICAgICAgICBwLCBkO1xuXG4gICAgdmFyIHByZXZQID0gW107XG4gICAgZm9yIChkID0gMDsgZCA8IGRpbTsgZCsrKSBwcmV2UFtkXSA9IDA7XG5cbiAgICB3aGlsZSAobGVuID8gaSA8IGxlbiA6IHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgcCA9IFtdO1xuICAgICAgICBmb3IgKGQgPSAwOyBkIDwgZGltOyBkKyspIHtcbiAgICAgICAgICAgIHByZXZQW2RdICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgcFtkXSA9IHByZXZQW2RdIC8gZTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZHMucHVzaChwKTtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoY2xvc2VkKSBjb29yZHMucHVzaChjb29yZHNbMF0pO1xuXG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuZnVuY3Rpb24gcmVhZExpbmUocGJmKSB7XG4gICAgcmV0dXJuIHJlYWRMaW5lUGFydChwYmYsIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zKTtcbn1cblxuZnVuY3Rpb24gcmVhZE11bHRpTGluZShwYmYsIGNsb3NlZCkge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcbiAgICBpZiAoIWxlbmd0aHMpIHJldHVybiBbcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBudWxsLCBjbG9zZWQpXTtcblxuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aHMubGVuZ3RoOyBpKyspIGNvb3Jkcy5wdXNoKHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuZ3Roc1tpXSwgY2xvc2VkKSk7XG4gICAgbGVuZ3RocyA9IG51bGw7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuZnVuY3Rpb24gcmVhZE11bHRpUG9seWdvbihwYmYpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG4gICAgaWYgKCFsZW5ndGhzKSByZXR1cm4gW1tyZWFkTGluZVBhcnQocGJmLCBlbmQsIG51bGwsIHRydWUpXV07XG5cbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgdmFyIGogPSAxO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3Roc1swXTsgaSsrKSB7XG4gICAgICAgIHZhciByaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbmd0aHNbal07IGsrKykgcmluZ3MucHVzaChyZWFkTGluZVBhcnQocGJmLCBlbmQsIGxlbmd0aHNbaiArIDEgKyBrXSwgdHJ1ZSkpO1xuICAgICAgICBqICs9IGxlbmd0aHNbal0gKyAxO1xuICAgICAgICBjb29yZHMucHVzaChyaW5ncyk7XG4gICAgfVxuICAgIGxlbmd0aHMgPSBudWxsO1xuICAgIHJldHVybiBjb29yZHM7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZ2VvYnVmL2RlY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMzY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYmY7XG5cbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpO1xuXG5mdW5jdGlvbiBQYmYoYnVmKSB7XG4gICAgdGhpcy5idWYgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KGJ1ZikgPyBidWYgOiBuZXcgVWludDhBcnJheShidWYgfHwgMCk7XG4gICAgdGhpcy5wb3MgPSAwO1xuICAgIHRoaXMudHlwZSA9IDA7XG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLmJ1Zi5sZW5ndGg7XG59XG5cblBiZi5WYXJpbnQgID0gMDsgLy8gdmFyaW50OiBpbnQzMiwgaW50NjQsIHVpbnQzMiwgdWludDY0LCBzaW50MzIsIHNpbnQ2NCwgYm9vbCwgZW51bVxuUGJmLkZpeGVkNjQgPSAxOyAvLyA2NC1iaXQ6IGRvdWJsZSwgZml4ZWQ2NCwgc2ZpeGVkNjRcblBiZi5CeXRlcyAgID0gMjsgLy8gbGVuZ3RoLWRlbGltaXRlZDogc3RyaW5nLCBieXRlcywgZW1iZWRkZWQgbWVzc2FnZXMsIHBhY2tlZCByZXBlYXRlZCBmaWVsZHNcblBiZi5GaXhlZDMyID0gNTsgLy8gMzItYml0OiBmbG9hdCwgZml4ZWQzMiwgc2ZpeGVkMzJcblxudmFyIFNISUZUX0xFRlRfMzIgPSAoMSA8PCAxNikgKiAoMSA8PCAxNiksXG4gICAgU0hJRlRfUklHSFRfMzIgPSAxIC8gU0hJRlRfTEVGVF8zMjtcblxuUGJmLnByb3RvdHlwZSA9IHtcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmJ1ZiA9IG51bGw7XG4gICAgfSxcblxuICAgIC8vID09PSBSRUFESU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZWFkRmllbGRzOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCwgZW5kKSB7XG4gICAgICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMyxcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMucG9zO1xuXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB2YWwgJiAweDc7XG4gICAgICAgICAgICByZWFkRmllbGQodGFnLCByZXN1bHQsIHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHN0YXJ0UG9zKSB0aGlzLnNraXAodmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICByZWFkTWVzc2FnZTogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZpZWxkcyhyZWFkRmllbGQsIHJlc3VsdCwgdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyk7XG4gICAgfSxcblxuICAgIHJlYWRGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyA2NC1iaXQgaW50IGhhbmRsaW5nIGlzIGJhc2VkIG9uIGdpdGh1Yi5jb20vZHB3L25vZGUtYnVmZmVyLW1vcmUtaW50cyAoTUlULWxpY2Vuc2VkKVxuXG4gICAgcmVhZEZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRTRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRmxvYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFZhcmludDogZnVuY3Rpb24oaXNTaWduZWQpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmLFxuICAgICAgICAgICAgdmFsLCBiO1xuXG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCAgPSAgYiAmIDB4N2Y7ICAgICAgICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDc7ICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDE0OyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDIxOyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3NdOyAgIHZhbCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuXG4gICAgICAgIHJldHVybiByZWFkVmFyaW50UmVtYWluZGVyKHZhbCwgaXNTaWduZWQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50NjQ6IGZ1bmN0aW9uKCkgeyAvLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHYyLjAuMVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaW50KHRydWUpO1xuICAgIH0sXG5cbiAgICByZWFkU1ZhcmludDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBudW0gPSB0aGlzLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgcmV0dXJuIG51bSAlIDIgPT09IDEgPyAobnVtICsgMSkgLyAtMiA6IG51bSAvIDI7IC8vIHppZ3phZyBlbmNvZGluZ1xuICAgIH0sXG5cbiAgICByZWFkQm9vbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKTtcbiAgICB9LFxuXG4gICAgcmVhZFN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zLFxuICAgICAgICAgICAgc3RyID0gcmVhZFV0ZjgodGhpcy5idWYsIHRoaXMucG9zLCBlbmQpO1xuICAgICAgICB0aGlzLnBvcyA9IGVuZDtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgcmVhZEJ5dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBidWZmZXIgPSB0aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcywgZW5kKTtcbiAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfSxcblxuICAgIC8vIHZlcmJvc2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM7IGRvZXNuJ3QgYWZmZWN0IGd6aXBwZWQgc2l6ZVxuXG4gICAgcmVhZFBhY2tlZFZhcmludDogZnVuY3Rpb24oYXJyLCBpc1NpZ25lZCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTVmFyaW50OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEJvb2xlYW46IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRmxvYXQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWREb3VibGU6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcblxuICAgIHNraXA6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgdHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgaWYgKHR5cGUgPT09IFBiZi5WYXJpbnQpIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA+IDB4N2YpIHt9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5CeXRlcykgdGhpcy5wb3MgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQzMikgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkNjQpIHRoaXMucG9zICs9IDg7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9LFxuXG4gICAgLy8gPT09IFdSSVRJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHdyaXRlVGFnOiBmdW5jdGlvbih0YWcsIHR5cGUpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCgodGFnIDw8IDMpIHwgdHlwZSk7XG4gICAgfSxcblxuICAgIHJlYWxsb2M6IGZ1bmN0aW9uKG1pbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMTY7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRoaXMucG9zICsgbWluKSBsZW5ndGggKj0gMjtcblxuICAgICAgICBpZiAobGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICBidWYuc2V0KHRoaXMuYnVmKTtcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoMCwgdGhpcy5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICB9LFxuXG4gICAgd3JpdGVGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVTRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuXG4gICAgICAgIGlmICh2YWwgPiAweGZmZmZmZmYgfHwgdmFsIDwgMCkge1xuICAgICAgICAgICAgd3JpdGVCaWdWYXJpbnQodmFsLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblxuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgICAgICAgICB2YWwgJiAweDdmICB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgKHZhbCA+Pj4gNykgJiAweDdmO1xuICAgIH0sXG5cbiAgICB3cml0ZVNWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCA8IDAgPyAtdmFsICogMiAtIDEgOiB2YWwgKiAyKTtcbiAgICB9LFxuXG4gICAgd3JpdGVCb29sZWFuOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChCb29sZWFuKHZhbCkpO1xuICAgIH0sXG5cbiAgICB3cml0ZVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuICAgICAgICB0aGlzLnJlYWxsb2Moc3RyLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBzdHJpbmcgbGVuZ3RoXG5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIC8vIHdyaXRlIHRoZSBzdHJpbmcgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHRoaXMucG9zID0gd3JpdGVVdGY4KHRoaXMuYnVmLCBzdHIsIHRoaXMucG9zKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cbiAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXG4gICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICB9LFxuXG4gICAgd3JpdGVGbG9hdDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZURvdWJsZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZUJ5dGVzOiBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5yZWFsbG9jKGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXMuYnVmW3RoaXMucG9zKytdID0gYnVmZmVyW2ldO1xuICAgIH0sXG5cbiAgICB3cml0ZVJhd01lc3NhZ2U6IGZ1bmN0aW9uKGZuLCBvYmopIHtcbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IG1lc3NhZ2UgbGVuZ3RoXG5cbiAgICAgICAgLy8gd3JpdGUgdGhlIG1lc3NhZ2UgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuICAgICAgICBmbihvYmosIHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uKHRhZywgZm4sIG9iaikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVJhd01lc3NhZ2UoZm4sIG9iaik7XG4gICAgfSxcblxuICAgIHdyaXRlUGFja2VkVmFyaW50OiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkVmFyaW50LCBhcnIpOyAgIH0sXG4gICAgd3JpdGVQYWNrZWRTVmFyaW50OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTVmFyaW50LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZEJvb2xlYW46ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEJvb2xlYW4sIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkRmxvYXQ6ICAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRmxvYXQsIGFycik7ICAgIH0sXG4gICAgd3JpdGVQYWNrZWREb3VibGU6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWREb3VibGUsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkMzI6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkMzIsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkMzIsIGFycik7IH0sXG4gICAgd3JpdGVQYWNrZWRGaXhlZDY0OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDY0LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDY0LCBhcnIpOyB9LFxuXG4gICAgd3JpdGVCeXRlc0ZpZWxkOiBmdW5jdGlvbih0YWcsIGJ1ZmZlcikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ1ZmZlcik7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDMyKHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDY0KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU1ZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVTVmFyaW50KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVN0cmluZ0ZpZWxkOiBmdW5jdGlvbih0YWcsIHN0cikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVN0cmluZyhzdHIpO1xuICAgIH0sXG4gICAgd3JpdGVGbG9hdEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRmxvYXQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRG91YmxlRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG4gICAgICAgIHRoaXMud3JpdGVEb3VibGUodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlQm9vbGVhbkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50RmllbGQodGFnLCBCb29sZWFuKHZhbCkpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlYWRWYXJpbnRSZW1haW5kZXIobCwgcywgcCkge1xuICAgIHZhciBidWYgPSBwLmJ1ZixcbiAgICAgICAgaCwgYjtcblxuICAgIGIgPSBidWZbcC5wb3MrK107IGggID0gKGIgJiAweDcwKSA+PiA0OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDM7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTA7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxNzsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDI0OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHgwMSkgPDwgMzE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcycpO1xufVxuXG5mdW5jdGlvbiByZWFkUGFja2VkRW5kKHBiZikge1xuICAgIHJldHVybiBwYmYudHlwZSA9PT0gUGJmLkJ5dGVzID9cbiAgICAgICAgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MgOiBwYmYucG9zICsgMTtcbn1cblxuZnVuY3Rpb24gdG9OdW0obG93LCBoaWdoLCBpc1NpZ25lZCkge1xuICAgIGlmIChpc1NpZ25lZCkge1xuICAgICAgICByZXR1cm4gaGlnaCAqIDB4MTAwMDAwMDAwICsgKGxvdyA+Pj4gMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgoaGlnaCA+Pj4gMCkgKiAweDEwMDAwMDAwMCkgKyAobG93ID4+PiAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnQodmFsLCBwYmYpIHtcbiAgICB2YXIgbG93LCBoaWdoO1xuXG4gICAgaWYgKHZhbCA+PSAwKSB7XG4gICAgICAgIGxvdyAgPSAodmFsICUgMHgxMDAwMDAwMDApIHwgMDtcbiAgICAgICAgaGlnaCA9ICh2YWwgLyAweDEwMDAwMDAwMCkgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyAgPSB+KC12YWwgJSAweDEwMDAwMDAwMCk7XG4gICAgICAgIGhpZ2ggPSB+KC12YWwgLyAweDEwMDAwMDAwMCk7XG5cbiAgICAgICAgaWYgKGxvdyBeIDB4ZmZmZmZmZmYpIHtcbiAgICAgICAgICAgIGxvdyA9IChsb3cgKyAxKSB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSAwO1xuICAgICAgICAgICAgaGlnaCA9IChoaWdoICsgMSkgfCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbCA+PSAweDEwMDAwMDAwMDAwMDAwMDAwIHx8IHZhbCA8IC0weDEwMDAwMDAwMDAwMDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2l2ZW4gdmFyaW50IGRvZXNuXFwndCBmaXQgaW50byAxMCBieXRlcycpO1xuICAgIH1cblxuICAgIHBiZi5yZWFsbG9jKDEwKTtcblxuICAgIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKTtcbiAgICB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpIHtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3NdICAgPSBsb3cgJiAweDdmO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKSB7XG4gICAgdmFyIGxzYiA9IChoaWdoICYgMHgwNykgPDwgNDtcblxuICAgIHBiZi5idWZbcGJmLnBvcysrXSB8PSBsc2IgICAgICAgICB8ICgoaGlnaCA+Pj49IDMpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmO1xufVxuXG5mdW5jdGlvbiBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHBiZikge1xuICAgIHZhciBleHRyYUxlbiA9XG4gICAgICAgIGxlbiA8PSAweDNmZmYgPyAxIDpcbiAgICAgICAgbGVuIDw9IDB4MWZmZmZmID8gMiA6XG4gICAgICAgIGxlbiA8PSAweGZmZmZmZmYgPyAzIDogTWF0aC5mbG9vcihNYXRoLmxvZyhsZW4pIC8gKE1hdGguTE4yICogNykpO1xuXG4gICAgLy8gaWYgMSBieXRlIGlzbid0IGVub3VnaCBmb3IgZW5jb2RpbmcgbWVzc2FnZSBsZW5ndGgsIHNoaWZ0IHRoZSBkYXRhIHRvIHRoZSByaWdodFxuICAgIHBiZi5yZWFsbG9jKGV4dHJhTGVuKTtcbiAgICBmb3IgKHZhciBpID0gcGJmLnBvcyAtIDE7IGkgPj0gc3RhcnRQb3M7IGktLSkgcGJmLmJ1ZltpICsgZXh0cmFMZW5dID0gcGJmLmJ1ZltpXTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlVmFyaW50KGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTVmFyaW50KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU1ZhcmludChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGbG9hdChhcnIsIHBiZikgICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRmxvYXQoYXJyW2ldKTsgICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRG91YmxlKGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRCb29sZWFuKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlQm9vbGVhbihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDMyKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQzMihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQzMihhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkMzIoYXJyW2ldKTsgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQ2NChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NChhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkNjQoYXJyW2ldKTsgfVxuXG4vLyBCdWZmZXIgY29kZSBiZWxvdyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyLCBNSVQtbGljZW5zZWRcblxuZnVuY3Rpb24gcmVhZFVJbnQzMihidWYsIHBvcykge1xuICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG4gICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuICAgICAgICAoYnVmW3BvcyArIDNdICogMHgxMDAwMDAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVJbnQzMihidWYsIHZhbCwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWw7XG4gICAgYnVmW3BvcyArIDFdID0gKHZhbCA+Pj4gOCk7XG4gICAgYnVmW3BvcyArIDJdID0gKHZhbCA+Pj4gMTYpO1xuICAgIGJ1Zltwb3MgKyAzXSA9ICh2YWwgPj4+IDI0KTtcbn1cblxuZnVuY3Rpb24gcmVhZEludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gPDwgMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkVXRmOChidWYsIHBvcywgZW5kKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpID0gcG9zO1xuXG4gICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgdmFyIGIwID0gYnVmW2ldO1xuICAgICAgICB2YXIgYyA9IG51bGw7IC8vIGNvZGVwb2ludFxuICAgICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9XG4gICAgICAgICAgICBiMCA+IDB4RUYgPyA0IDpcbiAgICAgICAgICAgIGIwID4gMHhERiA/IDMgOlxuICAgICAgICAgICAgYjAgPiAweEJGID8gMiA6IDE7XG5cbiAgICAgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlID4gZW5kKSBicmVhaztcblxuICAgICAgICB2YXIgYjEsIGIyLCBiMztcblxuICAgICAgICBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGIwIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSBiMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAyKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHgxRikgPDwgMHg2IHwgKGIxICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3Rikge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMykge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHhDIHwgKGIxICYgMHgzRikgPDwgMHg2IHwgKGIyICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3RkYgfHwgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gNCkge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgYjMgPSBidWZbaSArIDNdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwICYmIChiMyAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHgxMiB8IChiMSAmIDB4M0YpIDw8IDB4QyB8IChiMiAmIDB4M0YpIDw8IDB4NiB8IChiMyAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4RkZGRiB8fCBjID49IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSBudWxsKSB7XG4gICAgICAgICAgICBjID0gMHhGRkZEO1xuICAgICAgICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjID4gMHhGRkZGKSB7XG4gICAgICAgICAgICBjIC09IDB4MTAwMDA7XG4gICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgICAgICAgIGMgPSAweERDMDAgfCBjICYgMHgzRkY7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVXRmOChidWYsIHN0ciwgcG9zKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGMsIGxlYWQ7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpOyAvLyBjb2RlIHBvaW50XG5cbiAgICAgICAgaWYgKGMgPiAweEQ3RkYgJiYgYyA8IDB4RTAwMCkge1xuICAgICAgICAgICAgaWYgKGxlYWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYyA8IDB4REMwMCkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgICAgICAgICBsZWFkID0gYztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9IGxlYWQgLSAweEQ4MDAgPDwgMTAgfCBjIC0gMHhEQzAwIHwgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYyA+IDB4REJGRiB8fCAoaSArIDEgPT09IHN0ci5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxlYWQpIHtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gYztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgfCAweEMwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYyA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHhDIHwgMHhFMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDEyIHwgMHhGMDtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHhDICYgMHgzRiB8IDB4ODA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4NiAmIDB4M0YgfCAweDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9zO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3BiZi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWVzdCh7dXJsLCByZXNwb25zZVR5cGUgPSAnanNvbid9KSB7XG4gIGNvbnN0IGZldGNoRGF0YSA9ICgpID0+IHtcbiAgICByZXR1cm4gYXhpb3Moe1xuICAgICAgdXJsLFxuICAgICAgcmVzcG9uc2VUeXBlLFxuICAgIH0pLnRoZW4oKHtkYXRhfSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBmZXRjaERhdGEoKTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbmV0L3JlcXVlc3QuanMiLCJ2YXIgdGVtcGxhdGVSZSA9IC9cXHsgKihbXFx3Xy1dKykgKlxcfS9nO1xuXG4vLyBAZnVuY3Rpb24gdGVtcGxhdGUoc3RyOiBTdHJpbmcsIGRhdGE6IE9iamVjdCk6IFN0cmluZ1xuLy8gU2ltcGxlIHRlbXBsYXRpbmcgZmFjaWxpdHksIGFjY2VwdHMgYSB0ZW1wbGF0ZSBzdHJpbmcgb2YgdGhlIGZvcm0gYCdIZWxsbyB7YX0sIHtifSdgXG4vLyBhbmQgYSBkYXRhIG9iamVjdCBsaWtlIGB7YTogJ2ZvbycsIGI6ICdiYXInfWAsIHJldHVybnMgZXZhbHVhdGVkIHN0cmluZ1xuLy8gYCgnSGVsbG8gZm9vLCBiYXInKWAuIFlvdSBjYW4gYWxzbyBzcGVjaWZ5IGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIHN0cmluZ3MgZm9yXG4vLyBkYXRhIHZhbHVlcyDigJQgdGhleSB3aWxsIGJlIGV2YWx1YXRlZCBwYXNzaW5nIGBkYXRhYCBhcyBhbiBhcmd1bWVudC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlbXBsYXRlKHN0ciwgZGF0YSkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UodGVtcGxhdGVSZSwgZnVuY3Rpb24gKHN0ciwga2V5KSB7XG4gICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICcgKyBzdHIpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0cmluZy90ZW1wbGF0ZS5qcyIsInZhciB0aW1lTGFiZWxQcmVmaXggPSAn4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4paoICc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRpbWVMYWJlbChsYWJlbCkge1xuICByZXR1cm4gYCR7dGltZUxhYmVsUHJlZml4fSAke2xhYmVsfWA7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnNvbGUvZ2V0VGltZUxhYmVsLmpzIiwiaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4uL3ZhbGlkYXRlL2lzb2JqZWN0J1xuXG52YXIgTUFYX0RFUFRIID0gMTAwO1xuXG5mdW5jdGlvbiBleHBhbmRlZExvZyhpdGVtLCBkZXB0aCl7XG4gIGRlcHRoID0gZGVwdGggfHwgMzA7XG5cbiAgaWYgKGRlcHRoID4gTUFYX0RFUFRIICkge1xuICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc09iamVjdChpdGVtKSkge1xuICAgIGZvciAodmFyIHByb3AgaW4gaXRlbSkge1xuICAgICAgY29uc29sZS5sb2cocHJvcCwgaXRlbVtwcm9wXSk7XG4gICAgICBjb25zb2xlLmdyb3VwKHByb3AgKyAnIDogJyArKHR5cGVvZiBpdGVtW3Byb3BdKSk7XG4gICAgICBleHBhbmRlZExvZyhpdGVtW3Byb3BdLCBkZXB0aCArIDEpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0LCBzcGFjZSkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0LCBudWxsLCBzcGFjZSlcbn1cblxuZXhwb3J0IHtcbiAgZXhwYW5kZWRMb2csXG4gIHN0cmluZ2lmeSxcbn0gO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb25zb2xlL2V4cGFuZGVkTG9nLmpzIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvaXNvYmplY3QvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgQXJyYXkuaXNBcnJheSh2YWwpID09PSBmYWxzZTtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZhbGlkYXRlL2lzb2JqZWN0LmpzIiwibW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGVsYXllci5qcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBWZWN0b3JUaWxlTGF5ZXIgPSByZXF1aXJlKCcuL3ZlY3RvcnRpbGVsYXllcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGU7XG5cbmZ1bmN0aW9uIFZlY3RvclRpbGUocGJmLCBlbmQpIHtcbiAgICB0aGlzLmxheWVycyA9IHBiZi5yZWFkRmllbGRzKHJlYWRUaWxlLCB7fSwgZW5kKTtcbn1cblxuZnVuY3Rpb24gcmVhZFRpbGUodGFnLCBsYXllcnMsIHBiZikge1xuICAgIGlmICh0YWcgPT09IDMpIHtcbiAgICAgICAgdmFyIGxheWVyID0gbmV3IFZlY3RvclRpbGVMYXllcihwYmYsIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zKTtcbiAgICAgICAgaWYgKGxheWVyLmxlbmd0aCkgbGF5ZXJzW2xheWVyLm5hbWVdID0gbGF5ZXI7XG4gICAgfVxufVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC92ZWN0b3ItdGlsZS9saWIvdmVjdG9ydGlsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gNDA5NjtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxuICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cbiAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXG4gICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlbGF5ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM3M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBQb2ludCA9IHJlcXVpcmUoJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlRmVhdHVyZTtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUZlYXR1cmUocGJmLCBlbmQsIGV4dGVudCwga2V5cywgdmFsdWVzKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgdGhpcy5leHRlbnQgPSBleHRlbnQ7XG4gICAgdGhpcy50eXBlID0gMDtcblxuICAgIC8vIFByaXZhdGVcbiAgICB0aGlzLl9wYmYgPSBwYmY7XG4gICAgdGhpcy5fZ2VvbWV0cnkgPSAtMTtcbiAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICBwYmYucmVhZEZpZWxkcyhyZWFkRmVhdHVyZSwgdGhpcywgZW5kKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmUodGFnLCBmZWF0dXJlLCBwYmYpIHtcbiAgICBpZiAodGFnID09IDEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSAyKSByZWFkVGFnKHBiZiwgZmVhdHVyZSk7XG4gICAgZWxzZSBpZiAodGFnID09IDMpIGZlYXR1cmUudHlwZSA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09IDQpIGZlYXR1cmUuX2dlb21ldHJ5ID0gcGJmLnBvcztcbn1cblxuZnVuY3Rpb24gcmVhZFRhZyhwYmYsIGZlYXR1cmUpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICB2YXIga2V5ID0gZmVhdHVyZS5fa2V5c1twYmYucmVhZFZhcmludCgpXSxcbiAgICAgICAgICAgIHZhbHVlID0gZmVhdHVyZS5fdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbn1cblxuVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMgPSBbJ1Vua25vd24nLCAnUG9pbnQnLCAnTGluZVN0cmluZycsICdQb2x5Z29uJ107XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5sb2FkR2VvbWV0cnkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGJmID0gdGhpcy5fcGJmO1xuICAgIHBiZi5wb3MgPSB0aGlzLl9nZW9tZXRyeTtcblxuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgY21kID0gMSxcbiAgICAgICAgbGVuZ3RoID0gMCxcbiAgICAgICAgeCA9IDAsXG4gICAgICAgIHkgPSAwLFxuICAgICAgICBsaW5lcyA9IFtdLFxuICAgICAgICBsaW5lO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4NztcbiAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoLS07XG5cbiAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcbiAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXG4gICAgICAgICAgICBpZiAoY21kID09PSAxKSB7IC8vIG1vdmVUb1xuICAgICAgICAgICAgICAgIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZS5wdXNoKG5ldyBQb2ludCh4LCB5KSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjbWQgPT09IDcpIHtcblxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBuaWstdmVjdG9yLXRpbGUvaXNzdWVzLzkwXG4gICAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgICAgIGxpbmUucHVzaChsaW5lWzBdLmNsb25lKCkpOyAvLyBjbG9zZVBvbHlnb25cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcblxuICAgIHJldHVybiBsaW5lcztcbn07XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5iYm94ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcbiAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNtZCA9IDEsXG4gICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgeDEgPSBJbmZpbml0eSxcbiAgICAgICAgeDIgPSAtSW5maW5pdHksXG4gICAgICAgIHkxID0gSW5maW5pdHksXG4gICAgICAgIHkyID0gLUluZmluaXR5O1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4NztcbiAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoLS07XG5cbiAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcbiAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgaWYgKHggPCB4MSkgeDEgPSB4O1xuICAgICAgICAgICAgaWYgKHggPiB4MikgeDIgPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCB5MSkgeTEgPSB5O1xuICAgICAgICAgICAgaWYgKHkgPiB5MikgeTIgPSB5O1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY21kICE9PSA3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29tbWFuZCAnICsgY21kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbeDEsIHkxLCB4MiwgeTJdO1xufTtcblxuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTiA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuZXh0ZW50ICogTWF0aC5wb3coMiwgeiksXG4gICAgICAgIHgwID0gdGhpcy5leHRlbnQgKiB4LFxuICAgICAgICB5MCA9IHRoaXMuZXh0ZW50ICogeSxcbiAgICAgICAgY29vcmRzID0gdGhpcy5sb2FkR2VvbWV0cnkoKSxcbiAgICAgICAgdHlwZSA9IFZlY3RvclRpbGVGZWF0dXJlLnR5cGVzW3RoaXMudHlwZV0sXG4gICAgICAgIGksIGo7XG5cbiAgICBmdW5jdGlvbiBwcm9qZWN0KGxpbmUpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGxpbmVbal0sIHkyID0gMTgwIC0gKHAueSArIHkwKSAqIDM2MCAvIHNpemU7XG4gICAgICAgICAgICBsaW5lW2pdID0gW1xuICAgICAgICAgICAgICAgIChwLnggKyB4MCkgKiAzNjAgLyBzaXplIC0gMTgwLFxuICAgICAgICAgICAgICAgIDM2MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4oTWF0aC5leHAoeTIgKiBNYXRoLlBJIC8gMTgwKSkgLSA5MFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgY2FzZSAxOlxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tpXSA9IGNvb3Jkc1tpXVswXTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZHMgPSBwb2ludHM7XG4gICAgICAgIHByb2plY3QoY29vcmRzKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDI6XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgIGNhc2UgMzpcbiAgICAgICAgY29vcmRzID0gY2xhc3NpZnlSaW5ncyhjb29yZHMpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdChjb29yZHNbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChjb29yZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvb3JkcyA9IGNvb3Jkc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gJ011bHRpJyArIHR5cGU7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3Jkc1xuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICB9O1xuXG4gICAgaWYgKCdpZCcgaW4gdGhpcykge1xuICAgICAgICByZXN1bHQuaWQgPSB0aGlzLmlkO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBjbGFzc2lmaWVzIGFuIGFycmF5IG9mIHJpbmdzIGludG8gcG9seWdvbnMgd2l0aCBvdXRlciByaW5ncyBhbmQgaG9sZXNcblxuZnVuY3Rpb24gY2xhc3NpZnlSaW5ncyhyaW5ncykge1xuICAgIHZhciBsZW4gPSByaW5ncy5sZW5ndGg7XG5cbiAgICBpZiAobGVuIDw9IDEpIHJldHVybiBbcmluZ3NdO1xuXG4gICAgdmFyIHBvbHlnb25zID0gW10sXG4gICAgICAgIHBvbHlnb24sXG4gICAgICAgIGNjdztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGFyZWEgPSBzaWduZWRBcmVhKHJpbmdzW2ldKTtcbiAgICAgICAgaWYgKGFyZWEgPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChjY3cgPT09IHVuZGVmaW5lZCkgY2N3ID0gYXJlYSA8IDA7XG5cbiAgICAgICAgaWYgKGNjdyA9PT0gYXJlYSA8IDApIHtcbiAgICAgICAgICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuICAgICAgICAgICAgcG9seWdvbiA9IFtyaW5nc1tpXV07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChyaW5nc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBvbHlnb24pIHBvbHlnb25zLnB1c2gocG9seWdvbik7XG5cbiAgICByZXR1cm4gcG9seWdvbnM7XG59XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEocmluZykge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByaW5nLmxlbmd0aCwgaiA9IGxlbiAtIDEsIHAxLCBwMjsgaSA8IGxlbjsgaiA9IGkrKykge1xuICAgICAgICBwMSA9IHJpbmdbaV07XG4gICAgICAgIHAyID0gcmluZ1tqXTtcbiAgICAgICAgc3VtICs9IChwMi54IC0gcDEueCkgKiAocDEueSArIHAyLnkpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVmZWF0dXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBvaW50O1xuXG4vKipcbiAqIEEgc3RhbmRhbG9uZSBwb2ludCBnZW9tZXRyeSB3aXRoIHVzZWZ1bCBhY2Nlc3NvciwgY29tcGFyaXNvbiwgYW5kXG4gKiBtb2RpZmljYXRpb24gbWV0aG9kcy5cbiAqXG4gKiBAY2xhc3MgUG9pbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbG9uZ2l0dWRlIG9yIHNjcmVlblxuICogcGl4ZWxzLCBvciBhbnkgb3RoZXIgc29ydCBvZiB1bml0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZS4gdGhpcyBjb3VsZCBiZSBsYXRpdHVkZSBvciBzY3JlZW5cbiAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoLTc3LCAzOCk7XG4gKi9cbmZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG59XG5cblBvaW50LnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgcG9pbnQsIHJldHVybmluZyBhIG5ldyBwb2ludCB0aGF0IGNhbiBiZSBtb2RpZmllZFxuICAgICAqIHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvbGQgb25lLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSB0aGUgY2xvbmVcbiAgICAgKi9cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpOyB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBhbm90aGVyIHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIGFkZDogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIHRvIGZyb20gcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgc3ViOiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbXVsdEJ5UG9pbnQ6ICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIGRpdkJ5UG9pbnQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbXVsdDogICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGspOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3RvcixcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBrIGZhY3RvclxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBkaXY6ICAgICBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdihrKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCB0aGUgMCwgMCBvcmlnaW4gYnkgYW4gYW5nbGUgYSxcbiAgICAgKiBnaXZlbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgYW5nbGUgdG8gcm90YXRlIGFyb3VuZCwgaW4gcmFkaWFuc1xuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICByb3RhdGU6ICBmdW5jdGlvbihhKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShhKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCBwIHBvaW50IGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFBvaW50IHRvIHJvdGF0ZSBhcm91bmRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlQXJvdW5kOiAgZnVuY3Rpb24oYSxwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChhLHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCBieSBhIDR4MSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IG0gdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG1hdE11bHQ6IGZ1bmN0aW9uKG0pIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChtKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGlzIHBvaW50IGJ1dCBhcyBhIHVuaXQgdmVjdG9yIGZyb20gMCwgMCwgbWVhbmluZ1xuICAgICAqIHRoYXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHJlc3VsdGluZyBwb2ludCB0byB0aGUgMCwgMFxuICAgICAqIGNvb3JkaW5hdGUgd2lsbCBiZSBlcXVhbCB0byAxIGFuZCB0aGUgYW5nbGUgZnJvbSB0aGUgcmVzdWx0aW5nXG4gICAgICogcG9pbnQgdG8gdGhlIDAsIDAgY29vcmRpbmF0ZSB3aWxsIGJlIHRoZSBzYW1lIGFzIGJlZm9yZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdW5pdCB2ZWN0b3IgcG9pbnRcbiAgICAgKi9cbiAgICB1bml0OiAgICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpOyB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIHBlcnBlbmRpY3VsYXIgcG9pbnQsIHdoZXJlIHRoZSBuZXcgeSBjb29yZGluYXRlXG4gICAgICogaXMgdGhlIG9sZCB4IGNvb3JkaW5hdGUgYW5kIHRoZSBuZXcgeCBjb29yZGluYXRlIGlzIHRoZSBvbGQgeVxuICAgICAqIGNvb3JkaW5hdGUgbXVsdGlwbGllZCBieSAtMVxuICAgICAqIEByZXR1cm4ge1BvaW50fSBwZXJwZW5kaWN1bGFyIHBvaW50XG4gICAgICovXG4gICAgcGVycDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHZlcnNpb24gb2YgdGhpcyBwb2ludCB3aXRoIHRoZSB4ICYgeSBjb29yZGluYXRlc1xuICAgICAqIHJvdW5kZWQgdG8gaW50ZWdlcnMuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHJvdW5kZWQgcG9pbnRcbiAgICAgKi9cbiAgICByb3VuZDogICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWFnaXR1ZGUgb2YgdGhpcyBwb2ludDogdGhpcyBpcyB0aGUgRXVjbGlkZWFuXG4gICAgICogZGlzdGFuY2UgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQncyB4IGFuZCB5XG4gICAgICogY29vcmRpbmF0ZXMuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBtYWduaXR1ZGVcbiAgICAgKi9cbiAgICBtYWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEp1ZGdlIHdoZXRoZXIgdGhpcyBwb2ludCBpcyBlcXVhbCB0byBhbm90aGVyIHBvaW50LCByZXR1cm5pbmdcbiAgICAgKiB0cnVlIG9yIGZhbHNlLlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IG90aGVyIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBvaW50cyBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyLnggJiZcbiAgICAgICAgICAgICAgIHRoaXMueSA9PT0gb3RoZXIueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGRpc3Q6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIocCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LFxuICAgICAqIHdpdGhvdXQgdGhlIHNxdWFyZSByb290IHN0ZXAuIFVzZWZ1bCBpZiB5b3UncmUgY29tcGFyaW5nXG4gICAgICogcmVsYXRpdmUgZGlzdGFuY2VzLlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGRpc3RTcXI6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGR4ID0gcC54IC0gdGhpcy54LFxuICAgICAgICAgICAgZHkgPSBwLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIGFuZ2xlVG86IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55IC0gYi55LCB0aGlzLnggLSBiLngpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIGFuZ2xlV2l0aDogZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoYi54LCBiLnkpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEZpbmQgdGhlIGFuZ2xlIG9mIHRoZSB0d28gdmVjdG9ycywgc29sdmluZyB0aGUgZm9ybXVsYSBmb3JcbiAgICAgKiB0aGUgY3Jvc3MgcHJvZHVjdCBhIHggYiA9IHxhfHxifHNpbijOuCkgZm9yIM64LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB0aGUgeS1jb29yZGluYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICAgICAqL1xuICAgIGFuZ2xlV2l0aFNlcDogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihcbiAgICAgICAgICAgIHRoaXMueCAqIHkgLSB0aGlzLnkgKiB4LFxuICAgICAgICAgICAgdGhpcy54ICogeCArIHRoaXMueSAqIHkpO1xuICAgIH0sXG5cbiAgICBfbWF0TXVsdDogZnVuY3Rpb24obSkge1xuICAgICAgICB2YXIgeCA9IG1bMF0gKiB0aGlzLnggKyBtWzFdICogdGhpcy55LFxuICAgICAgICAgICAgeSA9IG1bMl0gKiB0aGlzLnggKyBtWzNdICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2FkZDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggKz0gcC54O1xuICAgICAgICB0aGlzLnkgKz0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3N1YjogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggLT0gcC54O1xuICAgICAgICB0aGlzLnkgLT0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX211bHQ6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgdGhpcy54ICo9IGs7XG4gICAgICAgIHRoaXMueSAqPSBrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2RpdjogZnVuY3Rpb24oaykge1xuICAgICAgICB0aGlzLnggLz0gaztcbiAgICAgICAgdGhpcy55IC89IGs7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfbXVsdEJ5UG9pbnQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54ICo9IHAueDtcbiAgICAgICAgdGhpcy55ICo9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9kaXZCeVBvaW50OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAvPSBwLng7XG4gICAgICAgIHRoaXMueSAvPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfdW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rpdih0aGlzLm1hZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9wZXJwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMueSA9IHRoaXMueDtcbiAgICAgICAgdGhpcy54ID0gLXk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm90YXRlOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeCA9IGNvcyAqIHRoaXMueCAtIHNpbiAqIHRoaXMueSxcbiAgICAgICAgICAgIHkgPSBzaW4gKiB0aGlzLnggKyBjb3MgKiB0aGlzLnk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm90YXRlQXJvdW5kOiBmdW5jdGlvbihhbmdsZSwgcCkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeCA9IHAueCArIGNvcyAqICh0aGlzLnggLSBwLngpIC0gc2luICogKHRoaXMueSAtIHAueSksXG4gICAgICAgICAgICB5ID0gcC55ICsgc2luICogKHRoaXMueCAtIHAueCkgKyBjb3MgKiAodGhpcy55IC0gcC55KTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9yb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIHBvaW50IGZyb20gYW4gYXJyYXkgaWYgbmVjZXNzYXJ5LCBvdGhlcndpc2UgaWYgdGhlIGlucHV0XG4gKiBpcyBhbHJlYWR5IGEgUG9pbnQsIG9yIGFuIHVua25vd24gdHlwZSwgcmV0dXJuIGl0IHVuY2hhbmdlZFxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fFBvaW50fCp9IGEgYW55IGtpbmQgb2YgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge1BvaW50fSBjb25zdHJ1Y3RlZCBwb2ludCwgb3IgcGFzc2VkLXRocm91Z2ggdmFsdWUuXG4gKiBAZXhhbXBsZVxuICogLy8gdGhpc1xuICogdmFyIHBvaW50ID0gUG9pbnQuY29udmVydChbMCwgMV0pO1xuICogLy8gaXMgZXF1aXZhbGVudCB0b1xuICogdmFyIHBvaW50ID0gbmV3IFBvaW50KDAsIDEpO1xuICovXG5Qb2ludC5jb252ZXJ0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KGFbMF0sIGFbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gYTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC9wb2ludC1nZW9tZXRyeS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=