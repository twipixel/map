webpackJsonp([1],{0:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var s=r(334),a=n(s),u=r(333),f=n(u);!function(){window.onload=function(){new c}}();var c=function(){function t(){i(this,t),this.init(),this.addEvent(),this.onresize()}return o(t,[{key:"init",value:function(){this.app=new a.default}},{key:"addEvent",value:function(){window.onresize=this.onresize.bind(this),window.addEventListener("keyup",this.onkeyup.bind(this)),window.addEventListener("keydown",this.onkeydown.bind(this))}},{key:"onresize",value:function(){this.app.resize()}},{key:"getIntervalFunction",value:function(t,e){function r(){e.apply(t,i),clearTimeout(this.keyIntervalId),this.keyIntervalId=setTimeout(r.bind(this),200)}for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r.bind(this)}},{key:"clearInterFunction",value:function(){clearTimeout(this.keyIntervalId)}},{key:"onkeydown",value:function(t){switch(t.keyCode){case f.default.UP:this.getIntervalFunction(this.app,this.app.moveCamera,"y",-1)();break;case f.default.DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"y",1)();break;case f.default.LEFT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",-1)();break;case f.default.RIGHT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",1)();break;case f.default.PAGE_UP:this.getIntervalFunction(this.app,this.app.moveCamera,"z",1)();break;case f.default.PAGE_DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"z",-1)();break;case f.default.NUMBER_4:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",-.01)();break;case f.default.NUMBER_6:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",.01)();break;case f.default.NUMBER_8:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",-.01)();break;case f.default.NUMBER_2:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",.01)();break;case f.default.NUMBER_7:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_1:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMBER_9:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_3:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMPAD_ADD:this.app.zoomIn();break;case f.default.NUMPAD_SUBTRACT:this.app.zoomOut();break;case f.default.NUMPAD_ENTER:this.app.zoomOut();break;case f.default.NUMBER_0:this.app.reset();break;case f.default.W:break;case f.default.S:break;case f.default.A:break;case f.default.D:}}},{key:"onkeyup",value:function(t){switch(t.keyCode){case f.default.ESCAPE:console.clear();break;case f.default.SPACE:this.app.gui.closed?this.app.gui.open():this.app.gui.close();break;case f.default.UP:case f.default.DOWN:case f.default.LEFT:case f.default.RIGHT:case f.default.PAGE_UP:case f.default.PAGE_DOWN:case f.default.NUMBER_4:case f.default.NUMBER_6:case f.default.NUMBER_8:case f.default.NUMBER_2:case f.default.NUMBER_7:case f.default.NUMBER_1:case f.default.NUMBER_9:case f.default.NUMBER_3:case f.default.NUMPAD_ADD:case f.default.NUMPAD_SUBTRACT:case f.default.W:case f.default.S:case f.default.A:case f.default.D:this.clearInterFunction();break;case f.default.BACKSPACE:}}}]),t}()},334:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(335),u=(n(a),r(362)),f=n(u),c=r(365),h=n(c),l=r(366),p=n(l),d=r(367),y=n(d),v=r(368),g=n(v),m=(r(369),r(371)),b={x:27953,y:12713,z:15},w={bus:"https://map.pstatic.net/nvb/wmts/bus/d2e364c9-b75e-4fd7-8020-c4b26f82b9ce/getTile/{x}/{y}/{z}/pbf",poi_web:"https://map.pstatic.net/nvb/wmts/poi_web/8fe6883e-5525-45f8-8f55-5e30bc4981f1/getTile/{x}/{y}/{z}/pbf",poi4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_poi/5653e757-9bf1-4a2e-b20f-86bb4c0b9912/getTile/{x}/{y}/{z}/pbf",naver4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_data/getMetadata",cctv:"https://map.pstatic.net/nvbpc/wmts/cctv/ab50b26c-842d-4be5-8b0c-46019f5e79a1/getTile/{x}/{y}/{z}/pbf",ozone:"https://map.pstatic.net/ozone/pbf/geojson/POI?x="+b.x+"&y="+b.y+" &z="+b.z+"&name=osm_naver_poi&versionCode=5653e757-9bf1-4a2e-b20f-86bb4c0b9912&pixelRatio=2&imageType=sprite&language=ko&mapType=NORMAL&quality=normal"};for(var x in w)w[x]=(0,y.default)(w[x],b);var S=function(){function t(){i(this,t),this.testPbf(w.cctv,"cctv"),this.testPbf(w.poi_web,"naver4osm"),this.testPbf(w.poi4osm,"poi4osm"),this.testOzone(w.ozone,"ozone")}return s(t,[{key:"parse",value:function(){}},{key:"testPbf",value:function(t,e){var r=this;console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱"));var n=new m.VectorTile(new h.default(t));console.timeEnd((0,g.default)(e+" pbf 파싱")),console.log(n),console.time((0,g.default)(e+" 피쳐 생성"));var i=r.getFeatures(n);console.timeEnd((0,g.default)(e+" 피쳐 생성")),console.log("features",i.features)})}},{key:"testOzone",value:function(t,e){console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱 및 피쳐 생성"));var r={type:"FeatureCollection",features:[]};r=f.default.decode(new h.default(t)),console.timeEnd((0,g.default)(e+" pbf 파싱 및 피쳐 생성")),console.log("collection",r),console.log("features",r.features)})}},{key:"getFeatures",value:function(t){var e={type:"FeatureCollection",features:[]},r=Object.keys(t.layers);return Array.isArray(r)||(r=[r]),console.log("layers ("+r.length+")"),r.forEach(function(r){for(var n=t.layers[r],i=n.length,s=0;s<i;s++){var a=o({},n.feature(s).toGeoJSON(b.x,b.y,b.z));i>0&&(a.properties.layer=r),console.log("feature",a),e.features.push(a)}}),e}},{key:"resize",value:function(){}}]),t}();e.default=S},335:function(t,e,r){t.exports=r(336)},336:function(t,e,r){"use strict";function n(t){var e=new s(t),r=o(s.prototype.request,e);return i.extend(r,s.prototype,e),i.extend(r,e),r}var i=r(337),o=r(338),s=r(340),a=r(358),u=r(346),f=n(u);f.Axios=s,f.create=function(t){return n(a(f.defaults,t))},f.Cancel=r(359),f.CancelToken=r(360),f.isCancel=r(345),f.all=function(t){return Promise.all(t)},f.spread=r(361),t.exports=f,t.exports.default=f},337:function(t,e,r){"use strict";function n(t){return"[object Array]"===M.call(t)}function i(t){return"[object ArrayBuffer]"===M.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function f(t){return"undefined"==typeof t}function c(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===M.call(t)}function l(t){return"[object File]"===M.call(t)}function p(t){return"[object Blob]"===M.call(t)}function d(t){return"[object Function]"===M.call(t)}function y(t){return c(t)&&d(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(t,e){if(null!==t&&"undefined"!=typeof t)if("object"!=typeof t&&(t=[t]),n(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function w(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=w(e[r],t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function x(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=x(e[r],t):"object"==typeof t?e[r]=x({},t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function S(t,e,r){return b(e,function(e,n){r&&"function"==typeof e?t[n]=F(e,r):t[n]=e}),t}var F=r(338),_=r(339),M=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isBuffer:_,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:c,isUndefined:f,isDate:h,isFile:l,isBlob:p,isFunction:d,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:w,deepMerge:x,extend:S,trim:g}},338:function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},339:function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},340:function(t,e,r){"use strict";function n(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var i=r(337),o=r(341),s=r(342),a=r(343),u=r(358);n.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=u(this.defaults,t),t.method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},n.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n},341:function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=r(337);t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}},342:function(t,e,r){"use strict";function n(){this.handlers=[]}var i=r(337);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},343:function(t,e,r){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=r(337),o=r(344),s=r(345),a=r(346),u=r(356),f=r(357);t.exports=function(t){n(t),t.baseURL&&!u(t.url)&&(t.url=f(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||a.adapter;return e(t).then(function(e){return n(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(n(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},344:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},345:function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},346:function(t,e,r){(function(e){"use strict";function n(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function i(){var t;return"undefined"!=typeof e&&"[object process]"===Object.prototype.toString.call(e)?t=r(349):"undefined"!=typeof XMLHttpRequest&&(t=r(349)),t}var o=r(337),s=r(348),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:i(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){u.headers[t]={}}),o.forEach(["post","put","patch"],function(t){u.headers[t]=o.merge(a)}),t.exports=u}).call(e,r(347))},347:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function f(){}var c,h,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],y=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=f,l.addListener=f,l.once=f,l.off=f,l.removeListener=f,l.removeAllListeners=f,l.emit=f,l.prependListener=f,l.prependOnceListener=f,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},348:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},349:function(t,e,r){"use strict";var n=r(337),i=r(350),o=r(341),s=r(353),a=r(354),u=r(351);t.exports=function(t){return new Promise(function(e,f){var c=t.data,h=t.headers;n.isFormData(c)&&delete h["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+d)}if(l.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?s(l.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?l.response:l.responseText,o={data:n,status:l.status,statusText:l.statusText,headers:r,config:t,request:l};i(e,f,o),l=null}},l.onabort=function(){l&&(f(u("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){f(u("Network Error",t,null,l)),l=null},l.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var y=r(355),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in l&&n.forEach(h,function(t,e){"undefined"==typeof c&&"content-type"===e.toLowerCase()?delete h[e]:l.setRequestHeader(e,t)}),t.withCredentials&&(l.withCredentials=!0),t.responseType)try{l.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){l&&(l.abort(),f(t),l=null)}),void 0===c&&(c=null),l.send(c)})}},350:function(t,e,r){"use strict";var n=r(351);t.exports=function(t,e,r){var i=r.config.validateStatus;!i||i(r.status)?t(r):e(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},351:function(t,e,r){"use strict";var n=r(352);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},352:function(t,e){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},353:function(t,e,r){"use strict";var n=r(337),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;"set-cookie"===e?s[e]=(s[e]?s[e]:[]).concat([r]):s[e]=s[e]?s[e]+", "+r:r}}),s):s}},354:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(r){var i=n.isString(r)?t(r):r;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},355:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},356:function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},357:function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},358:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){e=e||{};var r={};return n.forEach(["url","method","params","data"],function(t){"undefined"!=typeof e[t]&&(r[t]=e[t])}),n.forEach(["headers","auth","proxy"],function(i){n.isObject(e[i])?r[i]=n.deepMerge(t[i],e[i]):"undefined"!=typeof e[i]?r[i]=e[i]:n.isObject(t[i])?r[i]=n.deepMerge(t[i]):"undefined"!=typeof t[i]&&(r[i]=t[i])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){"undefined"!=typeof e[n]?r[n]=e[n]:"undefined"!=typeof t[n]&&(r[n]=t[n])}),r}},359:function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},360:function(t,e,r){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}var i=r(359);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,e=new n(function(e){t=e});return{token:e,cancel:t}},t.exports=n},361:function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},362:function(t,e,r){"use strict";e.encode=r(363),e.decode=r(364)},363:function(t,e){"use strict";function r(t,e){b={},x=[],w=0,S=0,F=1,n(t),F=Math.min(F,_);for(var r=Math.ceil(Math.log(F)/Math.LN10),i=0;i<x.length;i++)e.writeStringField(1,x[i]);return 2!==S&&e.writeVarintField(2,S),6!==r&&e.writeVarintField(3,r),"FeatureCollection"===t.type?e.writeMessage(4,u,t):"Feature"===t.type?e.writeMessage(5,f,t):e.writeMessage(6,c,t),b=null,e.finish()}function n(t){var e,r;if("FeatureCollection"===t.type)for(e=0;e<t.features.length;e++)n(t.features[e]);else if("Feature"===t.type){null!==t.geometry&&n(t.geometry);for(r in t.properties)a(r)}else if("Point"===t.type)s(t.coordinates);else if("MultiPoint"===t.type)o(t.coordinates);else if("GeometryCollection"===t.type)for(e=0;e<t.geometries.length;e++)n(t.geometries[e]);else if("LineString"===t.type)o(t.coordinates);else if("Polygon"===t.type||"MultiLineString"===t.type)i(t.coordinates);else if("MultiPolygon"===t.type)for(e=0;e<t.coordinates.length;e++)i(t.coordinates[e]);for(r in t)m(r,t.type)||a(r)}function i(t){for(var e=0;e<t.length;e++)o(t[e])}function o(t){for(var e=0;e<t.length;e++)s(t[e])}function s(t){S=Math.max(S,t.length);for(var e=0;e<t.length;e++)for(;Math.round(t[e]*F)/F!==t[e]&&F<_;)F*=10}function a(t){void 0===b[t]&&(x.push(t),b[t]=w++)}function u(t,e){for(var r=0;r<t.features.length;r++)e.writeMessage(1,f,t.features[r]);h(t,e,!0)}function f(t,e){null!==t.geometry&&e.writeMessage(1,c,t.geometry),void 0!==t.id&&("number"==typeof t.id&&t.id%1===0?e.writeSVarintField(12,t.id):e.writeStringField(11,t.id)),t.properties&&h(t.properties,e),h(t,e,!0)}function c(t,e){e.writeVarintField(1,M[t.type]);var r=t.coordinates;if("Point"===t.type)p(r,e);else if("MultiPoint"===t.type)d(r,e,!0);else if("LineString"===t.type)d(r,e);else if("MultiLineString"===t.type)y(r,e);else if("Polygon"===t.type)y(r,e,!0);else if("MultiPolygon"===t.type)v(r,e);else if("GeometryCollection"===t.type)for(var n=0;n<t.geometries.length;n++)e.writeMessage(4,c,t.geometries[n]);h(t,e,!0)}function h(t,e,r){var n=[],i=0;for(var o in t)r&&m(o,t.type)||(e.writeMessage(13,l,t[o]),n.push(b[o]),n.push(i++));e.writePackedVarint(r?15:14,n)}function l(t,e){if(null!==t){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(5,t):"object"===r?e.writeStringField(6,JSON.stringify(t)):"number"===r&&(t%1!==0?e.writeDoubleField(2,t):t>=0?e.writeVarintField(3,t):e.writeVarintField(4,-t))}}function p(t,e){for(var r=[],n=0;n<S;n++)r.push(Math.round(t[n]*F));e.writePackedSVarint(3,r)}function d(t,e){var r=[];g(r,t),e.writePackedSVarint(3,r)}function y(t,e,r){var n,i=t.length;if(1!==i){var o=[];for(n=0;n<i;n++)o.push(t[n].length-(r?1:0));e.writePackedVarint(2,o)}var s=[];for(n=0;n<i;n++)g(s,t[n],r);e.writePackedSVarint(3,s)}function v(t,e){var r,n,i=t.length;if(1!==i||1!==t[0].length){var o=[i];for(r=0;r<i;r++)for(o.push(t[r].length),n=0;n<t[r].length;n++)o.push(t[r][n].length-1);e.writePackedVarint(2,o)}var s=[];for(r=0;r<i;r++)for(n=0;n<t[r].length;n++)g(s,t[r][n],!0);e.writePackedSVarint(3,s)}function g(t,e,r){var n,i,o=e.length-(r?1:0),s=new Array(S);for(i=0;i<S;i++)s[i]=0;for(n=0;n<o;n++)for(i=0;i<S;i++){var a=Math.round(e[n][i]*F)-s[i];t.push(a),s[i]+=a}}function m(t,e){if("type"===t)return!0;if("FeatureCollection"===e){if("features"===t)return!0}else if("Feature"===e){if("id"===t||"properties"===t||"geometry"===t)return!0}else if("GeometryCollection"===e){if("geometries"===t)return!0}else if("coordinates"===t)return!0;return!1}t.exports=r;var b,w,x,S,F,_=1e6,M={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6}},364:function(t,e){"use strict";function r(t){x=2,S=Math.pow(10,6),w=null,m=[],b=[];var e=t.readFields(n,{});return m=null,e}function n(t,e,r){1===t?m.push(r.readString()):2===t?x=r.readVarint():3===t?S=Math.pow(10,r.readVarint()):4===t?i(r,e):5===t?o(r,e):6===t&&s(r,e)}function i(t,e){return e.type="FeatureCollection",e.features=[],t.readMessage(a,e)}function o(t,e){e.type="Feature";var r=t.readMessage(u,e);return r.hasOwnProperty("geometry")||(r.geometry=null),r}function s(t,e){return t.readMessage(f,e)}function a(t,e,r){1===t?e.features.push(o(r,{})):13===t?b.push(h(r)):15===t&&l(r,e)}function u(t,e,r){1===t?e.geometry=s(r,{}):11===t?e.id=r.readString():12===t?e.id=r.readSVarint():13===t?b.push(h(r)):14===t?e.properties=l(r,{}):15===t&&l(r,e)}function f(t,e,r){1===t?e.type=F[r.readVarint()]:2===t?w=r.readPackedVarint():3===t?c(e,r,e.type):4===t?(e.geometries=e.geometries||[],e.geometries.push(s(r,{}))):13===t?b.push(h(r)):15===t&&l(r,e)}function c(t,e,r){"Point"===r?t.coordinates=p(e):"MultiPoint"===r?t.coordinates=y(e,!0):"LineString"===r?t.coordinates=y(e):"MultiLineString"===r?t.coordinates=v(e):"Polygon"===r?t.coordinates=v(e,!0):"MultiPolygon"===r&&(t.coordinates=g(e))}function h(t){for(var e=t.readVarint()+t.pos,r=null;t.pos<e;){var n=t.readVarint(),i=n>>3;1===i?r=t.readString():2===i?r=t.readDouble():3===i?r=t.readVarint():4===i?r=-t.readVarint():5===i?r=t.readBoolean():6===i&&(r=JSON.parse(t.readString()))}return r}function l(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;)e[m[t.readVarint()]]=b[t.readVarint()];return b=[],e}function p(t){for(var e=t.readVarint()+t.pos,r=[];t.pos<e;)r.push(t.readSVarint()/S);return r}function d(t,e,r,n){var i,o,s=0,a=[],u=[];for(o=0;o<x;o++)u[o]=0;for(;r?s<r:t.pos<e;){for(i=[],o=0;o<x;o++)u[o]+=t.readSVarint(),i[o]=u[o]/S;a.push(i),s++}return n&&a.push(a[0]),a}function y(t){return d(t,t.readVarint()+t.pos)}function v(t,e){var r=t.readVarint()+t.pos;if(!w)return[d(t,r,null,e)];for(var n=[],i=0;i<w.length;i++)n.push(d(t,r,w[i],e));return w=null,n}function g(t){var e=t.readVarint()+t.pos;if(!w)return[[d(t,e,null,!0)]];for(var r=[],n=1,i=0;i<w[0];i++){for(var o=[],s=0;s<w[n];s++)o.push(d(t,e,w[n+1+s],!0));n+=w[n]+1,r.push(o)}return w=null,r}t.exports=r;var m,b,w,x,S,F=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"]},365:function(t,e,r){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function a(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(r=~(-t%4294967296),n=~(-t/4294967296),4294967295^r?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(r,n,e),f(n,e)}function u(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}function f(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function h(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function m(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function b(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function F(t,e,r){for(var n="",i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>r)break;var u,f,c;1===a?o<128&&(s=o):2===a?(u=t[i+1],128===(192&u)&&(s=(31&o)<<6|63&u,s<=127&&(s=null))):3===a?(u=t[i+1],f=t[i+2],128===(192&u)&&128===(192&f)&&(s=(15&o)<<12|(63&u)<<6|63&f,(s<=2047||s>=55296&&s<=57343)&&(s=null))):4===a&&(u=t[i+1],f=t[i+2],c=t[i+3],128===(192&u)&&128===(192&f)&&128===(192&c)&&(s=(15&o)<<18|(63&u)<<12|(63&f)<<6|63&c,(s<=65535||s>=1114112)&&(s=null))),null===s?(s=65533,a=1):s>65535&&(s-=65536,n+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),n+=String.fromCharCode(s),i+=a}return n}function _(t,e,r){for(var n,i,o=0;o<e.length;o++){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}t.exports=n;var M=r(331);n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var k=4294967296,P=1/k;n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=w(this.buf,this.pos)+w(this.buf,this.pos+4)*k;return this.pos+=8,t},readSFixed64:function(){var t=w(this.buf,this.pos)+S(this.buf,this.pos+4)*k;return this.pos+=8,t},readFloat:function(){
var t=M.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=M.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return r=n[this.pos++],e=127&r,r<128?e:(r=n[this.pos++],e|=(127&r)<<7,r<128?e:(r=n[this.pos++],e|=(127&r)<<14,r<128?e:(r=n[this.pos++],e|=(127&r)<<21,r<128?e:(r=n[this.pos],e|=(15&r)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=F(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==n.Bytes)return t.push(this.readVarint(e));var r=o(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==n.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==n.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==n.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==n.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t||0,t>268435455||t<0?void a(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=_(this.buf,t,this.pos);var r=this.pos-e;r>=128&&c(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),M.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),M.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&c(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,n.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},366:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.url,r=t.responseType,n=void 0===r?"json":r,i=function(){return(0,s.default)({url:e,responseType:n}).then(function(t){var e=t.data;return e})};return i()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(335),s=n(o)},367:function(t,e){"use strict";function r(t,e){return t.replace(n,function(t,r){var n=e[r];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/\{ *([\w_-]+) *\}/g},368:function(t,e){"use strict";function r(t){return n+" "+t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n="▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨ "},369:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e=e||30,e>f)return void console.log(t);if((0,u.default)(t))for(var r in t)console.log(r,t[r]),console.group(r+" : "+s(t[r])),i(t[r],e+1),console.groupEnd();else console.log(t)}function o(t,e){return JSON.stringify(t,null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.expandedLog=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(370),u=n(a),f=100;e.expandedLog=i,e.stringify=o},370:function(t,e){"use strict";function r(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":n(t))&&Array.isArray(t)===!1}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},371:function(t,e,r){t.exports.VectorTile=r(372),t.exports.VectorTileFeature=r(374),t.exports.VectorTileLayer=r(373)},372:function(t,e,r){"use strict";function n(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,r){if(3===t){var n=new o(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}var o=r(373);t.exports=n},373:function(t,e,r){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(o(r))}function o(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var s=r(374);t.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},374:function(t,e,r){"use strict";function n(t,e,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(i,this,e)}function i(t,e,r){1==t?e.id=r.readVarint():2==t?o(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function o(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i}}function s(t){var e=t.length;if(e<=1)return[t];for(var r,n,i=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(r&&i.push(r),r=[t[o]]):r.push(t[o]))}return r&&i.push(r),i}function a(t){for(var e,r,n=0,i=0,o=t.length,s=o-1;i<o;s=i++)e=t[i],r=t[s],n+=(r.x-e.x)*(e.y+r.y);return n}var u=r(375);t.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,o=0,s=0,a=[];t.pos<r;){if(i<=0){var f=t.readVarint();n=7&f,i=f>>3}if(i--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new u(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,o=0,s=1/0,a=-(1/0),u=1/0,f=-(1/0);t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)i+=t.readSVarint(),o+=t.readSVarint(),i<s&&(s=i),i>a&&(a=i),o<u&&(u=o),o>f&&(f=o);else if(7!==r)throw new Error("unknown command "+r)}return[s,u,a,f]},n.prototype.toGeoJSON=function(t,e,r){function i(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+c)/u;t[e]=[360*(r.x+f)/u-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,a,u=this.extent*Math.pow(2,r),f=this.extent*t,c=this.extent*e,h=this.loadGeometry(),l=n.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<h.length;o++)p[o]=h[o][0];h=p,i(h);break;case 2:for(o=0;o<h.length;o++)i(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)i(h[o][a])}1===h.length?h=h[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:h},properties:this.properties};return"id"in this&&(d.id=this.id),d}},375:function(t,e){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,i=r*this.x+e*this.y;return this.x=n,this.y=i,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.x+r*(this.x-e.x)-n*(this.y-e.y),o=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9tYXAvcGJmL2xvYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbWFwL3BiZi9sb2FkL0FwcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL34vZ2VvYnVmL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3BiZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbmV0L3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZy90ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc29sZS9nZXRUaW1lTGFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnNvbGUvZXhwYW5kZWRMb2cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRlL2lzb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vQG1hcGJveC92ZWN0b3ItdGlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvcG9pbnQtZ2VvbWV0cnkvaW5kZXguanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJfQXBwIiwiX0FwcDIiLCJfS2V5Q29kZSIsIl9LZXlDb2RlMiIsIndpbmRvdyIsIm9ubG9hZCIsIk1haW4iLCJ0aGlzIiwiaW5pdCIsImFkZEV2ZW50Iiwib25yZXNpemUiLCJ2YWx1ZSIsImFwcCIsIkFwcCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwib25rZXl1cCIsIm9ua2V5ZG93biIsInJlc2l6ZSIsInRoZUFyZyIsImZ1bmMiLCJpbnRlcnZhbEZ1bmMiLCJhcHBseSIsInBhcmFtcyIsImNsZWFyVGltZW91dCIsImtleUludGVydmFsSWQiLCJzZXRUaW1lb3V0IiwiX2xlbiIsImFyZ3VtZW50cyIsIkFycmF5IiwiX2tleSIsImV2ZW50Iiwia2V5Q29kZSIsIktleUNvZGUiLCJVUCIsImdldEludGVydmFsRnVuY3Rpb24iLCJtb3ZlQ2FtZXJhIiwiRE9XTiIsIkxFRlQiLCJSSUdIVCIsIlBBR0VfVVAiLCJQQUdFX0RPV04iLCJOVU1CRVJfNCIsInJvdGF0ZVdvcmxkIiwiTlVNQkVSXzYiLCJOVU1CRVJfOCIsIk5VTUJFUl8yIiwiTlVNQkVSXzciLCJOVU1CRVJfMSIsIk5VTUJFUl85IiwiTlVNQkVSXzMiLCJOVU1QQURfQUREIiwiem9vbUluIiwiTlVNUEFEX1NVQlRSQUNUIiwiem9vbU91dCIsIk5VTVBBRF9FTlRFUiIsIk5VTUJFUl8wIiwicmVzZXQiLCJXIiwiUyIsIkEiLCJEIiwiRVNDQVBFIiwiY29uc29sZSIsImNsZWFyIiwiU1BBQ0UiLCJndWkiLCJjbG9zZWQiLCJvcGVuIiwiY2xvc2UiLCJjbGVhckludGVyRnVuY3Rpb24iLCJCQUNLU1BBQ0UiLCIzMzQiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9heGlvcyIsIl9nZW9idWYiLCJfZ2VvYnVmMiIsIl9wYmYiLCJfcGJmMiIsIl9yZXF1ZXN0IiwiX3JlcXVlc3QyIiwiX3RlbXBsYXRlIiwiX3RlbXBsYXRlMiIsIl9nZXRUaW1lTGFiZWwiLCJfZ2V0VGltZUxhYmVsMiIsIl92ZWN0b3JUaWxlIiwieHl6IiwieCIsInkiLCJ6IiwidXJscyIsImJ1cyIsInBvaV93ZWIiLCJwb2k0b3NtIiwibmF2ZXI0b3NtIiwiY2N0diIsIm96b25lIiwicHJvcCIsInRlc3RQYmYiLCJ0ZXN0T3pvbmUiLCJ1cmwiLCJ0aW1lTGFiZWwiLCJfdGhpcyIsInRpbWUiLCJyZXNwb25zZVR5cGUiLCJ0aGVuIiwiYnVmZmVyIiwidGltZUVuZCIsInRpbGUiLCJWZWN0b3JUaWxlIiwiUHJvdG9CdWYiLCJsb2ciLCJjb2xsZWN0aW9uIiwiZ2V0RmVhdHVyZXMiLCJmZWF0dXJlcyIsInR5cGUiLCJnZW9idWYiLCJkZWNvZGUiLCJsYXllcnMiLCJrZXlzIiwiaXNBcnJheSIsImZvckVhY2giLCJsYXllcklEIiwibGF5ZXIiLCJsZW4iLCJmZWF0dXJlIiwidG9HZW9KU09OIiwicHJvcGVydGllcyIsInB1c2giLCIzMzUiLCIzMzYiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiQXhpb3MiLCJyZXF1ZXN0IiwidXRpbHMiLCJleHRlbmQiLCJtZXJnZUNvbmZpZyIsImRlZmF1bHRzIiwiYXhpb3MiLCJjcmVhdGUiLCJpbnN0YW5jZUNvbmZpZyIsIkNhbmNlbCIsIkNhbmNlbFRva2VuIiwiaXNDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsIlByb21pc2UiLCJzcHJlYWQiLCIzMzciLCJ2YWwiLCJ0b1N0cmluZyIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsInJlc3VsdCIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNPYmplY3QiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0Z1bmN0aW9uIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsImRvY3VtZW50IiwiZm4iLCJsIiwibWVyZ2UiLCJhc3NpZ25WYWx1ZSIsImRlZXBNZXJnZSIsImEiLCJiIiwidGhpc0FyZyIsImlzQnVmZmVyIiwiMzM4IiwiYXJncyIsIjMzOSIsImNvbnN0cnVjdG9yIiwiaXNTbG93QnVmZmVyIiwicmVhZEZsb2F0TEUiLCJzbGljZSIsIl9pc0J1ZmZlciIsIjM0MCIsImludGVyY2VwdG9ycyIsIkludGVyY2VwdG9yTWFuYWdlciIsInJlc3BvbnNlIiwiYnVpbGRVUkwiLCJkaXNwYXRjaFJlcXVlc3QiLCJjb25maWciLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsImNoYWluIiwidW5kZWZpbmVkIiwicHJvbWlzZSIsInJlc29sdmUiLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInNoaWZ0IiwiZ2V0VXJpIiwicGFyYW1zU2VyaWFsaXplciIsImRhdGEiLCIzNDEiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJ2IiwidG9JU09TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsImhhc2htYXJrSW5kZXgiLCJpbmRleE9mIiwiMzQyIiwiaGFuZGxlcnMiLCJ1c2UiLCJlamVjdCIsImlkIiwiaCIsIjM0MyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJjYW5jZWxUb2tlbiIsInRocm93SWZSZXF1ZXN0ZWQiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiY29tbW9uIiwiYWRhcHRlciIsInRyYW5zZm9ybVJlc3BvbnNlIiwicmVhc29uIiwicmVqZWN0IiwiMzQ0IiwiZm5zIiwiMzQ1IiwiX19DQU5DRUxfXyIsIjM0NiIsInByb2Nlc3MiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJnZXREZWZhdWx0QWRhcHRlciIsIlhNTEh0dHBSZXF1ZXN0Iiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiQ29udGVudC1UeXBlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJBY2NlcHQiLCIzNDciLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwibmFtZSIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiMzQ4Iiwibm9ybWFsaXplZE5hbWUiLCJ0b1VwcGVyQ2FzZSIsIjM0OSIsInNldHRsZSIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZURhdGEiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiMzUwIiwiMzUxIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsIjM1MiIsImlzQXhpb3NFcnJvciIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCIzNTMiLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIjM1NCIsInJlc29sdmVVUkwiLCJocmVmIiwibXNpZSIsInVybFBhcnNpbmdOb2RlIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0Iiwib3JpZ2luVVJMIiwidGVzdCIsInVzZXJBZ2VudCIsImNyZWF0ZUVsZW1lbnQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCIzNTUiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCIzNTYiLCIzNTciLCJyZWxhdGl2ZVVSTCIsIjM1OCIsImNvbmZpZzEiLCJjb25maWcyIiwiMzU5IiwiMzYwIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwiYyIsIjM2MSIsImNhbGxiYWNrIiwiYXJyIiwiMzYyIiwiMzYzIiwicGJmIiwia2V5c0FyciIsImtleXNOdW0iLCJkaW0iLCJhbmFseXplIiwiTWF0aCIsIm1pbiIsIm1heFByZWNpc2lvbiIsInByZWNpc2lvbiIsImNlaWwiLCJMTjEwIiwid3JpdGVTdHJpbmdGaWVsZCIsIndyaXRlVmFyaW50RmllbGQiLCJ3cml0ZU1lc3NhZ2UiLCJ3cml0ZUZlYXR1cmVDb2xsZWN0aW9uIiwid3JpdGVGZWF0dXJlIiwid3JpdGVHZW9tZXRyeSIsImZpbmlzaCIsImdlb21ldHJ5Iiwic2F2ZUtleSIsImFuYWx5emVQb2ludCIsImNvb3JkaW5hdGVzIiwiYW5hbHl6ZVBvaW50cyIsImdlb21ldHJpZXMiLCJhbmFseXplTXVsdGlMaW5lIiwiaXNTcGVjaWFsS2V5IiwiY29vcmRzIiwicG9pbnQiLCJtYXgiLCJyb3VuZCIsIndyaXRlUHJvcHMiLCJ3cml0ZVNWYXJpbnRGaWVsZCIsImdlb20iLCJnZW9tZXRyeVR5cGVzIiwid3JpdGVQb2ludCIsIndyaXRlTGluZSIsIndyaXRlTXVsdGlMaW5lIiwid3JpdGVNdWx0aVBvbHlnb24iLCJpc0N1c3RvbSIsImluZGV4ZXMiLCJ2YWx1ZUluZGV4Iiwid3JpdGVWYWx1ZSIsIndyaXRlUGFja2VkVmFyaW50Iiwid3JpdGVCb29sZWFuRmllbGQiLCJ3cml0ZURvdWJsZUZpZWxkIiwid3JpdGVQYWNrZWRTVmFyaW50IiwicG9wdWxhdGVMaW5lIiwibGluZXMiLCJsZW5ndGhzIiwicG9seWdvbnMiLCJqIiwic3VtIiwibiIsIlBvaW50IiwiTXVsdGlQb2ludCIsIkxpbmVTdHJpbmciLCJNdWx0aUxpbmVTdHJpbmciLCJQb2x5Z29uIiwiTXVsdGlQb2x5Z29uIiwiR2VvbWV0cnlDb2xsZWN0aW9uIiwiMzY0IiwicG93IiwidmFsdWVzIiwicmVhZEZpZWxkcyIsInJlYWREYXRhRmllbGQiLCJ0YWciLCJyZWFkU3RyaW5nIiwicmVhZFZhcmludCIsInJlYWRGZWF0dXJlQ29sbGVjdGlvbiIsInJlYWRGZWF0dXJlIiwicmVhZEdlb21ldHJ5IiwicmVhZE1lc3NhZ2UiLCJyZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCIsImYiLCJyZWFkRmVhdHVyZUZpZWxkIiwicmVhZEdlb21ldHJ5RmllbGQiLCJyZWFkVmFsdWUiLCJyZWFkUHJvcHMiLCJyZWFkU1ZhcmludCIsInJlYWRQYWNrZWRWYXJpbnQiLCJyZWFkQ29vcmRzIiwicmVhZFBvaW50IiwicmVhZExpbmUiLCJyZWFkTXVsdGlMaW5lIiwicmVhZE11bHRpUG9seWdvbiIsImVuZCIsInBvcyIsInJlYWREb3VibGUiLCJyZWFkQm9vbGVhbiIsInJlYWRMaW5lUGFydCIsInAiLCJkIiwicHJldlAiLCJyaW5ncyIsImsiLCIzNjUiLCJQYmYiLCJidWYiLCJVaW50OEFycmF5IiwicmVhZFZhcmludFJlbWFpbmRlciIsInMiLCJ0b051bSIsInJlYWRQYWNrZWRFbmQiLCJCeXRlcyIsImxvdyIsImhpZ2giLCJpc1NpZ25lZCIsIndyaXRlQmlnVmFyaW50IiwicmVhbGxvYyIsIndyaXRlQmlnVmFyaW50TG93Iiwid3JpdGVCaWdWYXJpbnRIaWdoIiwibHNiIiwibWFrZVJvb21Gb3JFeHRyYUxlbmd0aCIsInN0YXJ0UG9zIiwiZXh0cmFMZW4iLCJmbG9vciIsIkxOMiIsIndyaXRlVmFyaW50Iiwid3JpdGVTVmFyaW50Iiwid3JpdGVQYWNrZWRGbG9hdCIsIndyaXRlRmxvYXQiLCJ3cml0ZVBhY2tlZERvdWJsZSIsIndyaXRlRG91YmxlIiwid3JpdGVQYWNrZWRCb29sZWFuIiwid3JpdGVCb29sZWFuIiwid3JpdGVQYWNrZWRGaXhlZDMyIiwid3JpdGVGaXhlZDMyIiwid3JpdGVQYWNrZWRTRml4ZWQzMiIsIndyaXRlU0ZpeGVkMzIiLCJ3cml0ZVBhY2tlZEZpeGVkNjQiLCJ3cml0ZUZpeGVkNjQiLCJ3cml0ZVBhY2tlZFNGaXhlZDY0Iiwid3JpdGVTRml4ZWQ2NCIsInJlYWRVSW50MzIiLCJ3cml0ZUludDMyIiwicmVhZEludDMyIiwicmVhZFV0ZjgiLCJiMCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJiMSIsImIyIiwiYjMiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ3cml0ZVV0ZjgiLCJsZWFkIiwiY2hhckNvZGVBdCIsImllZWU3NTQiLCJWYXJpbnQiLCJGaXhlZDY0IiwiRml4ZWQzMiIsIlNISUZUX0xFRlRfMzIiLCJTSElGVF9SSUdIVF8zMiIsImRlc3Ryb3kiLCJyZWFkRmllbGQiLCJza2lwIiwicmVhZEZpeGVkMzIiLCJyZWFkU0ZpeGVkMzIiLCJyZWFkRml4ZWQ2NCIsInJlYWRTRml4ZWQ2NCIsInJlYWRGbG9hdCIsInJlYWRWYXJpbnQ2NCIsIm51bSIsIkJvb2xlYW4iLCJyZWFkQnl0ZXMiLCJzdWJhcnJheSIsInJlYWRQYWNrZWRTVmFyaW50IiwicmVhZFBhY2tlZEJvb2xlYW4iLCJyZWFkUGFja2VkRmxvYXQiLCJyZWFkUGFja2VkRG91YmxlIiwicmVhZFBhY2tlZEZpeGVkMzIiLCJyZWFkUGFja2VkU0ZpeGVkMzIiLCJyZWFkUGFja2VkRml4ZWQ2NCIsInJlYWRQYWNrZWRTRml4ZWQ2NCIsIndyaXRlVGFnIiwic2V0Iiwid3JpdGVTdHJpbmciLCJ3cml0ZUJ5dGVzIiwid3JpdGVSYXdNZXNzYWdlIiwid3JpdGVCeXRlc0ZpZWxkIiwid3JpdGVGaXhlZDMyRmllbGQiLCJ3cml0ZVNGaXhlZDMyRmllbGQiLCJ3cml0ZUZpeGVkNjRGaWVsZCIsIndyaXRlU0ZpeGVkNjRGaWVsZCIsIndyaXRlRmxvYXRGaWVsZCIsIjM2NiIsIl9yZWYiLCJfcmVmJHJlc3BvbnNlVHlwZSIsImZldGNoRGF0YSIsIl9heGlvczIiLCJfcmVmMiIsIjM2NyIsInRlbXBsYXRlIiwidGVtcGxhdGVSZSIsIjM2OCIsImdldFRpbWVMYWJlbCIsImxhYmVsIiwidGltZUxhYmVsUHJlZml4IiwiMzY5IiwiZXhwYW5kZWRMb2ciLCJpdGVtIiwiZGVwdGgiLCJNQVhfREVQVEgiLCJfaXNvYmplY3QyIiwiZ3JvdXAiLCJfdHlwZW9mIiwiZ3JvdXBFbmQiLCJvYmplY3QiLCJzcGFjZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2lzb2JqZWN0IiwiMzcwIiwiMzcxIiwiVmVjdG9yVGlsZUZlYXR1cmUiLCJWZWN0b3JUaWxlTGF5ZXIiLCIzNzIiLCJyZWFkVGlsZSIsIjM3MyIsImV4dGVudCIsIl9rZXlzIiwiX3ZhbHVlcyIsIl9mZWF0dXJlcyIsInJlYWRMYXllciIsInJlYWRWYWx1ZU1lc3NhZ2UiLCIzNzQiLCJfZ2VvbWV0cnkiLCJyZWFkVGFnIiwiY2xhc3NpZnlSaW5ncyIsInBvbHlnb24iLCJjY3ciLCJhcmVhIiwic2lnbmVkQXJlYSIsInJpbmciLCJwMSIsInAyIiwidHlwZXMiLCJsb2FkR2VvbWV0cnkiLCJjbWQiLCJjbWRMZW4iLCJjbG9uZSIsImJib3giLCJ4MSIsIkluZmluaXR5IiwieDIiLCJ5MSIsInkyIiwicHJvamVjdCIsInkwIiwic2l6ZSIsIngwIiwiUEkiLCJhdGFuIiwiZXhwIiwicG9pbnRzIiwiMzc1IiwiYWRkIiwiX2FkZCIsInN1YiIsIl9zdWIiLCJtdWx0QnlQb2ludCIsIl9tdWx0QnlQb2ludCIsImRpdkJ5UG9pbnQiLCJfZGl2QnlQb2ludCIsIm11bHQiLCJfbXVsdCIsImRpdiIsIl9kaXYiLCJyb3RhdGUiLCJfcm90YXRlIiwicm90YXRlQXJvdW5kIiwiX3JvdGF0ZUFyb3VuZCIsIm1hdE11bHQiLCJtIiwiX21hdE11bHQiLCJ1bml0IiwiX3VuaXQiLCJwZXJwIiwiX3BlcnAiLCJfcm91bmQiLCJtYWciLCJzcXJ0IiwiZXF1YWxzIiwib3RoZXIiLCJkaXN0IiwiZGlzdFNxciIsImR4IiwiZHkiLCJhbmdsZSIsImF0YW4yIiwiYW5nbGVUbyIsImFuZ2xlV2l0aCIsImFuZ2xlV2l0aFNlcCIsImNvcyIsInNpbiIsImNvbnZlcnQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEVBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFaEMsWUFjQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTRyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQWRoSCxHQUFJQyxHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIs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QUFBZ1MsSUFBQUwsR0FDQU0sRUFBQWpTLEtBQUFpUyxJQUFBTixHQUNBam5CLEVBQUFzbkIsRUFBQTFzQixLQUFBb0YsRUFBQXVuQixFQUFBM3NCLEtBQUFxRixFQUNBQSxFQUFBc25CLEVBQUEzc0IsS0FBQW9GLEVBQUFzbkIsRUFBQTFzQixLQUFBcUYsQ0FHQSxPQUZBckYsTUFBQW9GLElBQ0FwRixLQUFBcUYsSUFDQXJGLE1BR0FvckIsY0FBQSxTQUFBaUIsRUFBQXRNLEdBQ0EsR0FBQTJNLEdBQUFoUyxLQUFBZ1MsSUFBQUwsR0FDQU0sRUFBQWpTLEtBQUFpUyxJQUFBTixHQUNBam5CLEVBQUEyYSxFQUFBM2EsRUFBQXNuQixHQUFBMXNCLEtBQUFvRixFQUFBMmEsRUFBQTNhLEdBQUF1bkIsR0FBQTNzQixLQUFBcUYsRUFBQTBhLEVBQUExYSxHQUNBQSxFQUFBMGEsRUFBQTFhLEVBQUFzbkIsR0FBQTNzQixLQUFBb0YsRUFBQTJhLEVBQUEzYSxHQUFBc25CLEdBQUExc0IsS0FBQXFGLEVBQUEwYSxFQUFBMWEsRUFHQSxPQUZBckYsTUFBQW9GLElBQ0FwRixLQUFBcUYsSUFDQXJGLE1BR0E0ckIsT0FBQSxXQUdBLE1BRkE1ckIsTUFBQW9GLEVBQUFzVixLQUFBd0IsTUFBQWxjLEtBQUFvRixHQUNBcEYsS0FBQXFGLEVBQUFxVixLQUFBd0IsTUFBQWxjLEtBQUFxRixHQUNBckYsT0FlQTBkLEVBQUFrUCxRQUFBLFNBQUF2aEIsR0FDQSxNQUFBQSxhQUFBcVMsR0FDQXJTLEVBRUEvSixNQUFBK0YsUUFBQWdFLEdBQ0EsR0FBQXFTLEdBQUFyUyxFQUFBLEdBQUFBLEVBQUEsSUFFQUEiLCJmaWxlIjoibG9hZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMV0se1xuXG4vKioqLyAwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9BcHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNCk7XG5cdFxuXHR2YXIgX0FwcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHApO1xuXHRcblx0dmFyIF9LZXlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzMpO1xuXHRcblx0dmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbWFpbiA9IG5ldyBNYWluKCk7XG5cdCAgICB9O1xuXHR9KSgpO1xuXHRcblx0dmFyIE1haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNYWluKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblx0XG5cdCAgICAgICAgdGhpcy5pbml0KCk7XG5cdCAgICAgICAgdGhpcy5hZGRFdmVudCgpO1xuXHQgICAgICAgIHRoaXMub25yZXNpemUoKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcblx0ICAgICAgICBrZXk6ICdpbml0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5hcHAgPSBuZXcgX0FwcDIuZGVmYXVsdCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhZGRFdmVudCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50KCkge1xuXHQgICAgICAgICAgICB3aW5kb3cub25yZXNpemUgPSB0aGlzLm9ucmVzaXplLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25rZXl1cC5iaW5kKHRoaXMpKTtcblx0ICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9ua2V5ZG93bi5iaW5kKHRoaXMpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25yZXNpemUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbnJlc2l6ZSgpIHtcblx0ICAgICAgICAgICAgdGhpcy5hcHAucmVzaXplKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSBmdW5jIHtGdW5jdGlvbn1cblx0ICAgICAgICAgKiBAcGFyYW0gcGFyYW1zXG5cdCAgICAgICAgICogQHJldHVybnMge2ludGVydmFsRnVuY31cblx0ICAgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0SW50ZXJ2YWxGdW5jdGlvbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEludGVydmFsRnVuY3Rpb24odGhlQXJnLCBmdW5jKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwYXJhbXMgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgICAgICBwYXJhbXNbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBmdW5jdGlvbiBpbnRlcnZhbEZ1bmMoKSB7XG5cdCAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KHRoZUFyZywgcGFyYW1zKTtcblx0ICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtleUludGVydmFsSWQpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5rZXlJbnRlcnZhbElkID0gc2V0VGltZW91dChpbnRlcnZhbEZ1bmMuYmluZCh0aGlzKSwgMjAwKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGludGVydmFsRnVuYy5iaW5kKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjbGVhckludGVyRnVuY3Rpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckludGVyRnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtleUludGVydmFsSWQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbmtleWRvd24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbmtleWRvd24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlVQOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3knLCAtMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuRE9XTjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd5JywgMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTEVGVDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd4JywgLTEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlJJR0hUOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3gnLCAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5QQUdFX1VQOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3onLCAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5QQUdFX0RPV046XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneicsIC0xKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneScsIC0wLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneScsIDAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl84OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd4JywgLTAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8yOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd4JywgMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzc6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAtMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzE6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAwLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfOTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIC0wLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMzpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIDAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTVBBRF9BREQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbUluKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTVBBRF9TVUJUUkFDVDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tT3V0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTVBBRF9FTlRFUjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tT3V0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8wOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLnJlc2V0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Llc6XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlM6XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkE6XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkQ6XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25rZXl1cCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9ua2V5dXAoZXZlbnQpIHtcblx0ICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkVTQ0FQRTpcblx0ICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmNsZWFyKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5TUEFDRTpcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcHAuZ3VpLmNsb3NlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5ndWkub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLmd1aS5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlVQOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5ET1dOOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5MRUZUOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5SSUdIVDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUEFHRV9VUDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUEFHRV9ET1dOOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzY6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl84OlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMjpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzc6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8xOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfOTpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzM6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTVBBRF9BREQ6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTVBBRF9TVUJUUkFDVDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuVzpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUzpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuQTpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuRDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJGdW5jdGlvbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHRcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuQkFDS1NQQUNFOlxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXG5cdCAgICByZXR1cm4gTWFpbjtcblx0fSgpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xuXHRcblx0dmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cdFxuXHR2YXIgX2dlb2J1ZiA9IF9fd2VicGFja19yZXF1aXJlX18oMzYyKTtcblx0XG5cdHZhciBfZ2VvYnVmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlb2J1Zik7XG5cdFxuXHR2YXIgX3BiZiA9IF9fd2VicGFja19yZXF1aXJlX18oMzY1KTtcblx0XG5cdHZhciBfcGJmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BiZik7XG5cdFxuXHR2YXIgX3JlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Nik7XG5cdFxuXHR2YXIgX3JlcXVlc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdCk7XG5cdFxuXHR2YXIgX3RlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjcpO1xuXHRcblx0dmFyIF90ZW1wbGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZW1wbGF0ZSk7XG5cdFxuXHR2YXIgX2dldFRpbWVMYWJlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzY4KTtcblx0XG5cdHZhciBfZ2V0VGltZUxhYmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFRpbWVMYWJlbCk7XG5cdFxuXHR2YXIgX2V4cGFuZGVkTG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpO1xuXHRcblx0dmFyIF92ZWN0b3JUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQvKipcblx0ICog7JWE656YIOyjvOyGjOydmCBwYmbrpbwg7L2U66eM64+E7J2YIOyKpO2DgOydvOydhCDsp4HsoJEg64K066Ck67Cb7JWE7IScIO2MjOyLse2VnCDqsoPqs7wg7Jik7KG07J2YIOqyg+ydhCDrsJvslYTshJwg7ZmV7J24IO2VqeuLiOuLpC5cblx0ICogaHR0cHM6Ly9tYXAubmF2ZXIuY29tL3Y1Lz9jPTE0MTQ5NjcyLjczNzg4MTcsNDQ5MTE5OS43MjE5OTUwLDE1LDAsMCwwLGRoXG5cdCAqIOq3uOumrOqzoCDrsJvqs6Ag7YyM7Iux7ZWY64qUIOu5hOyaqSDqsJzsgrDsnYQg7ZWp64uI64ukLlxuXHQgKi9cblx0Ly8gY29uc3QgeHl6ID0ge3g6IDI3OTUzLCB5OiAxMjcxMSwgejogMTV9O1xuXHQvLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzEyLCB6OiAxNX07XG5cdC8vIGNvbnN0IHh5eiA9IHt4OiAyNzk1NCwgeTogMTI3MTQsIHo6IDE1fTtcblx0Ly8gY29uc3QgeHl6ID0ge3g6IDI3OTUyLCB5OiAxMjcxNCwgejogMTV9O1xuXHQvLyDqt7jrprDtjKnthqDrpqxcblx0dmFyIHh5eiA9IHsgeDogMjc5NTMsIHk6IDEyNzEzLCB6OiAxNSB9O1xuXHR2YXIgdXJscyA9IHtcblx0ICBidXM6ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmIvd210cy9idXMvZDJlMzY0YzktYjc1ZS00ZmQ3LTgwMjAtYzRiMjZmODJiOWNlL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcblx0ICBwb2lfd2ViOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZiL3dtdHMvcG9pX3dlYi84ZmU2ODgzZS01NTI1LTQ1ZjgtOGY1NS01ZTMwYmM0OTgxZjEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuXHQgIHBvaTRvc206ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmJwYy93bXRzL29zbV9uYXZlcl9wb2kvNTY1M2U3NTctOWJmMS00YTJlLWIyMGYtODZiYjRjMGI5OTEyL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcblx0ICBuYXZlcjRvc206ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmJwYy93bXRzL29zbV9uYXZlcl9kYXRhL2dldE1ldGFkYXRhJyxcblx0ICBjY3R2OiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9jY3R2L2FiNTBiMjZjLTg0MmQtNGJlNS04YjBjLTQ2MDE5ZjVlNzlhMS9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG5cdCAgb3pvbmU6ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9vem9uZS9wYmYvZ2VvanNvbi9QT0k/JyArICd4PScgKyB4eXoueCArICcmJyArICd5PScgKyB4eXoueSArICcgJicgKyAnej0nICsgeHl6LnogKyAnJicgKyAnbmFtZT1vc21fbmF2ZXJfcG9pJicgKyAndmVyc2lvbkNvZGU9NTY1M2U3NTctOWJmMS00YTJlLWIyMGYtODZiYjRjMGI5OTEyJicgKyAncGl4ZWxSYXRpbz0yJicgKyAnaW1hZ2VUeXBlPXNwcml0ZSYnICsgJ2xhbmd1YWdlPWtvJicgKyAnbWFwVHlwZT1OT1JNQUwmJyArICdxdWFsaXR5PW5vcm1hbCdcblx0fTtcblx0XG5cdGZvciAodmFyIHByb3AgaW4gdXJscykge1xuXHQgIHVybHNbcHJvcF0gPSAoMCwgX3RlbXBsYXRlMi5kZWZhdWx0KSh1cmxzW3Byb3BdLCB4eXopO1xuXHR9XG5cdFxuXHR2YXIgQXBwID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIEFwcCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuXHRcblx0ICAgIC8vIHRoaXMudGVzdFBiZih1cmxzLmJ1cywgJ2J1cycpO1xuXHQgICAgLy8gdGhpcy50ZXN0UGJmKHVybHMuY2N0diwgJ2NjdHYnKTtcblx0ICAgIHRoaXMudGVzdFBiZih1cmxzLmNjdHYsICdjY3R2Jyk7XG5cdCAgICB0aGlzLnRlc3RQYmYodXJscy5wb2lfd2ViLCAnbmF2ZXI0b3NtJyk7XG5cdCAgICB0aGlzLnRlc3RQYmYodXJscy5wb2k0b3NtLCAncG9pNG9zbScpO1xuXHQgICAgdGhpcy50ZXN0T3pvbmUodXJscy5vem9uZSwgJ296b25lJyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQXBwLCBbe1xuXHQgICAga2V5OiAncGFyc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKCkge1xuXHQgICAgICAvLyBjb25zdCBwYmYgPSBuZXcgUGJmKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSk7XG5cdCAgICAgIC8vIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShwYmYpO1xuXHQgICAgICAvLyBjb25zdCB0aWxlID0gbmV3IFZlY3RvclRpbGUobmV3IFByb3RvQnVmKGJ1ZmZlcikpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Rlc3RQYmYnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRlc3RQYmYodXJsLCB0aW1lTGFiZWwpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIGNvbnNvbGUudGltZSgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVCODVDXFx1QjREQycpKTtcblx0ICAgICAgKDAsIF9yZXF1ZXN0Mi5kZWZhdWx0KSh7XG5cdCAgICAgICAgdXJsOiB1cmwsXG5cdCAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG5cdCAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVCODVDXFx1QjREQycpKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWUoKDAsIF9nZXRUaW1lTGFiZWwyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgcGJmIFxcdUQzMENcXHVDMkYxJykpO1xuXHQgICAgICAgIHZhciB0aWxlID0gbmV3IF92ZWN0b3JUaWxlLlZlY3RvclRpbGUobmV3IF9wYmYyLmRlZmF1bHQoYnVmZmVyKSk7XG5cdCAgICAgICAgY29uc29sZS50aW1lRW5kKCgwLCBfZ2V0VGltZUxhYmVsMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIHBiZiBcXHVEMzBDXFx1QzJGMScpKTtcblx0ICAgICAgICAvLyBjb25zb2xlLmxvZyhzdHJpbmdpZnkodGlsZSwgMikpO1xuXHQgICAgICAgIGNvbnNvbGUubG9nKHRpbGUpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZSgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0ICAgICAgICB2YXIgY29sbGVjdGlvbiA9IF90aGlzLmdldEZlYXR1cmVzKHRpbGUpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndGVzdE96b25lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0T3pvbmUodXJsLCB0aW1lTGFiZWwpIHtcblx0ICAgICAgY29uc29sZS50aW1lKCgwLCBfZ2V0VGltZUxhYmVsMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIFxcdUI4NUNcXHVCNERDJykpO1xuXHQgICAgICAoMCwgX3JlcXVlc3QyLmRlZmF1bHQpKHtcblx0ICAgICAgICB1cmw6IHVybCxcblx0ICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcblx0ICAgICAgfSkudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdCAgICAgICAgY29uc29sZS50aW1lRW5kKCgwLCBfZ2V0VGltZUxhYmVsMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIFxcdUI4NUNcXHVCNERDJykpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZSgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBwYmYgXFx1RDMwQ1xcdUMyRjEgXFx1QkMwRiBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0XG5cdCAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSB7XG5cdCAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuXHQgICAgICAgICAgZmVhdHVyZXM6IFtdXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY29sbGVjdGlvbiA9IF9nZW9idWYyLmRlZmF1bHQuZGVjb2RlKG5ldyBfcGJmMi5kZWZhdWx0KGJ1ZmZlcikpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2dldFRpbWVMYWJlbDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBwYmYgXFx1RDMwQ1xcdUMyRjEgXFx1QkMwRiBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0ICAgICAgICBjb25zb2xlLmxvZygnY29sbGVjdGlvbicsIGNvbGxlY3Rpb24pO1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlcycsIGNvbGxlY3Rpb24uZmVhdHVyZXMpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRGZWF0dXJlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmVhdHVyZXModGlsZSkge1xuXHQgICAgICB2YXIgY29sbGVjdGlvbiA9IHtcblx0ICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuXHQgICAgICAgIGZlYXR1cmVzOiBbXVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGxheWVycyA9IE9iamVjdC5rZXlzKHRpbGUubGF5ZXJzKTtcblx0XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG5cdCAgICAgICAgbGF5ZXJzID0gW2xheWVyc107XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGNvbnNvbGUubG9nKCdsYXllcnMgKCcgKyBsYXllcnMubGVuZ3RoICsgJyknKTtcblx0ICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVySUQpIHtcblx0ICAgICAgICB2YXIgbGF5ZXIgPSB0aWxlLmxheWVyc1tsYXllcklEXTtcblx0XG5cdCAgICAgICAgdmFyIGxlbiA9IGxheWVyLmxlbmd0aDtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFxuXHQgICAgICAgICAgdmFyIGZlYXR1cmUgPSBfZXh0ZW5kcyh7fSwgbGF5ZXIuZmVhdHVyZShpKS50b0dlb0pTT04oeHl6LngsIHh5ei55LCB4eXoueikpO1xuXHRcblx0ICAgICAgICAgIGlmIChsZW4gPiAwKSB7XG5cdCAgICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllcy5sYXllciA9IGxheWVySUQ7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmUnLCBmZWF0dXJlKTtcblx0ICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgSlNPTi5zdHJpbmdpZnkoZmVhdHVyZSwgbnVsbCwgMikpO1xuXHQgICAgICAgICAgY29sbGVjdGlvbi5mZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gY29sbGVjdGlvbjtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXNpemUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHt9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQXBwO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBcHA7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHR2YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzM4KTtcblx0dmFyIEF4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDApO1xuXHR2YXIgbWVyZ2VDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cdHZhciBkZWZhdWx0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ2KTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3Ncblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2Vcblx0ICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG5cdCAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG5cdCAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cdFxuXHQgIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG5cdCAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXHRcblx0ICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2Vcblx0ICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXHRcblx0ICByZXR1cm4gaW5zdGFuY2U7XG5cdH1cblx0XG5cdC8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxuXHR2YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cdFxuXHQvLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2Vcblx0YXhpb3MuQXhpb3MgPSBBeGlvcztcblx0XG5cdC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcblx0YXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG5cdCAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xuXHR9O1xuXHRcblx0Ly8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5cdGF4aW9zLkNhbmNlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzU5KTtcblx0YXhpb3MuQ2FuY2VsVG9rZW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MCk7XG5cdGF4aW9zLmlzQ2FuY2VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDUpO1xuXHRcblx0Ly8gRXhwb3NlIGFsbC9zcHJlYWRcblx0YXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG5cdCAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcblx0fTtcblx0YXhpb3Muc3ByZWFkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblx0XG5cdC8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxuXHRtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDMzNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzM4KTtcblx0dmFyIGlzQnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzkpO1xuXHRcblx0LypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cdFxuXHQvLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXHRcblx0dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG5cdCAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuXHQgICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc051bWJlcih2YWwpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcblx0ICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcblx0ICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcblx0ICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2Vcblx0ICovXG5cdGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG5cdCAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuXHQgKlxuXHQgKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuXHQgKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG5cdCAqXG5cdCAqIHdlYiB3b3JrZXJzOlxuXHQgKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcblx0ICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcblx0ICpcblx0ICogcmVhY3QtbmF0aXZlOlxuXHQgKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuXHQgKiBuYXRpdmVzY3JpcHRcblx0ICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcblx0ICovXG5cdGZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuXHQgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHJldHVybiAoXG5cdCAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuXHQgICk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cblx0ICpcblx0ICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuXHQgKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cblx0ICpcblx0ICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3Npbmdcblx0ICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuXHQgKi9cblx0ZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG5cdCAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG5cdCAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG5cdCAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG5cdCAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cblx0ICAgIG9iaiA9IFtvYmpdO1xuXHQgIH1cblx0XG5cdCAgaWYgKGlzQXJyYXkob2JqKSkge1xuXHQgICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcblx0ICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcblx0ICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG5cdCAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuXHQgKlxuXHQgKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuXHQgKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG5cdCAqXG5cdCAqIEV4YW1wbGU6XG5cdCAqXG5cdCAqIGBgYGpzXG5cdCAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcblx0ICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2Vcblx0ICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcblx0ICB2YXIgcmVzdWx0ID0ge307XG5cdCAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcblx0ICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXN1bHRba2V5XSA9IHZhbDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEZ1bmN0aW9uIGVxdWFsIHRvIG1lcmdlIHdpdGggdGhlIGRpZmZlcmVuY2UgYmVpbmcgdGhhdCBubyByZWZlcmVuY2Vcblx0ICogdG8gb3JpZ2luYWwgb2JqZWN0cyBpcyBrZXB0LlxuXHQgKlxuXHQgKiBAc2VlIG1lcmdlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcblx0ICovXG5cdGZ1bmN0aW9uIGRlZXBNZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcblx0ICB2YXIgcmVzdWx0ID0ge307XG5cdCAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcblx0ICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuXHQgICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh7fSwgdmFsKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcblx0ICovXG5cdGZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG5cdCAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuXHQgICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBhW2tleV0gPSB2YWw7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIGE7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGlzQXJyYXk6IGlzQXJyYXksXG5cdCAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcblx0ICBpc0J1ZmZlcjogaXNCdWZmZXIsXG5cdCAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcblx0ICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG5cdCAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuXHQgIGlzTnVtYmVyOiBpc051bWJlcixcblx0ICBpc09iamVjdDogaXNPYmplY3QsXG5cdCAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuXHQgIGlzRGF0ZTogaXNEYXRlLFxuXHQgIGlzRmlsZTogaXNGaWxlLFxuXHQgIGlzQmxvYjogaXNCbG9iLFxuXHQgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG5cdCAgaXNTdHJlYW06IGlzU3RyZWFtLFxuXHQgIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcblx0ICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG5cdCAgZm9yRWFjaDogZm9yRWFjaCxcblx0ICBtZXJnZTogbWVyZ2UsXG5cdCAgZGVlcE1lcmdlOiBkZWVwTWVyZ2UsXG5cdCAgZXh0ZW5kOiBleHRlbmQsXG5cdCAgdHJpbTogdHJpbVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDMzOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiFcblx0ICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuXHQgKlxuXHQgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuXHQgKiBAbGljZW5zZSAgTUlUXG5cdCAqL1xuXHRcblx0Ly8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuXHQvLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcblx0ICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxuXHR9XG5cdFxuXHQvLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuXHRmdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuXHQgIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxuXHR9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdHZhciBidWlsZFVSTCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQxKTtcblx0dmFyIEludGVyY2VwdG9yTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzQyKTtcblx0dmFyIGRpc3BhdGNoUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQzKTtcblx0dmFyIG1lcmdlQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTgpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2Vcblx0ICovXG5cdGZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG5cdCAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuXHQgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuXHQgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuXHQgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhIHJlcXVlc3Rcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG5cdCAqL1xuXHRBeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cdCAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG5cdCAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuXHQgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuXHQgICAgY29uZmlnID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuXHQgICAgY29uZmlnLnVybCA9IGFyZ3VtZW50c1swXTtcblx0ICB9IGVsc2Uge1xuXHQgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXHQgIH1cblx0XG5cdCAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblx0ICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZCA/IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKSA6ICdnZXQnO1xuXHRcblx0ICAvLyBIb29rIHVwIGludGVyY2VwdG9ycyBtaWRkbGV3YXJlXG5cdCAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcblx0ICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXHRcblx0ICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcblx0ICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG5cdCAgfSk7XG5cdFxuXHQgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG5cdCAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuXHQgIH0pO1xuXHRcblx0ICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG5cdCAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHByb21pc2U7XG5cdH07XG5cdFxuXHRBeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuXHQgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cdCAgcmV0dXJuIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LywgJycpO1xuXHR9O1xuXHRcblx0Ly8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG5cdHV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuXHQgIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG5cdCAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuXHQgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcblx0ICAgICAgbWV0aG9kOiBtZXRob2QsXG5cdCAgICAgIHVybDogdXJsXG5cdCAgICB9KSk7XG5cdCAgfTtcblx0fSk7XG5cdFxuXHR1dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuXHQgIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG5cdCAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuXHQgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcblx0ICAgICAgbWV0aG9kOiBtZXRob2QsXG5cdCAgICAgIHVybDogdXJsLFxuXHQgICAgICBkYXRhOiBkYXRhXG5cdCAgICB9KSk7XG5cdCAgfTtcblx0fSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0ZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuXHQgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cblx0ICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cblx0ICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cblx0ICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuXHQgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuXHQgICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG5cdCAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG5cdCAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG5cdCAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG5cdCAgaWYgKCFwYXJhbXMpIHtcblx0ICAgIHJldHVybiB1cmw7XG5cdCAgfVxuXHRcblx0ICB2YXIgc2VyaWFsaXplZFBhcmFtcztcblx0ICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuXHQgICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcblx0ICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcblx0ICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIHBhcnRzID0gW107XG5cdFxuXHQgICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuXHQgICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG5cdCAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YWwgPSBbdmFsXTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuXHQgICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcblx0ICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuXHQgICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcblx0ICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcblx0ICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuXHQgICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHVybDtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdGZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcblx0ICB0aGlzLmhhbmRsZXJzID0gW107XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcblx0ICpcblx0ICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuXHQgKi9cblx0SW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuXHQgIHRoaXMuaGFuZGxlcnMucHVzaCh7XG5cdCAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcblx0ICAgIHJlamVjdGVkOiByZWplY3RlZFxuXHQgIH0pO1xuXHQgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG5cdCAqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcblx0ICovXG5cdEludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuXHQgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuXHQgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuXHQgKlxuXHQgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuXHQgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3Jcblx0ICovXG5cdEludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcblx0ICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcblx0ICAgIGlmIChoICE9PSBudWxsKSB7XG5cdCAgICAgIGZuKGgpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdHZhciB0cmFuc2Zvcm1EYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDQpO1xuXHR2YXIgaXNDYW5jZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSk7XG5cdHZhciBkZWZhdWx0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ2KTtcblx0dmFyIGlzQWJzb2x1dGVVUkwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nik7XG5cdHZhciBjb21iaW5lVVJMcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU3KTtcblx0XG5cdC8qKlxuXHQgKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcblx0ICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG5cdCAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuXHQgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblx0XG5cdCAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuXHQgIGlmIChjb25maWcuYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChjb25maWcudXJsKSkge1xuXHQgICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcblx0ICB9XG5cdFxuXHQgIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG5cdCAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblx0XG5cdCAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuXHQgIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcblx0ICAgIGNvbmZpZy5kYXRhLFxuXHQgICAgY29uZmlnLmhlYWRlcnMsXG5cdCAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuXHQgICk7XG5cdFxuXHQgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuXHQgIGNvbmZpZy5oZWFkZXJzID0gdXRpbHMubWVyZ2UoXG5cdCAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG5cdCAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcblx0ICAgIGNvbmZpZy5oZWFkZXJzIHx8IHt9XG5cdCAgKTtcblx0XG5cdCAgdXRpbHMuZm9yRWFjaChcblx0ICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuXHQgICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG5cdCAgICAgIGRlbGV0ZSBjb25maWcuaGVhZGVyc1ttZXRob2RdO1xuXHQgICAgfVxuXHQgICk7XG5cdFxuXHQgIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblx0XG5cdCAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcblx0ICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblx0XG5cdCAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuXHQgICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG5cdCAgICAgIHJlc3BvbnNlLmRhdGEsXG5cdCAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG5cdCAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuXHQgICAgKTtcblx0XG5cdCAgICByZXR1cm4gcmVzcG9uc2U7XG5cdCAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuXHQgICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG5cdCAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblx0XG5cdCAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG5cdCAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG5cdCAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuXHQgICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEsXG5cdCAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcblx0ICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcblx0ICB9KTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuXHQgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG5cdCAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcblx0ICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cblx0ICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG5cdCAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBkYXRhO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuXHQgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHR2YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ4KTtcblx0XG5cdHZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcblx0ICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuXHQgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG5cdCAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RGVmYXVsdEFkYXB0ZXIoKSB7XG5cdCAgdmFyIGFkYXB0ZXI7XG5cdCAgLy8gT25seSBOb2RlLkpTIGhhcyBhIHByb2Nlc3MgdmFyaWFibGUgdGhhdCBpcyBvZiBbW0NsYXNzXV0gcHJvY2Vzc1xuXHQgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcblx0ICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcblx0ICAgIGFkYXB0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG5cdCAgICBhZGFwdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDkpO1xuXHQgIH1cblx0ICByZXR1cm4gYWRhcHRlcjtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRzID0ge1xuXHQgIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cdFxuXHQgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcblx0ICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuXHQgICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG5cdCAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuXHQgICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG5cdCAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG5cdCAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG5cdCAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuXHQgICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcblx0ICAgICkge1xuXHQgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH1cblx0ICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuXHQgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG5cdCAgICB9XG5cdCAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcblx0ICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuXHQgICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuXHQgICAgfVxuXHQgICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG5cdCAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG5cdCAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRhO1xuXHQgIH1dLFxuXHRcblx0ICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcblx0ICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuXHQgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuXHQgICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0YTtcblx0ICB9XSxcblx0XG5cdCAgLyoqXG5cdCAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG5cdCAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cblx0ICAgKi9cblx0ICB0aW1lb3V0OiAwLFxuXHRcblx0ICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuXHQgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblx0XG5cdCAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cdFxuXHQgIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcblx0ICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcblx0ICB9XG5cdH07XG5cdFxuXHRkZWZhdWx0cy5oZWFkZXJzID0ge1xuXHQgIGNvbW1vbjoge1xuXHQgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG5cdCAgfVxuXHR9O1xuXHRcblx0dXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuXHQgIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xuXHR9KTtcblx0XG5cdHV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG5cdCAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzNDcpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG5cdCAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG5cdCAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG5cdCAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG5cdCAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHR2YXIgc2V0dGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTApO1xuXHR2YXIgYnVpbGRVUkwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MSk7XG5cdHZhciBwYXJzZUhlYWRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Myk7XG5cdHZhciBpc1VSTFNhbWVPcmlnaW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NCk7XG5cdHZhciBjcmVhdGVFcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG5cdCAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblx0XG5cdCAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcblx0ICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHQgICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuXHQgICAgaWYgKGNvbmZpZy5hdXRoKSB7XG5cdCAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuXHQgICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcblx0ICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXHRcblx0ICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG5cdCAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblx0XG5cdCAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG5cdCAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG5cdCAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuXHQgICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuXHQgICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuXHQgICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG5cdCAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2Vcblx0ICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuXHQgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuXHQgICAgICB2YXIgcmVzcG9uc2UgPSB7XG5cdCAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuXHQgICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG5cdCAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuXHQgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcblx0ICAgICAgICBjb25maWc6IGNvbmZpZyxcblx0ICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cdFxuXHQgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG5cdCAgICAgIHJlcXVlc3QgPSBudWxsO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBIYW5kbGUgYnJvd3NlciByZXF1ZXN0IGNhbmNlbGxhdGlvbiAoYXMgb3Bwb3NlZCB0byBhIG1hbnVhbCBjYW5jZWxsYXRpb24pXG5cdCAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcblx0ICAgICAgaWYgKCFyZXF1ZXN0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsIHJlcXVlc3QpKTtcblx0XG5cdCAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3Rcblx0ICAgICAgcmVxdWVzdCA9IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcblx0ICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuXHQgICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcblx0ICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG5cdCAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXHRcblx0ICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuXHQgICAgICByZXF1ZXN0ID0gbnVsbDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gSGFuZGxlIHRpbWVvdXRcblx0ICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcblx0ICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG5cdCAgICAgICAgcmVxdWVzdCkpO1xuXHRcblx0ICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuXHQgICAgICByZXF1ZXN0ID0gbnVsbDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG5cdCAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cblx0ICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cdCAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuXHQgICAgICB2YXIgY29va2llcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU1KTtcblx0XG5cdCAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuXHQgICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuXHQgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcblx0ICAgICAgICB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICBpZiAoeHNyZlZhbHVlKSB7XG5cdCAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG5cdCAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcblx0ICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuXHQgICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuXHQgICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG5cdCAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuXHQgICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcblx0ICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcblx0ICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuXHQgICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG5cdCAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuXHQgICAgICAgICAgdGhyb3cgZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG5cdCAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcblx0ICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuXHQgICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG5cdCAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG5cdCAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG5cdCAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuXHQgICAgICAgIHJlcXVlc3QgPSBudWxsO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuXHQgICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcblx0ICB9KTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBjcmVhdGVFcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcblx0XG5cdC8qKlxuXHQgKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuXHQgKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuXHQgIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcblx0ICBpZiAoIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcblx0ICAgIHJlc29sdmUocmVzcG9uc2UpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZWplY3QoY3JlYXRlRXJyb3IoXG5cdCAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG5cdCAgICAgIHJlc3BvbnNlLmNvbmZpZyxcblx0ICAgICAgbnVsbCxcblx0ICAgICAgcmVzcG9uc2UucmVxdWVzdCxcblx0ICAgICAgcmVzcG9uc2Vcblx0ICAgICkpO1xuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlbmhhbmNlRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Mik7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcblx0ICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cblx0ICpcblx0ICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcblx0ICBlcnJvci5jb25maWcgPSBjb25maWc7XG5cdCAgaWYgKGNvZGUpIHtcblx0ICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuXHQgIH1cblx0XG5cdCAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG5cdCAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcblx0ICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuXHRcblx0ICBlcnJvci50b0pTT04gPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIC8vIFN0YW5kYXJkXG5cdCAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcblx0ICAgICAgbmFtZTogdGhpcy5uYW1lLFxuXHQgICAgICAvLyBNaWNyb3NvZnRcblx0ICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG5cdCAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG5cdCAgICAgIC8vIE1vemlsbGFcblx0ICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG5cdCAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcblx0ICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcblx0ICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG5cdCAgICAgIC8vIEF4aW9zXG5cdCAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG5cdCAgICAgIGNvZGU6IHRoaXMuY29kZVxuXHQgICAgfTtcblx0ICB9O1xuXHQgIHJldHVybiBlcnJvcjtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzUzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdC8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG5cdC8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcblx0dmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuXHQgICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG5cdCAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuXHQgICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcblx0ICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXHRdO1xuXHRcblx0LyoqXG5cdCAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3Rcblx0ICpcblx0ICogYGBgXG5cdCAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG5cdCAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuXHQgKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG5cdCAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG5cdCAgdmFyIHBhcnNlZCA9IHt9O1xuXHQgIHZhciBrZXk7XG5cdCAgdmFyIHZhbDtcblx0ICB2YXIgaTtcblx0XG5cdCAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblx0XG5cdCAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcblx0ICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcblx0ICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cdFxuXHQgICAgaWYgKGtleSkge1xuXHQgICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG5cdCAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHBhcnNlZDtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXHRcblx0ICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcblx0ICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cblx0ICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG5cdCAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblx0ICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHQgICAgICB2YXIgb3JpZ2luVVJMO1xuXHRcblx0ICAgICAgLyoqXG5cdCAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG5cdCAgICAqIEByZXR1cm5zIHtPYmplY3R9XG5cdCAgICAqL1xuXHQgICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuXHQgICAgICAgIHZhciBocmVmID0gdXJsO1xuXHRcblx0ICAgICAgICBpZiAobXNpZSkge1xuXHQgICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcblx0ICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXHQgICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblx0XG5cdCAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuXHQgICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcblx0ICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG5cdCAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG5cdCAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuXHQgICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuXHQgICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcblx0ICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cblx0ICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuXHQgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXHRcblx0ICAgICAgLyoqXG5cdCAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG5cdCAgICAqXG5cdCAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuXHQgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAgICAqL1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcblx0ICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuXHQgICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcblx0ICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcblx0ICAgICAgfTtcblx0ICAgIH0pKCkgOlxuXHRcblx0ICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuXHQgICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfTtcblx0ICAgIH0pKClcblx0KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXHRcblx0ICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcblx0ICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuXHQgICAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuXHQgICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXHRcblx0ICAgICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuXHQgICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG5cdCAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuXHQgICAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcblx0ICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuXHQgICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcblx0ICAgICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuXHQgICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9KSgpIDpcblx0XG5cdCAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuXHQgICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcblx0ICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcblx0ICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG5cdCAgICAgIH07XG5cdCAgICB9KSgpXG5cdCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcblx0ICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG5cdCAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG5cdCAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG5cdCAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcblx0ICByZXR1cm4gcmVsYXRpdmVVUkxcblx0ICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG5cdCAgICA6IGJhc2VVUkw7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHQvKipcblx0ICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuXHQgKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHQgIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuXHQgIHZhciBjb25maWcgPSB7fTtcblx0XG5cdCAgdXRpbHMuZm9yRWFjaChbJ3VybCcsICdtZXRob2QnLCAncGFyYW1zJywgJ2RhdGEnXSwgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHV0aWxzLmZvckVhY2goWydoZWFkZXJzJywgJ2F1dGgnLCAncHJveHknXSwgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG5cdCAgICBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMltwcm9wXSkpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcblx0ICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdXRpbHMuZm9yRWFjaChbXG5cdCAgICAnYmFzZVVSTCcsICd0cmFuc2Zvcm1SZXF1ZXN0JywgJ3RyYW5zZm9ybVJlc3BvbnNlJywgJ3BhcmFtc1NlcmlhbGl6ZXInLFxuXHQgICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcblx0ICAgICd4c3JmSGVhZGVyTmFtZScsICdvblVwbG9hZFByb2dyZXNzJywgJ29uRG93bmxvYWRQcm9ncmVzcycsICdtYXhDb250ZW50TGVuZ3RoJyxcblx0ICAgICd2YWxpZGF0ZVN0YXR1cycsICdtYXhSZWRpcmVjdHMnLCAnaHR0cEFnZW50JywgJ2h0dHBzQWdlbnQnLCAnY2FuY2VsVG9rZW4nLFxuXHQgICAgJ3NvY2tldFBhdGgnXG5cdCAgXSwgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihwcm9wKSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gY29uZmlnO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuXHQgKlxuXHQgKiBAY2xhc3Ncblx0ICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcblx0ICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG5cdFxuXHRDYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG5cdH07XG5cdFxuXHRDYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgQ2FuY2VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTkpO1xuXHRcblx0LyoqXG5cdCAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG5cdCAqXG5cdCAqIEBjbGFzc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuXHQgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcblx0ICB9XG5cdFxuXHQgIHZhciByZXNvbHZlUHJvbWlzZTtcblx0ICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuXHQgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuXHQgIH0pO1xuXHRcblx0ICB2YXIgdG9rZW4gPSB0aGlzO1xuXHQgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG5cdCAgICBpZiAodG9rZW4ucmVhc29uKSB7XG5cdCAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcblx0ICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuXHQgKi9cblx0Q2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuXHQgIGlmICh0aGlzLnJlYXNvbikge1xuXHQgICAgdGhyb3cgdGhpcy5yZWFzb247XG5cdCAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcblx0ICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cblx0ICovXG5cdENhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcblx0ICB2YXIgY2FuY2VsO1xuXHQgIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG5cdCAgICBjYW5jZWwgPSBjO1xuXHQgIH0pO1xuXHQgIHJldHVybiB7XG5cdCAgICB0b2tlbjogdG9rZW4sXG5cdCAgICBjYW5jZWw6IGNhbmNlbFxuXHQgIH07XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG5cdCAqXG5cdCAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG5cdCAqXG5cdCAqICBgYGBqc1xuXHQgKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuXHQgKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG5cdCAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgKiAgYGBgXG5cdCAqXG5cdCAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuXHQgKlxuXHQgKiAgYGBganNcblx0ICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcblx0ICogIGBgYFxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259XG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuXHQgIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuXHQgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzYyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuZW5jb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjMpO1xuXHRleHBvcnRzLmRlY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzY0KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzYzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZW5jb2RlO1xuXHRcblx0dmFyIGtleXMsIGtleXNOdW0sIGtleXNBcnIsIGRpbSwgZSxcblx0ICAgIG1heFByZWNpc2lvbiA9IDFlNjtcblx0XG5cdHZhciBnZW9tZXRyeVR5cGVzID0ge1xuXHQgICAgJ1BvaW50JzogMCxcblx0ICAgICdNdWx0aVBvaW50JzogMSxcblx0ICAgICdMaW5lU3RyaW5nJzogMixcblx0ICAgICdNdWx0aUxpbmVTdHJpbmcnOiAzLFxuXHQgICAgJ1BvbHlnb24nOiA0LFxuXHQgICAgJ011bHRpUG9seWdvbic6IDUsXG5cdCAgICAnR2VvbWV0cnlDb2xsZWN0aW9uJzogNlxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZW5jb2RlKG9iaiwgcGJmKSB7XG5cdCAgICBrZXlzID0ge307XG5cdCAgICBrZXlzQXJyID0gW107XG5cdCAgICBrZXlzTnVtID0gMDtcblx0ICAgIGRpbSA9IDA7XG5cdCAgICBlID0gMTtcblx0XG5cdCAgICBhbmFseXplKG9iaik7XG5cdFxuXHQgICAgZSA9IE1hdGgubWluKGUsIG1heFByZWNpc2lvbik7XG5cdCAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5jZWlsKE1hdGgubG9nKGUpIC8gTWF0aC5MTjEwKTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIGtleXNBcnJbaV0pO1xuXHQgICAgaWYgKGRpbSAhPT0gMikgcGJmLndyaXRlVmFyaW50RmllbGQoMiwgZGltKTtcblx0ICAgIGlmIChwcmVjaXNpb24gIT09IDYpIHBiZi53cml0ZVZhcmludEZpZWxkKDMsIHByZWNpc2lvbik7XG5cdFxuXHQgICAgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSBwYmYud3JpdGVNZXNzYWdlKDQsIHdyaXRlRmVhdHVyZUNvbGxlY3Rpb24sIG9iaik7XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmUnKSBwYmYud3JpdGVNZXNzYWdlKDUsIHdyaXRlRmVhdHVyZSwgb2JqKTtcblx0ICAgIGVsc2UgcGJmLndyaXRlTWVzc2FnZSg2LCB3cml0ZUdlb21ldHJ5LCBvYmopO1xuXHRcblx0ICAgIGtleXMgPSBudWxsO1xuXHRcblx0ICAgIHJldHVybiBwYmYuZmluaXNoKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFuYWx5emUob2JqKSB7XG5cdCAgICB2YXIgaSwga2V5O1xuXHRcblx0ICAgIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmouZmVhdHVyZXMubGVuZ3RoOyBpKyspIGFuYWx5emUob2JqLmZlYXR1cmVzW2ldKTtcblx0XG5cdCAgICB9IGVsc2UgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZScpIHtcblx0ICAgICAgICBpZiAob2JqLmdlb21ldHJ5ICE9PSBudWxsKSBhbmFseXplKG9iai5nZW9tZXRyeSk7XG5cdCAgICAgICAgZm9yIChrZXkgaW4gb2JqLnByb3BlcnRpZXMpIHNhdmVLZXkoa2V5KTtcblx0XG5cdCAgICB9IGVsc2UgaWYgKG9iai50eXBlID09PSAnUG9pbnQnKSBhbmFseXplUG9pbnQob2JqLmNvb3JkaW5hdGVzKTtcblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnTXVsdGlQb2ludCcpIGFuYWx5emVQb2ludHMob2JqLmNvb3JkaW5hdGVzKTtcblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmouZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykgYW5hbHl6ZShvYmouZ2VvbWV0cmllc1tpXSk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBhbmFseXplUG9pbnRzKG9iai5jb29yZGluYXRlcyk7XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ1BvbHlnb24nIHx8IG9iai50eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykgYW5hbHl6ZU11bHRpTGluZShvYmouY29vcmRpbmF0ZXMpO1xuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5jb29yZGluYXRlcy5sZW5ndGg7IGkrKykgYW5hbHl6ZU11bHRpTGluZShvYmouY29vcmRpbmF0ZXNbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAoa2V5IGluIG9iaikge1xuXHQgICAgICAgIGlmICghaXNTcGVjaWFsS2V5KGtleSwgb2JqLnR5cGUpKSBzYXZlS2V5KGtleSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFuYWx5emVNdWx0aUxpbmUoY29vcmRzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgYW5hbHl6ZVBvaW50cyhjb29yZHNbaV0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbmFseXplUG9pbnRzKGNvb3Jkcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIGFuYWx5emVQb2ludChjb29yZHNbaV0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbmFseXplUG9pbnQocG9pbnQpIHtcblx0ICAgIGRpbSA9IE1hdGgubWF4KGRpbSwgcG9pbnQubGVuZ3RoKTtcblx0XG5cdCAgICAvLyBmaW5kIG1heCBwcmVjaXNpb25cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB3aGlsZSAoTWF0aC5yb3VuZChwb2ludFtpXSAqIGUpIC8gZSAhPT0gcG9pbnRbaV0gJiYgZSA8IG1heFByZWNpc2lvbikgZSAqPSAxMDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2F2ZUtleShrZXkpIHtcblx0ICAgIGlmIChrZXlzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGtleXNBcnIucHVzaChrZXkpO1xuXHQgICAgICAgIGtleXNba2V5XSA9IGtleXNOdW0rKztcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVGZWF0dXJlQ29sbGVjdGlvbihvYmosIHBiZikge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBwYmYud3JpdGVNZXNzYWdlKDEsIHdyaXRlRmVhdHVyZSwgb2JqLmZlYXR1cmVzW2ldKTtcblx0ICAgIH1cblx0ICAgIHdyaXRlUHJvcHMob2JqLCBwYmYsIHRydWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUZlYXR1cmUoZmVhdHVyZSwgcGJmKSB7XG5cdCAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeSAhPT0gbnVsbCkgcGJmLndyaXRlTWVzc2FnZSgxLCB3cml0ZUdlb21ldHJ5LCBmZWF0dXJlLmdlb21ldHJ5KTtcblx0XG5cdCAgICBpZiAoZmVhdHVyZS5pZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlLmlkID09PSAnbnVtYmVyJyAmJiBmZWF0dXJlLmlkICUgMSA9PT0gMCkgcGJmLndyaXRlU1ZhcmludEZpZWxkKDEyLCBmZWF0dXJlLmlkKTtcblx0ICAgICAgICBlbHNlIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDExLCBmZWF0dXJlLmlkKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB3cml0ZVByb3BzKGZlYXR1cmUucHJvcGVydGllcywgcGJmKTtcblx0ICAgIHdyaXRlUHJvcHMoZmVhdHVyZSwgcGJmLCB0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVHZW9tZXRyeShnZW9tLCBwYmYpIHtcblx0ICAgIHBiZi53cml0ZVZhcmludEZpZWxkKDEsIGdlb21ldHJ5VHlwZXNbZ2VvbS50eXBlXSk7XG5cdFxuXHQgICAgdmFyIGNvb3JkcyA9IGdlb20uY29vcmRpbmF0ZXM7XG5cdFxuXHQgICAgaWYgKGdlb20udHlwZSA9PT0gJ1BvaW50Jykgd3JpdGVQb2ludChjb29yZHMsIHBiZik7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvaW50Jykgd3JpdGVMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSB3cml0ZUxpbmUoY29vcmRzLCBwYmYpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykgd3JpdGVNdWx0aUxpbmUoY29vcmRzLCBwYmYpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnUG9seWdvbicpIHdyaXRlTXVsdGlMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHdyaXRlTXVsdGlQb2x5Z29uKGNvb3JkcywgcGJmKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb20uZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykgcGJmLndyaXRlTWVzc2FnZSg0LCB3cml0ZUdlb21ldHJ5LCBnZW9tLmdlb21ldHJpZXNbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHdyaXRlUHJvcHMoZ2VvbSwgcGJmLCB0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVQcm9wcyhwcm9wcywgcGJmLCBpc0N1c3RvbSkge1xuXHQgICAgdmFyIGluZGV4ZXMgPSBbXSxcblx0ICAgICAgICB2YWx1ZUluZGV4ID0gMDtcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcblx0ICAgICAgICBpZiAoaXNDdXN0b20gJiYgaXNTcGVjaWFsS2V5KGtleSwgcHJvcHMudHlwZSkpIHtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHBiZi53cml0ZU1lc3NhZ2UoMTMsIHdyaXRlVmFsdWUsIHByb3BzW2tleV0pO1xuXHQgICAgICAgIGluZGV4ZXMucHVzaChrZXlzW2tleV0pO1xuXHQgICAgICAgIGluZGV4ZXMucHVzaCh2YWx1ZUluZGV4KyspO1xuXHQgICAgfVxuXHQgICAgcGJmLndyaXRlUGFja2VkVmFyaW50KGlzQ3VzdG9tID8gMTUgOiAxNCwgaW5kZXhlcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlVmFsdWUodmFsdWUsIHBiZikge1xuXHQgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm47XG5cdFxuXHQgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdFxuXHQgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSBwYmYud3JpdGVTdHJpbmdGaWVsZCgxLCB2YWx1ZSk7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHBiZi53cml0ZUJvb2xlYW5GaWVsZCg1LCB2YWx1ZSk7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0JykgcGJmLndyaXRlU3RyaW5nRmllbGQoNiwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlICUgMSAhPT0gMCkgcGJmLndyaXRlRG91YmxlRmllbGQoMiwgdmFsdWUpO1xuXHQgICAgICAgIGVsc2UgaWYgKHZhbHVlID49IDApIHBiZi53cml0ZVZhcmludEZpZWxkKDMsIHZhbHVlKTtcblx0ICAgICAgICBlbHNlIHBiZi53cml0ZVZhcmludEZpZWxkKDQsIC12YWx1ZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlUG9pbnQocG9pbnQsIHBiZikge1xuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW07IGkrKykgY29vcmRzLnB1c2goTWF0aC5yb3VuZChwb2ludFtpXSAqIGUpKTtcblx0ICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVMaW5lKGxpbmUsIHBiZikge1xuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgcG9wdWxhdGVMaW5lKGNvb3JkcywgbGluZSk7XG5cdCAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlTXVsdGlMaW5lKGxpbmVzLCBwYmYsIGNsb3NlZCkge1xuXHQgICAgdmFyIGxlbiA9IGxpbmVzLmxlbmd0aCxcblx0ICAgICAgICBpO1xuXHQgICAgaWYgKGxlbiAhPT0gMSkge1xuXHQgICAgICAgIHZhciBsZW5ndGhzID0gW107XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSBsZW5ndGhzLnB1c2gobGluZXNbaV0ubGVuZ3RoIC0gKGNsb3NlZCA/IDEgOiAwKSk7XG5cdCAgICAgICAgcGJmLndyaXRlUGFja2VkVmFyaW50KDIsIGxlbmd0aHMpO1xuXHQgICAgICAgIC8vIFRPRE8gZmFzdGVyIHdpdGggY3VzdG9tIHdyaXRlTWVzc2FnZT9cblx0ICAgIH1cblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgcG9wdWxhdGVMaW5lKGNvb3JkcywgbGluZXNbaV0sIGNsb3NlZCk7XG5cdCAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlTXVsdGlQb2x5Z29uKHBvbHlnb25zLCBwYmYpIHtcblx0ICAgIHZhciBsZW4gPSBwb2x5Z29ucy5sZW5ndGgsXG5cdCAgICAgICAgaSwgajtcblx0ICAgIGlmIChsZW4gIT09IDEgfHwgcG9seWdvbnNbMF0ubGVuZ3RoICE9PSAxKSB7XG5cdCAgICAgICAgdmFyIGxlbmd0aHMgPSBbbGVuXTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgbGVuZ3Rocy5wdXNoKHBvbHlnb25zW2ldLmxlbmd0aCk7XG5cdCAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgbGVuZ3Rocy5wdXNoKHBvbHlnb25zW2ldW2pdLmxlbmd0aCAtIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwYmYud3JpdGVQYWNrZWRWYXJpbnQoMiwgbGVuZ3Rocyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgZm9yIChqID0gMDsgaiA8IHBvbHlnb25zW2ldLmxlbmd0aDsgaisrKSBwb3B1bGF0ZUxpbmUoY29vcmRzLCBwb2x5Z29uc1tpXVtqXSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmUsIGNsb3NlZCkge1xuXHQgICAgdmFyIGksIGosXG5cdCAgICAgICAgbGVuID0gbGluZS5sZW5ndGggLSAoY2xvc2VkID8gMSA6IDApLFxuXHQgICAgICAgIHN1bSA9IG5ldyBBcnJheShkaW0pO1xuXHQgICAgZm9yIChqID0gMDsgaiA8IGRpbTsgaisrKSBzdW1bal0gPSAwO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpbTsgaisrKSB7XG5cdCAgICAgICAgICAgIHZhciBuID0gTWF0aC5yb3VuZChsaW5lW2ldW2pdICogZSkgLSBzdW1bal07XG5cdCAgICAgICAgICAgIGNvb3Jkcy5wdXNoKG4pO1xuXHQgICAgICAgICAgICBzdW1bal0gKz0gbjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3BlY2lhbEtleShrZXksIHR5cGUpIHtcblx0ICAgIGlmIChrZXkgPT09ICd0eXBlJykgcmV0dXJuIHRydWU7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gJ2ZlYXR1cmVzJykgcmV0dXJuIHRydWU7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdGZWF0dXJlJykge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdpZCcgfHwga2V5ID09PSAncHJvcGVydGllcycgfHwga2V5ID09PSAnZ2VvbWV0cnknKSByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSAnZ2VvbWV0cmllcycpIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIGlmIChrZXkgPT09ICdjb29yZGluYXRlcycpIHJldHVybiB0cnVlO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlY29kZTtcblx0XG5cdHZhciBrZXlzLCB2YWx1ZXMsIGxlbmd0aHMsIGRpbSwgZTtcblx0XG5cdHZhciBnZW9tZXRyeVR5cGVzID0gW1xuXHQgICAgJ1BvaW50JywgJ011bHRpUG9pbnQnLCAnTGluZVN0cmluZycsICdNdWx0aUxpbmVTdHJpbmcnLFxuXHQgICAgJ1BvbHlnb24nLCAnTXVsdGlQb2x5Z29uJywgJ0dlb21ldHJ5Q29sbGVjdGlvbiddO1xuXHRcblx0ZnVuY3Rpb24gZGVjb2RlKHBiZikge1xuXHQgICAgZGltID0gMjtcblx0ICAgIGUgPSBNYXRoLnBvdygxMCwgNik7XG5cdCAgICBsZW5ndGhzID0gbnVsbDtcblx0XG5cdCAgICBrZXlzID0gW107XG5cdCAgICB2YWx1ZXMgPSBbXTtcblx0ICAgIHZhciBvYmogPSBwYmYucmVhZEZpZWxkcyhyZWFkRGF0YUZpZWxkLCB7fSk7XG5cdCAgICBrZXlzID0gbnVsbDtcblx0XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRGF0YUZpZWxkKHRhZywgb2JqLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDEpIGtleXMucHVzaChwYmYucmVhZFN0cmluZygpKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgZGltID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgZSA9IE1hdGgucG93KDEwLCBwYmYucmVhZFZhcmludCgpKTtcblx0XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDQpIHJlYWRGZWF0dXJlQ29sbGVjdGlvbihwYmYsIG9iaik7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDUpIHJlYWRGZWF0dXJlKHBiZiwgb2JqKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNikgcmVhZEdlb21ldHJ5KHBiZiwgb2JqKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEZlYXR1cmVDb2xsZWN0aW9uKHBiZiwgb2JqKSB7XG5cdCAgICBvYmoudHlwZSA9ICdGZWF0dXJlQ29sbGVjdGlvbic7XG5cdCAgICBvYmouZmVhdHVyZXMgPSBbXTtcblx0ICAgIHJldHVybiBwYmYucmVhZE1lc3NhZ2UocmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQsIG9iaik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRGZWF0dXJlKHBiZiwgZmVhdHVyZSkge1xuXHQgICAgZmVhdHVyZS50eXBlID0gJ0ZlYXR1cmUnO1xuXHQgICAgdmFyIGYgPSBwYmYucmVhZE1lc3NhZ2UocmVhZEZlYXR1cmVGaWVsZCwgZmVhdHVyZSk7XG5cdCAgICBpZiAoIWYuaGFzT3duUHJvcGVydHkoJ2dlb21ldHJ5JykpIGYuZ2VvbWV0cnkgPSBudWxsO1xuXHQgICAgcmV0dXJuIGY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRHZW9tZXRyeShwYmYsIGdlb20pIHtcblx0ICAgIHJldHVybiBwYmYucmVhZE1lc3NhZ2UocmVhZEdlb21ldHJ5RmllbGQsIGdlb20pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCh0YWcsIG9iaiwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAxKSBvYmouZmVhdHVyZXMucHVzaChyZWFkRmVhdHVyZShwYmYsIHt9KSk7XG5cdFxuXHQgICAgZWxzZSBpZiAodGFnID09PSAxMykgdmFsdWVzLnB1c2gocmVhZFZhbHVlKHBiZikpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgb2JqKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEZlYXR1cmVGaWVsZCh0YWcsIGZlYXR1cmUsIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMSkgZmVhdHVyZS5nZW9tZXRyeSA9IHJlYWRHZW9tZXRyeShwYmYsIHt9KTtcblx0XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDExKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRTdHJpbmcoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTIpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFNWYXJpbnQoKTtcblx0XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDE0KSBmZWF0dXJlLnByb3BlcnRpZXMgPSByZWFkUHJvcHMocGJmLCB7fSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDE1KSByZWFkUHJvcHMocGJmLCBmZWF0dXJlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEdlb21ldHJ5RmllbGQodGFnLCBnZW9tLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDEpIGdlb20udHlwZSA9IGdlb21ldHJ5VHlwZXNbcGJmLnJlYWRWYXJpbnQoKV07XG5cdFxuXHQgICAgZWxzZSBpZiAodGFnID09PSAyKSBsZW5ndGhzID0gcGJmLnJlYWRQYWNrZWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgcmVhZENvb3JkcyhnZW9tLCBwYmYsIGdlb20udHlwZSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDQpIHtcblx0ICAgICAgICBnZW9tLmdlb21ldHJpZXMgPSBnZW9tLmdlb21ldHJpZXMgfHwgW107XG5cdCAgICAgICAgZ2VvbS5nZW9tZXRyaWVzLnB1c2gocmVhZEdlb21ldHJ5KHBiZiwge30pKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTUpIHJlYWRQcm9wcyhwYmYsIGdlb20pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkQ29vcmRzKGdlb20sIHBiZiwgdHlwZSkge1xuXHQgICAgaWYgKHR5cGUgPT09ICdQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkUG9pbnQocGJmKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvaW50JykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRMaW5lKHBiZiwgdHJ1ZSk7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnTGluZVN0cmluZycpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTGluZShwYmYpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTXVsdGlMaW5lKHBiZik7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnUG9seWdvbicpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTXVsdGlMaW5lKHBiZiwgdHJ1ZSk7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2x5Z29uJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRNdWx0aVBvbHlnb24ocGJmKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFZhbHVlKHBiZikge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuXHQgICAgICAgIHZhbHVlID0gbnVsbDtcblx0XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBwYmYucmVhZFZhcmludCgpLFxuXHQgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMztcblx0XG5cdCAgICAgICAgaWYgKHRhZyA9PT0gMSkgdmFsdWUgPSBwYmYucmVhZFN0cmluZygpO1xuXHQgICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgdmFsdWUgPSBwYmYucmVhZERvdWJsZSgpO1xuXHQgICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgdmFsdWUgPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNCkgdmFsdWUgPSAtcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgICAgICBlbHNlIGlmICh0YWcgPT09IDUpIHZhbHVlID0gcGJmLnJlYWRCb29sZWFuKCk7XG5cdCAgICAgICAgZWxzZSBpZiAodGFnID09PSA2KSB2YWx1ZSA9IEpTT04ucGFyc2UocGJmLnJlYWRTdHJpbmcoKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRQcm9wcyhwYmYsIHByb3BzKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkgcHJvcHNba2V5c1twYmYucmVhZFZhcmludCgpXV0gPSB2YWx1ZXNbcGJmLnJlYWRWYXJpbnQoKV07XG5cdCAgICB2YWx1ZXMgPSBbXTtcblx0ICAgIHJldHVybiBwcm9wcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFBvaW50KHBiZikge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuXHQgICAgICAgIGNvb3JkcyA9IFtdO1xuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIGNvb3Jkcy5wdXNoKHBiZi5yZWFkU1ZhcmludCgpIC8gZSk7XG5cdCAgICByZXR1cm4gY29vcmRzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkTGluZVBhcnQocGJmLCBlbmQsIGxlbiwgY2xvc2VkKSB7XG5cdCAgICB2YXIgaSA9IDAsXG5cdCAgICAgICAgY29vcmRzID0gW10sXG5cdCAgICAgICAgcCwgZDtcblx0XG5cdCAgICB2YXIgcHJldlAgPSBbXTtcblx0ICAgIGZvciAoZCA9IDA7IGQgPCBkaW07IGQrKykgcHJldlBbZF0gPSAwO1xuXHRcblx0ICAgIHdoaWxlIChsZW4gPyBpIDwgbGVuIDogcGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIHAgPSBbXTtcblx0ICAgICAgICBmb3IgKGQgPSAwOyBkIDwgZGltOyBkKyspIHtcblx0ICAgICAgICAgICAgcHJldlBbZF0gKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdCAgICAgICAgICAgIHBbZF0gPSBwcmV2UFtkXSAvIGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvb3Jkcy5wdXNoKHApO1xuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0ICAgIGlmIChjbG9zZWQpIGNvb3Jkcy5wdXNoKGNvb3Jkc1swXSk7XG5cdFxuXHQgICAgcmV0dXJuIGNvb3Jkcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZExpbmUocGJmKSB7XG5cdCAgICByZXR1cm4gcmVhZExpbmVQYXJ0KHBiZiwgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkTXVsdGlMaW5lKHBiZiwgY2xvc2VkKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cdCAgICBpZiAoIWxlbmd0aHMpIHJldHVybiBbcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBudWxsLCBjbG9zZWQpXTtcblx0XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aHMubGVuZ3RoOyBpKyspIGNvb3Jkcy5wdXNoKHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuZ3Roc1tpXSwgY2xvc2VkKSk7XG5cdCAgICBsZW5ndGhzID0gbnVsbDtcblx0ICAgIHJldHVybiBjb29yZHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRNdWx0aVBvbHlnb24ocGJmKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cdCAgICBpZiAoIWxlbmd0aHMpIHJldHVybiBbW3JlYWRMaW5lUGFydChwYmYsIGVuZCwgbnVsbCwgdHJ1ZSldXTtcblx0XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICB2YXIgaiA9IDE7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aHNbMF07IGkrKykge1xuXHQgICAgICAgIHZhciByaW5ncyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuZ3Roc1tqXTsgaysrKSByaW5ncy5wdXNoKHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuZ3Roc1tqICsgMSArIGtdLCB0cnVlKSk7XG5cdCAgICAgICAgaiArPSBsZW5ndGhzW2pdICsgMTtcblx0ICAgICAgICBjb29yZHMucHVzaChyaW5ncyk7XG5cdCAgICB9XG5cdCAgICBsZW5ndGhzID0gbnVsbDtcblx0ICAgIHJldHVybiBjb29yZHM7XG5cdH1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGJmO1xuXHRcblx0dmFyIGllZWU3NTQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMSk7XG5cdFxuXHRmdW5jdGlvbiBQYmYoYnVmKSB7XG5cdCAgICB0aGlzLmJ1ZiA9IEFycmF5QnVmZmVyLmlzVmlldyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcoYnVmKSA/IGJ1ZiA6IG5ldyBVaW50OEFycmF5KGJ1ZiB8fCAwKTtcblx0ICAgIHRoaXMucG9zID0gMDtcblx0ICAgIHRoaXMudHlwZSA9IDA7XG5cdCAgICB0aGlzLmxlbmd0aCA9IHRoaXMuYnVmLmxlbmd0aDtcblx0fVxuXHRcblx0UGJmLlZhcmludCAgPSAwOyAvLyB2YXJpbnQ6IGludDMyLCBpbnQ2NCwgdWludDMyLCB1aW50NjQsIHNpbnQzMiwgc2ludDY0LCBib29sLCBlbnVtXG5cdFBiZi5GaXhlZDY0ID0gMTsgLy8gNjQtYml0OiBkb3VibGUsIGZpeGVkNjQsIHNmaXhlZDY0XG5cdFBiZi5CeXRlcyAgID0gMjsgLy8gbGVuZ3RoLWRlbGltaXRlZDogc3RyaW5nLCBieXRlcywgZW1iZWRkZWQgbWVzc2FnZXMsIHBhY2tlZCByZXBlYXRlZCBmaWVsZHNcblx0UGJmLkZpeGVkMzIgPSA1OyAvLyAzMi1iaXQ6IGZsb2F0LCBmaXhlZDMyLCBzZml4ZWQzMlxuXHRcblx0dmFyIFNISUZUX0xFRlRfMzIgPSAoMSA8PCAxNikgKiAoMSA8PCAxNiksXG5cdCAgICBTSElGVF9SSUdIVF8zMiA9IDEgLyBTSElGVF9MRUZUXzMyO1xuXHRcblx0UGJmLnByb3RvdHlwZSA9IHtcblx0XG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmJ1ZiA9IG51bGw7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8vID09PSBSRUFESU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFxuXHQgICAgcmVhZEZpZWxkczogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQsIGVuZCkge1xuXHQgICAgICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcblx0XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnJlYWRWYXJpbnQoKSxcblx0ICAgICAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzLFxuXHQgICAgICAgICAgICAgICAgc3RhcnRQb3MgPSB0aGlzLnBvcztcblx0XG5cdCAgICAgICAgICAgIHRoaXMudHlwZSA9IHZhbCAmIDB4Nztcblx0ICAgICAgICAgICAgcmVhZEZpZWxkKHRhZywgcmVzdWx0LCB0aGlzKTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnBvcyA9PT0gc3RhcnRQb3MpIHRoaXMuc2tpcCh2YWwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkTWVzc2FnZTogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmllbGRzKHJlYWRGaWVsZCwgcmVzdWx0LCB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZEZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkU0ZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8vIDY0LWJpdCBpbnQgaGFuZGxpbmcgaXMgYmFzZWQgb24gZ2l0aHViLmNvbS9kcHcvbm9kZS1idWZmZXItbW9yZS1pbnRzIChNSVQtbGljZW5zZWQpXG5cdFxuXHQgICAgcmVhZEZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyArIDQpICogU0hJRlRfTEVGVF8zMjtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRTRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKSArIHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkRmxvYXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBpZWVlNzU0LnJlYWQodGhpcy5idWYsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFZhcmludDogZnVuY3Rpb24oaXNTaWduZWQpIHtcblx0ICAgICAgICB2YXIgYnVmID0gdGhpcy5idWYsXG5cdCAgICAgICAgICAgIHZhbCwgYjtcblx0XG5cdCAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsICA9ICBiICYgMHg3ZjsgICAgICAgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcblx0ICAgICAgICBiID0gYnVmW3RoaXMucG9zKytdOyB2YWwgfD0gKGIgJiAweDdmKSA8PCA3OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdmFsO1xuXHQgICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDE0OyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG5cdCAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMjE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcblx0ICAgICAgICBiID0gYnVmW3RoaXMucG9zXTsgICB2YWwgfD0gKGIgJiAweDBmKSA8PCAyODtcblx0XG5cdCAgICAgICAgcmV0dXJuIHJlYWRWYXJpbnRSZW1haW5kZXIodmFsLCBpc1NpZ25lZCwgdGhpcyk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRWYXJpbnQ2NDogZnVuY3Rpb24oKSB7IC8vIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdjIuMC4xXG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVhZFZhcmludCh0cnVlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFNWYXJpbnQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBudW0gPSB0aGlzLnJlYWRWYXJpbnQoKTtcblx0ICAgICAgICByZXR1cm4gbnVtICUgMiA9PT0gMSA/IChudW0gKyAxKSAvIC0yIDogbnVtIC8gMjsgLy8gemlnemFnIGVuY29kaW5nXG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRCb29sZWFuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zLFxuXHQgICAgICAgICAgICBzdHIgPSByZWFkVXRmOCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIGVuZCk7XG5cdCAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZEJ5dGVzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZW5kID0gdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyxcblx0ICAgICAgICAgICAgYnVmZmVyID0gdGhpcy5idWYuc3ViYXJyYXkodGhpcy5wb3MsIGVuZCk7XG5cdCAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG5cdCAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcblx0ICAgIH0sXG5cdFxuXHQgICAgLy8gdmVyYm9zZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczsgZG9lc24ndCBhZmZlY3QgZ3ppcHBlZCBzaXplXG5cdFxuXHQgICAgcmVhZFBhY2tlZFZhcmludDogZnVuY3Rpb24oYXJyLCBpc1NpZ25lZCkge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZFNWYXJpbnQ6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRCb29sZWFuOiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkRmxvYXQ6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZERvdWJsZTogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRGaXhlZDMyOiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZEZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRTRml4ZWQ2NDogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG5cdCAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG5cdCAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdFxuXHQgICAgc2tpcDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSB2YWwgJiAweDc7XG5cdCAgICAgICAgaWYgKHR5cGUgPT09IFBiZi5WYXJpbnQpIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA+IDB4N2YpIHt9XG5cdCAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkJ5dGVzKSB0aGlzLnBvcyA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3M7XG5cdCAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkMzIpIHRoaXMucG9zICs9IDQ7XG5cdCAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkNjQpIHRoaXMucG9zICs9IDg7XG5cdCAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgdHlwZTogJyArIHR5cGUpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvLyA9PT0gV1JJVElORyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcblx0ICAgIHdyaXRlVGFnOiBmdW5jdGlvbih0YWcsIHR5cGUpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KCh0YWcgPDwgMykgfCB0eXBlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhbGxvYzogZnVuY3Rpb24obWluKSB7XG5cdCAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDE2O1xuXHRcblx0ICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdGhpcy5wb3MgKyBtaW4pIGxlbmd0aCAqPSAyO1xuXHRcblx0ICAgICAgICBpZiAobGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcblx0ICAgICAgICAgICAgYnVmLnNldCh0aGlzLmJ1Zik7XG5cdCAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuXHQgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIGZpbmlzaDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnBvcztcblx0ICAgICAgICB0aGlzLnBvcyA9IDA7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnN1YmFycmF5KDAsIHRoaXMubGVuZ3RoKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVTRml4ZWQzMjogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCAmIC0xLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVTRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCAmIC0xLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHZhbCA9ICt2YWwgfHwgMDtcblx0XG5cdCAgICAgICAgaWYgKHZhbCA+IDB4ZmZmZmZmZiB8fCB2YWwgPCAwKSB7XG5cdCAgICAgICAgICAgIHdyaXRlQmlnVmFyaW50KHZhbCwgdGhpcyk7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblx0XG5cdCAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAgICAgICAgICAgdmFsICYgMHg3ZiAgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG5cdCAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG5cdCAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG5cdCAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAgICh2YWwgPj4+IDcpICYgMHg3Zjtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVTVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCA8IDAgPyAtdmFsICogMiAtIDEgOiB2YWwgKiAyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVCb29sZWFuOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odmFsKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcblx0ICAgICAgICBzdHIgPSBTdHJpbmcoc3RyKTtcblx0ICAgICAgICB0aGlzLnJlYWxsb2Moc3RyLmxlbmd0aCAqIDQpO1xuXHRcblx0ICAgICAgICB0aGlzLnBvcysrOyAvLyByZXNlcnZlIDEgYnl0ZSBmb3Igc2hvcnQgc3RyaW5nIGxlbmd0aFxuXHRcblx0ICAgICAgICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcblx0ICAgICAgICAvLyB3cml0ZSB0aGUgc3RyaW5nIGRpcmVjdGx5IHRvIHRoZSBidWZmZXIgYW5kIHNlZSBob3cgbXVjaCB3YXMgd3JpdHRlblxuXHQgICAgICAgIHRoaXMucG9zID0gd3JpdGVVdGY4KHRoaXMuYnVmLCBzdHIsIHRoaXMucG9zKTtcblx0ICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblx0XG5cdCAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXHRcblx0ICAgICAgICAvLyBmaW5hbGx5LCB3cml0ZSB0aGUgbWVzc2FnZSBsZW5ndGggaW4gdGhlIHJlc2VydmVkIHBsYWNlIGFuZCByZXN0b3JlIHRoZSBwb3NpdGlvblxuXHQgICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSBsZW47XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlRmxvYXQ6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblx0ICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVEb3VibGU6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg4KTtcblx0ICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCA1MiwgOCk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVCeXRlczogZnVuY3Rpb24oYnVmZmVyKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGg7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyhsZW4pO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXMuYnVmW3RoaXMucG9zKytdID0gYnVmZmVyW2ldO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVJhd01lc3NhZ2U6IGZ1bmN0aW9uKGZuLCBvYmopIHtcblx0ICAgICAgICB0aGlzLnBvcysrOyAvLyByZXNlcnZlIDEgYnl0ZSBmb3Igc2hvcnQgbWVzc2FnZSBsZW5ndGhcblx0XG5cdCAgICAgICAgLy8gd3JpdGUgdGhlIG1lc3NhZ2UgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG5cdCAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG5cdCAgICAgICAgZm4ob2JqLCB0aGlzKTtcblx0ICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblx0XG5cdCAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXHRcblx0ICAgICAgICAvLyBmaW5hbGx5LCB3cml0ZSB0aGUgbWVzc2FnZSBsZW5ndGggaW4gdGhlIHJlc2VydmVkIHBsYWNlIGFuZCByZXN0b3JlIHRoZSBwb3NpdGlvblxuXHQgICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSBsZW47XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlTWVzc2FnZTogZnVuY3Rpb24odGFnLCBmbiwgb2JqKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5CeXRlcyk7XG5cdCAgICAgICAgdGhpcy53cml0ZVJhd01lc3NhZ2UoZm4sIG9iaik7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlUGFja2VkVmFyaW50OiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkVmFyaW50LCBhcnIpOyAgIH0sXG5cdCAgICB3cml0ZVBhY2tlZFNWYXJpbnQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNWYXJpbnQsIGFycik7ICB9LFxuXHQgICAgd3JpdGVQYWNrZWRCb29sZWFuOiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRCb29sZWFuLCBhcnIpOyAgfSxcblx0ICAgIHdyaXRlUGFja2VkRmxvYXQ6ICAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRmxvYXQsIGFycik7ICAgIH0sXG5cdCAgICB3cml0ZVBhY2tlZERvdWJsZTogICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZERvdWJsZSwgYXJyKTsgICB9LFxuXHQgICAgd3JpdGVQYWNrZWRGaXhlZDMyOiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDMyLCBhcnIpOyAgfSxcblx0ICAgIHdyaXRlUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkMzIsIGFycik7IH0sXG5cdCAgICB3cml0ZVBhY2tlZEZpeGVkNjQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkNjQsIGFycik7ICB9LFxuXHQgICAgd3JpdGVQYWNrZWRTRml4ZWQ2NDogZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTRml4ZWQ2NCwgYXJyKTsgfSxcblx0XG5cdCAgICB3cml0ZUJ5dGVzRmllbGQ6IGZ1bmN0aW9uKHRhZywgYnVmZmVyKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5CeXRlcyk7XG5cdCAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ1ZmZlcik7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVGaXhlZDMyRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcblx0ICAgICAgICB0aGlzLndyaXRlRml4ZWQzMih2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlU0ZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuXHQgICAgICAgIHRoaXMud3JpdGVTRml4ZWQzMih2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG5cdCAgICAgICAgdGhpcy53cml0ZUZpeGVkNjQodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZVNGaXhlZDY0RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcblx0ICAgICAgICB0aGlzLndyaXRlU0ZpeGVkNjQodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZVZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVTVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5WYXJpbnQpO1xuXHQgICAgICAgIHRoaXMud3JpdGVTVmFyaW50KHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVTdHJpbmdGaWVsZDogZnVuY3Rpb24odGFnLCBzdHIpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcblx0ICAgICAgICB0aGlzLndyaXRlU3RyaW5nKHN0cik7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVGbG9hdEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQzMik7XG5cdCAgICAgICAgdGhpcy53cml0ZUZsb2F0KHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVEb3VibGVGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuXHQgICAgICAgIHRoaXMud3JpdGVEb3VibGUodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZUJvb2xlYW5GaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50RmllbGQodGFnLCBCb29sZWFuKHZhbCkpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmVhZFZhcmludFJlbWFpbmRlcihsLCBzLCBwKSB7XG5cdCAgICB2YXIgYnVmID0gcC5idWYsXG5cdCAgICAgICAgaCwgYjtcblx0XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoICA9IChiICYgMHg3MCkgPj4gNDsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDM7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxMDsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTc7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDI0OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDAxKSA8PCAzMTsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdFxuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkUGFja2VkRW5kKHBiZikge1xuXHQgICAgcmV0dXJuIHBiZi50eXBlID09PSBQYmYuQnl0ZXMgP1xuXHQgICAgICAgIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zIDogcGJmLnBvcyArIDE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvTnVtKGxvdywgaGlnaCwgaXNTaWduZWQpIHtcblx0ICAgIGlmIChpc1NpZ25lZCkge1xuXHQgICAgICAgIHJldHVybiBoaWdoICogMHgxMDAwMDAwMDAgKyAobG93ID4+PiAwKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gKChoaWdoID4+PiAwKSAqIDB4MTAwMDAwMDAwKSArIChsb3cgPj4+IDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUJpZ1ZhcmludCh2YWwsIHBiZikge1xuXHQgICAgdmFyIGxvdywgaGlnaDtcblx0XG5cdCAgICBpZiAodmFsID49IDApIHtcblx0ICAgICAgICBsb3cgID0gKHZhbCAlIDB4MTAwMDAwMDAwKSB8IDA7XG5cdCAgICAgICAgaGlnaCA9ICh2YWwgLyAweDEwMDAwMDAwMCkgfCAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBsb3cgID0gfigtdmFsICUgMHgxMDAwMDAwMDApO1xuXHQgICAgICAgIGhpZ2ggPSB+KC12YWwgLyAweDEwMDAwMDAwMCk7XG5cdFxuXHQgICAgICAgIGlmIChsb3cgXiAweGZmZmZmZmZmKSB7XG5cdCAgICAgICAgICAgIGxvdyA9IChsb3cgKyAxKSB8IDA7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgbG93ID0gMDtcblx0ICAgICAgICAgICAgaGlnaCA9IChoaWdoICsgMSkgfCAwO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodmFsID49IDB4MTAwMDAwMDAwMDAwMDAwMDAgfHwgdmFsIDwgLTB4MTAwMDAwMDAwMDAwMDAwMDApIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dpdmVuIHZhcmludCBkb2VzblxcJ3QgZml0IGludG8gMTAgYnl0ZXMnKTtcblx0ICAgIH1cblx0XG5cdCAgICBwYmYucmVhbGxvYygxMCk7XG5cdFxuXHQgICAgd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpO1xuXHQgICAgd3JpdGVCaWdWYXJpbnRIaWdoKGhpZ2gsIHBiZik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKSB7XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdID0gbG93ICYgMHg3ZiB8IDB4ODA7IGxvdyA+Pj49IDc7XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcblx0ICAgIHBiZi5idWZbcGJmLnBvc10gICA9IGxvdyAmIDB4N2Y7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpIHtcblx0ICAgIHZhciBsc2IgPSAoaGlnaCAmIDB4MDcpIDw8IDQ7XG5cdFxuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdIHw9IGxzYiAgICAgICAgIHwgKChoaWdoID4+Pj0gMykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHBiZikge1xuXHQgICAgdmFyIGV4dHJhTGVuID1cblx0ICAgICAgICBsZW4gPD0gMHgzZmZmID8gMSA6XG5cdCAgICAgICAgbGVuIDw9IDB4MWZmZmZmID8gMiA6XG5cdCAgICAgICAgbGVuIDw9IDB4ZmZmZmZmZiA/IDMgOiBNYXRoLmZsb29yKE1hdGgubG9nKGxlbikgLyAoTWF0aC5MTjIgKiA3KSk7XG5cdFxuXHQgICAgLy8gaWYgMSBieXRlIGlzbid0IGVub3VnaCBmb3IgZW5jb2RpbmcgbWVzc2FnZSBsZW5ndGgsIHNoaWZ0IHRoZSBkYXRhIHRvIHRoZSByaWdodFxuXHQgICAgcGJmLnJlYWxsb2MoZXh0cmFMZW4pO1xuXHQgICAgZm9yICh2YXIgaSA9IHBiZi5wb3MgLSAxOyBpID49IHN0YXJ0UG9zOyBpLS0pIHBiZi5idWZbaSArIGV4dHJhTGVuXSA9IHBiZi5idWZbaV07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkVmFyaW50KGFyciwgcGJmKSAgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVZhcmludChhcnJbaV0pOyAgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRTVmFyaW50KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU1ZhcmludChhcnJbaV0pOyAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZEZsb2F0KGFyciwgcGJmKSAgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGbG9hdChhcnJbaV0pOyAgICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkRG91YmxlKGFyciwgcGJmKSAgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZURvdWJsZShhcnJbaV0pOyAgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRCb29sZWFuKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlQm9vbGVhbihhcnJbaV0pOyAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkMzIoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDMyKGFycltpXSk7ICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkU0ZpeGVkMzIoYXJyLCBwYmYpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVNGaXhlZDMyKGFycltpXSk7IH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQ2NChhcnJbaV0pOyAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDY0KGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQ2NChhcnJbaV0pOyB9XG5cdFxuXHQvLyBCdWZmZXIgY29kZSBiZWxvdyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyLCBNSVQtbGljZW5zZWRcblx0XG5cdGZ1bmN0aW9uIHJlYWRVSW50MzIoYnVmLCBwb3MpIHtcblx0ICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG5cdCAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG5cdCAgICAgICAgKGJ1Zltwb3MgKyAyXSA8PCAxNikpICtcblx0ICAgICAgICAoYnVmW3BvcyArIDNdICogMHgxMDAwMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVJbnQzMihidWYsIHZhbCwgcG9zKSB7XG5cdCAgICBidWZbcG9zXSA9IHZhbDtcblx0ICAgIGJ1Zltwb3MgKyAxXSA9ICh2YWwgPj4+IDgpO1xuXHQgICAgYnVmW3BvcyArIDJdID0gKHZhbCA+Pj4gMTYpO1xuXHQgICAgYnVmW3BvcyArIDNdID0gKHZhbCA+Pj4gMjQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkSW50MzIoYnVmLCBwb3MpIHtcblx0ICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG5cdCAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG5cdCAgICAgICAgKGJ1Zltwb3MgKyAyXSA8PCAxNikpICtcblx0ICAgICAgICAoYnVmW3BvcyArIDNdIDw8IDI0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFV0ZjgoYnVmLCBwb3MsIGVuZCkge1xuXHQgICAgdmFyIHN0ciA9ICcnO1xuXHQgICAgdmFyIGkgPSBwb3M7XG5cdFxuXHQgICAgd2hpbGUgKGkgPCBlbmQpIHtcblx0ICAgICAgICB2YXIgYjAgPSBidWZbaV07XG5cdCAgICAgICAgdmFyIGMgPSBudWxsOyAvLyBjb2RlcG9pbnRcblx0ICAgICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9XG5cdCAgICAgICAgICAgIGIwID4gMHhFRiA/IDQgOlxuXHQgICAgICAgICAgICBiMCA+IDB4REYgPyAzIDpcblx0ICAgICAgICAgICAgYjAgPiAweEJGID8gMiA6IDE7XG5cdFxuXHQgICAgICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA+IGVuZCkgYnJlYWs7XG5cdFxuXHQgICAgICAgIHZhciBiMSwgYjIsIGIzO1xuXHRcblx0ICAgICAgICBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMSkge1xuXHQgICAgICAgICAgICBpZiAoYjAgPCAweDgwKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gYjA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDIpIHtcblx0ICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuXHQgICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODApIHtcblx0ICAgICAgICAgICAgICAgIGMgPSAoYjAgJiAweDFGKSA8PCAweDYgfCAoYjEgJiAweDNGKTtcblx0ICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4N0YpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMykge1xuXHQgICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG5cdCAgICAgICAgICAgIGIyID0gYnVmW2kgKyAyXTtcblx0ICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweEMgfCAoYjEgJiAweDNGKSA8PCAweDYgfCAoYjIgJiAweDNGKTtcblx0ICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4N0ZGIHx8IChjID49IDB4RDgwMCAmJiBjIDw9IDB4REZGRikpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gNCkge1xuXHQgICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG5cdCAgICAgICAgICAgIGIyID0gYnVmW2kgKyAyXTtcblx0ICAgICAgICAgICAgYjMgPSBidWZbaSArIDNdO1xuXHQgICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODAgJiYgKGIzICYgMHhDMCkgPT09IDB4ODApIHtcblx0ICAgICAgICAgICAgICAgIGMgPSAoYjAgJiAweEYpIDw8IDB4MTIgfCAoYjEgJiAweDNGKSA8PCAweEMgfCAoYjIgJiAweDNGKSA8PCAweDYgfCAoYjMgJiAweDNGKTtcblx0ICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4RkZGRiB8fCBjID49IDB4MTEwMDAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChjID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIGMgPSAweEZGRkQ7XG5cdCAgICAgICAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxO1xuXHRcblx0ICAgICAgICB9IGVsc2UgaWYgKGMgPiAweEZGRkYpIHtcblx0ICAgICAgICAgICAgYyAtPSAweDEwMDAwO1xuXHQgICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0ICAgICAgICAgICAgYyA9IDB4REMwMCB8IGMgJiAweDNGRjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuXHQgICAgICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc3RyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZVV0ZjgoYnVmLCBzdHIsIHBvcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGMsIGxlYWQ7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7IC8vIGNvZGUgcG9pbnRcblx0XG5cdCAgICAgICAgaWYgKGMgPiAweEQ3RkYgJiYgYyA8IDB4RTAwMCkge1xuXHQgICAgICAgICAgICBpZiAobGVhZCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPCAweERDMDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcblx0ICAgICAgICAgICAgICAgICAgICBsZWFkID0gYztcblx0ICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYyA9IGxlYWQgLSAweEQ4MDAgPDwgMTAgfCBjIC0gMHhEQzAwIHwgMHgxMDAwMDtcblx0ICAgICAgICAgICAgICAgICAgICBsZWFkID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjID4gMHhEQkZGIHx8IChpICsgMSA9PT0gc3RyLmxlbmd0aCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcblx0ICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAobGVhZCkge1xuXHQgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcblx0ICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG5cdCAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuXHQgICAgICAgICAgICBsZWFkID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChjIDwgMHg4MCkge1xuXHQgICAgICAgICAgICBidWZbcG9zKytdID0gYztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG5cdCAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgfCAweEMwO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgPCAweDEwMDAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHhDIHwgMHhFMDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHgxMiB8IDB4RjA7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHhDICYgMHgzRiB8IDB4ODA7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgJiAweDNGIHwgMHg4MDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBidWZbcG9zKytdID0gYyAmIDB4M0YgfCAweDgwO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBwb3M7XG5cdH1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlcXVlc3Q7XG5cdFxuXHR2YXIgX2F4aW9zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xuXHRcblx0dmFyIF9heGlvczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9heGlvcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gcmVxdWVzdChfcmVmKSB7XG5cdCAgdmFyIHVybCA9IF9yZWYudXJsLFxuXHQgICAgICBfcmVmJHJlc3BvbnNlVHlwZSA9IF9yZWYucmVzcG9uc2VUeXBlLFxuXHQgICAgICByZXNwb25zZVR5cGUgPSBfcmVmJHJlc3BvbnNlVHlwZSA9PT0gdW5kZWZpbmVkID8gJ2pzb24nIDogX3JlZiRyZXNwb25zZVR5cGU7XG5cdFxuXHQgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XG5cdCAgICByZXR1cm4gKDAsIF9heGlvczIuZGVmYXVsdCkoe1xuXHQgICAgICB1cmw6IHVybCxcblx0ICAgICAgcmVzcG9uc2VUeXBlOiByZXNwb25zZVR5cGVcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7XG5cdCAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTtcblx0XG5cdCAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0ICByZXR1cm4gZmV0Y2hEYXRhKCk7XG5cdH1cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdGVtcGxhdGU7XG5cdHZhciB0ZW1wbGF0ZVJlID0gL1xceyAqKFtcXHdfLV0rKSAqXFx9L2c7XG5cdFxuXHQvLyBAZnVuY3Rpb24gdGVtcGxhdGUoc3RyOiBTdHJpbmcsIGRhdGE6IE9iamVjdCk6IFN0cmluZ1xuXHQvLyBTaW1wbGUgdGVtcGxhdGluZyBmYWNpbGl0eSwgYWNjZXB0cyBhIHRlbXBsYXRlIHN0cmluZyBvZiB0aGUgZm9ybSBgJ0hlbGxvIHthfSwge2J9J2Bcblx0Ly8gYW5kIGEgZGF0YSBvYmplY3QgbGlrZSBge2E6ICdmb28nLCBiOiAnYmFyJ31gLCByZXR1cm5zIGV2YWx1YXRlZCBzdHJpbmdcblx0Ly8gYCgnSGVsbG8gZm9vLCBiYXInKWAuIFlvdSBjYW4gYWxzbyBzcGVjaWZ5IGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIHN0cmluZ3MgZm9yXG5cdC8vIGRhdGEgdmFsdWVzIOKAlCB0aGV5IHdpbGwgYmUgZXZhbHVhdGVkIHBhc3NpbmcgYGRhdGFgIGFzIGFuIGFyZ3VtZW50LlxuXHRmdW5jdGlvbiB0ZW1wbGF0ZShzdHIsIGRhdGEpIHtcblx0ICByZXR1cm4gc3RyLnJlcGxhY2UodGVtcGxhdGVSZSwgZnVuY3Rpb24gKHN0ciwga2V5KSB7XG5cdCAgICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XG5cdFxuXHQgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB2YWx1ZSA9IHZhbHVlKGRhdGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHQgIH0pO1xuXHR9XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGdldFRpbWVMYWJlbDtcblx0dmFyIHRpbWVMYWJlbFByZWZpeCA9ICfilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqggJztcblx0XG5cdGZ1bmN0aW9uIGdldFRpbWVMYWJlbChsYWJlbCkge1xuXHQgIHJldHVybiB0aW1lTGFiZWxQcmVmaXggKyAnICcgKyBsYWJlbDtcblx0fVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuZXhwYW5kZWRMb2cgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2lzb2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzApO1xuXHRcblx0dmFyIF9pc29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc29iamVjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIE1BWF9ERVBUSCA9IDEwMDtcblx0XG5cdGZ1bmN0aW9uIGV4cGFuZGVkTG9nKGl0ZW0sIGRlcHRoKSB7XG5cdCAgZGVwdGggPSBkZXB0aCB8fCAzMDtcblx0XG5cdCAgaWYgKGRlcHRoID4gTUFYX0RFUFRIKSB7XG5cdCAgICBjb25zb2xlLmxvZyhpdGVtKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIGlmICgoMCwgX2lzb2JqZWN0Mi5kZWZhdWx0KShpdGVtKSkge1xuXHQgICAgZm9yICh2YXIgcHJvcCBpbiBpdGVtKSB7XG5cdCAgICAgIGNvbnNvbGUubG9nKHByb3AsIGl0ZW1bcHJvcF0pO1xuXHQgICAgICBjb25zb2xlLmdyb3VwKHByb3AgKyAnIDogJyArIF90eXBlb2YoaXRlbVtwcm9wXSkpO1xuXHQgICAgICBleHBhbmRlZExvZyhpdGVtW3Byb3BdLCBkZXB0aCArIDEpO1xuXHQgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdCwgc3BhY2UpIHtcblx0ICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0LCBudWxsLCBzcGFjZSk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZXhwYW5kZWRMb2cgPSBleHBhbmRlZExvZztcblx0ZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpc09iamVjdDtcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvaXNvYmplY3QvYmxvYi9tYXN0ZXIvaW5kZXguanNcblx0ZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCAhPSBudWxsICYmICh0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWwpKSA9PT0gJ29iamVjdCcgJiYgQXJyYXkuaXNBcnJheSh2YWwpID09PSBmYWxzZTtcblx0fTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDM3MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cy5WZWN0b3JUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRtb2R1bGUuZXhwb3J0cy5WZWN0b3JUaWxlRmVhdHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc0KTtcblx0bW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZUxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzMpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFZlY3RvclRpbGVMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMzczKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZTtcblx0XG5cdGZ1bmN0aW9uIFZlY3RvclRpbGUocGJmLCBlbmQpIHtcblx0ICAgIHRoaXMubGF5ZXJzID0gcGJmLnJlYWRGaWVsZHMocmVhZFRpbGUsIHt9LCBlbmQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkVGlsZSh0YWcsIGxheWVycywgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAzKSB7XG5cdCAgICAgICAgdmFyIGxheWVyID0gbmV3IFZlY3RvclRpbGVMYXllcihwYmYsIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zKTtcblx0ICAgICAgICBpZiAobGF5ZXIubGVuZ3RoKSBsYXllcnNbbGF5ZXIubmFtZV0gPSBsYXllcjtcblx0ICAgIH1cblx0fVxuXHRcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzczOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBWZWN0b3JUaWxlRmVhdHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUxheWVyO1xuXHRcblx0ZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG5cdCAgICAvLyBQdWJsaWNcblx0ICAgIHRoaXMudmVyc2lvbiA9IDE7XG5cdCAgICB0aGlzLm5hbWUgPSBudWxsO1xuXHQgICAgdGhpcy5leHRlbnQgPSA0MDk2O1xuXHQgICAgdGhpcy5sZW5ndGggPSAwO1xuXHRcblx0ICAgIC8vIFByaXZhdGVcblx0ICAgIHRoaXMuX3BiZiA9IHBiZjtcblx0ICAgIHRoaXMuX2tleXMgPSBbXTtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuXHQgICAgdGhpcy5fZmVhdHVyZXMgPSBbXTtcblx0XG5cdCAgICBwYmYucmVhZEZpZWxkcyhyZWFkTGF5ZXIsIHRoaXMsIGVuZCk7XG5cdFxuXHQgICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDE1KSBsYXllci52ZXJzaW9uID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMSkgbGF5ZXIubmFtZSA9IHBiZi5yZWFkU3RyaW5nKCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDIpIGxheWVyLl9mZWF0dXJlcy5wdXNoKHBiZi5wb3MpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAzKSBsYXllci5fa2V5cy5wdXNoKHBiZi5yZWFkU3RyaW5nKCkpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcblx0ICAgIHZhciB2YWx1ZSA9IG51bGwsXG5cdCAgICAgICAgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cdFxuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICB2YXIgdGFnID0gcGJmLnJlYWRWYXJpbnQoKSA+PiAzO1xuXHRcblx0ICAgICAgICB2YWx1ZSA9IHRhZyA9PT0gMSA/IHBiZi5yZWFkU3RyaW5nKCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDIgPyBwYmYucmVhZEZsb2F0KCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcblx0ICAgICAgICAgICAgdGFnID09PSA0ID8gcGJmLnJlYWRWYXJpbnQ2NCgpIDpcblx0ICAgICAgICAgICAgdGFnID09PSA1ID8gcGJmLnJlYWRWYXJpbnQoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcblx0ICAgICAgICAgICAgdGFnID09PSA3ID8gcGJmLnJlYWRCb29sZWFuKCkgOiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fVxuXHRcblx0Ly8gcmV0dXJuIGZlYXR1cmUgYGlgIGZyb20gdGhpcyBsYXllciBhcyBhIGBWZWN0b3JUaWxlRmVhdHVyZWBcblx0VmVjdG9yVGlsZUxheWVyLnByb3RvdHlwZS5mZWF0dXJlID0gZnVuY3Rpb24oaSkge1xuXHQgICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXHRcblx0ICAgIHRoaXMuX3BiZi5wb3MgPSB0aGlzLl9mZWF0dXJlc1tpXTtcblx0XG5cdCAgICB2YXIgZW5kID0gdGhpcy5fcGJmLnJlYWRWYXJpbnQoKSArIHRoaXMuX3BiZi5wb3M7XG5cdCAgICByZXR1cm4gbmV3IFZlY3RvclRpbGVGZWF0dXJlKHRoaXMuX3BiZiwgZW5kLCB0aGlzLmV4dGVudCwgdGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzKTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzc0OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMzc1KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUZlYXR1cmU7XG5cdFxuXHRmdW5jdGlvbiBWZWN0b3JUaWxlRmVhdHVyZShwYmYsIGVuZCwgZXh0ZW50LCBrZXlzLCB2YWx1ZXMpIHtcblx0ICAgIC8vIFB1YmxpY1xuXHQgICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XG5cdCAgICB0aGlzLmV4dGVudCA9IGV4dGVudDtcblx0ICAgIHRoaXMudHlwZSA9IDA7XG5cdFxuXHQgICAgLy8gUHJpdmF0ZVxuXHQgICAgdGhpcy5fcGJmID0gcGJmO1xuXHQgICAgdGhpcy5fZ2VvbWV0cnkgPSAtMTtcblx0ICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXHRcblx0ICAgIHBiZi5yZWFkRmllbGRzKHJlYWRGZWF0dXJlLCB0aGlzLCBlbmQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRmVhdHVyZSh0YWcsIGZlYXR1cmUsIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PSAxKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PSAyKSByZWFkVGFnKHBiZiwgZmVhdHVyZSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT0gMykgZmVhdHVyZS50eXBlID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PSA0KSBmZWF0dXJlLl9nZW9tZXRyeSA9IHBiZi5wb3M7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRUYWcocGJmLCBmZWF0dXJlKSB7XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cdFxuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICB2YXIga2V5ID0gZmVhdHVyZS5fa2V5c1twYmYucmVhZFZhcmludCgpXSxcblx0ICAgICAgICAgICAgdmFsdWUgPSBmZWF0dXJlLl92YWx1ZXNbcGJmLnJlYWRWYXJpbnQoKV07XG5cdCAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0VmVjdG9yVGlsZUZlYXR1cmUudHlwZXMgPSBbJ1Vua25vd24nLCAnUG9pbnQnLCAnTGluZVN0cmluZycsICdQb2x5Z29uJ107XG5cdFxuXHRWZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUubG9hZEdlb21ldHJ5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcGJmID0gdGhpcy5fcGJmO1xuXHQgICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXHRcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcblx0ICAgICAgICBjbWQgPSAxLFxuXHQgICAgICAgIGxlbmd0aCA9IDAsXG5cdCAgICAgICAgeCA9IDAsXG5cdCAgICAgICAgeSA9IDAsXG5cdCAgICAgICAgbGluZXMgPSBbXSxcblx0ICAgICAgICBsaW5lO1xuXHRcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG5cdCAgICAgICAgICAgIHZhciBjbWRMZW4gPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG5cdCAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgbGVuZ3RoLS07XG5cdFxuXHQgICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG5cdCAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdCAgICAgICAgICAgIHkgKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoY21kID09PSAxKSB7IC8vIG1vdmVUb1xuXHQgICAgICAgICAgICAgICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG5cdCAgICAgICAgICAgICAgICBsaW5lID0gW107XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGxpbmUucHVzaChuZXcgUG9pbnQoeCwgeSkpO1xuXHRcblx0ICAgICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gNykge1xuXHRcblx0ICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBuaWstdmVjdG9yLXRpbGUvaXNzdWVzLzkwXG5cdCAgICAgICAgICAgIGlmIChsaW5lKSB7XG5cdCAgICAgICAgICAgICAgICBsaW5lLnB1c2gobGluZVswXS5jbG9uZSgpKTsgLy8gY2xvc2VQb2x5Z29uXG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuXHRcblx0ICAgIHJldHVybiBsaW5lcztcblx0fTtcblx0XG5cdFZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5iYm94ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcGJmID0gdGhpcy5fcGJmO1xuXHQgICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXHRcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcblx0ICAgICAgICBjbWQgPSAxLFxuXHQgICAgICAgIGxlbmd0aCA9IDAsXG5cdCAgICAgICAgeCA9IDAsXG5cdCAgICAgICAgeSA9IDAsXG5cdCAgICAgICAgeDEgPSBJbmZpbml0eSxcblx0ICAgICAgICB4MiA9IC1JbmZpbml0eSxcblx0ICAgICAgICB5MSA9IEluZmluaXR5LFxuXHQgICAgICAgIHkyID0gLUluZmluaXR5O1xuXHRcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG5cdCAgICAgICAgICAgIHZhciBjbWRMZW4gPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG5cdCAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgbGVuZ3RoLS07XG5cdFxuXHQgICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG5cdCAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdCAgICAgICAgICAgIHkgKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdCAgICAgICAgICAgIGlmICh4IDwgeDEpIHgxID0geDtcblx0ICAgICAgICAgICAgaWYgKHggPiB4MikgeDIgPSB4O1xuXHQgICAgICAgICAgICBpZiAoeSA8IHkxKSB5MSA9IHk7XG5cdCAgICAgICAgICAgIGlmICh5ID4geTIpIHkyID0geTtcblx0XG5cdCAgICAgICAgfSBlbHNlIGlmIChjbWQgIT09IDcpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbeDEsIHkxLCB4MiwgeTJdO1xuXHR9O1xuXHRcblx0VmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTiA9IGZ1bmN0aW9uKHgsIHksIHopIHtcblx0ICAgIHZhciBzaXplID0gdGhpcy5leHRlbnQgKiBNYXRoLnBvdygyLCB6KSxcblx0ICAgICAgICB4MCA9IHRoaXMuZXh0ZW50ICogeCxcblx0ICAgICAgICB5MCA9IHRoaXMuZXh0ZW50ICogeSxcblx0ICAgICAgICBjb29yZHMgPSB0aGlzLmxvYWRHZW9tZXRyeSgpLFxuXHQgICAgICAgIHR5cGUgPSBWZWN0b3JUaWxlRmVhdHVyZS50eXBlc1t0aGlzLnR5cGVdLFxuXHQgICAgICAgIGksIGo7XG5cdFxuXHQgICAgZnVuY3Rpb24gcHJvamVjdChsaW5lKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgIHZhciBwID0gbGluZVtqXSwgeTIgPSAxODAgLSAocC55ICsgeTApICogMzYwIC8gc2l6ZTtcblx0ICAgICAgICAgICAgbGluZVtqXSA9IFtcblx0ICAgICAgICAgICAgICAgIChwLnggKyB4MCkgKiAzNjAgLyBzaXplIC0gMTgwLFxuXHQgICAgICAgICAgICAgICAgMzYwIC8gTWF0aC5QSSAqIE1hdGguYXRhbihNYXRoLmV4cCh5MiAqIE1hdGguUEkgLyAxODApKSAtIDkwXG5cdCAgICAgICAgICAgIF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG5cdCAgICBjYXNlIDE6XG5cdCAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgcG9pbnRzW2ldID0gY29vcmRzW2ldWzBdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb29yZHMgPSBwb2ludHM7XG5cdCAgICAgICAgcHJvamVjdChjb29yZHMpO1xuXHQgICAgICAgIGJyZWFrO1xuXHRcblx0ICAgIGNhc2UgMjpcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgY2FzZSAzOlxuXHQgICAgICAgIGNvb3JkcyA9IGNsYXNzaWZ5UmluZ3MoY29vcmRzKTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHNbaV0ubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldW2pdKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBicmVhaztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29vcmRzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIGNvb3JkcyA9IGNvb3Jkc1swXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdHlwZSA9ICdNdWx0aScgKyB0eXBlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZXN1bHQgPSB7XG5cdCAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG5cdCAgICAgICAgZ2VvbWV0cnk6IHtcblx0ICAgICAgICAgICAgdHlwZTogdHlwZSxcblx0ICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3Jkc1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG5cdCAgICB9O1xuXHRcblx0ICAgIGlmICgnaWQnIGluIHRoaXMpIHtcblx0ICAgICAgICByZXN1bHQuaWQgPSB0aGlzLmlkO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvLyBjbGFzc2lmaWVzIGFuIGFycmF5IG9mIHJpbmdzIGludG8gcG9seWdvbnMgd2l0aCBvdXRlciByaW5ncyBhbmQgaG9sZXNcblx0XG5cdGZ1bmN0aW9uIGNsYXNzaWZ5UmluZ3MocmluZ3MpIHtcblx0ICAgIHZhciBsZW4gPSByaW5ncy5sZW5ndGg7XG5cdFxuXHQgICAgaWYgKGxlbiA8PSAxKSByZXR1cm4gW3JpbmdzXTtcblx0XG5cdCAgICB2YXIgcG9seWdvbnMgPSBbXSxcblx0ICAgICAgICBwb2x5Z29uLFxuXHQgICAgICAgIGNjdztcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGFyZWEgPSBzaWduZWRBcmVhKHJpbmdzW2ldKTtcblx0ICAgICAgICBpZiAoYXJlYSA9PT0gMCkgY29udGludWU7XG5cdFxuXHQgICAgICAgIGlmIChjY3cgPT09IHVuZGVmaW5lZCkgY2N3ID0gYXJlYSA8IDA7XG5cdFxuXHQgICAgICAgIGlmIChjY3cgPT09IGFyZWEgPCAwKSB7XG5cdCAgICAgICAgICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXHQgICAgICAgICAgICBwb2x5Z29uID0gW3JpbmdzW2ldXTtcblx0XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcG9seWdvbi5wdXNoKHJpbmdzW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcblx0XG5cdCAgICByZXR1cm4gcG9seWdvbnM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNpZ25lZEFyZWEocmluZykge1xuXHQgICAgdmFyIHN1bSA9IDA7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmluZy5sZW5ndGgsIGogPSBsZW4gLSAxLCBwMSwgcDI7IGkgPCBsZW47IGogPSBpKyspIHtcblx0ICAgICAgICBwMSA9IHJpbmdbaV07XG5cdCAgICAgICAgcDIgPSByaW5nW2pdO1xuXHQgICAgICAgIHN1bSArPSAocDIueCAtIHAxLngpICogKHAxLnkgKyBwMi55KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzdW07XG5cdH1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzc1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUG9pbnQ7XG5cdFxuXHQvKipcblx0ICogQSBzdGFuZGFsb25lIHBvaW50IGdlb21ldHJ5IHdpdGggdXNlZnVsIGFjY2Vzc29yLCBjb21wYXJpc29uLCBhbmRcblx0ICogbW9kaWZpY2F0aW9uIG1ldGhvZHMuXG5cdCAqXG5cdCAqIEBjbGFzcyBQb2ludFxuXHQgKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxvbmdpdHVkZSBvciBzY3JlZW5cblx0ICogcGl4ZWxzLCBvciBhbnkgb3RoZXIgc29ydCBvZiB1bml0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSB0aGUgeS1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxhdGl0dWRlIG9yIHNjcmVlblxuXHQgKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG5cdCAqIEBleGFtcGxlXG5cdCAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgtNzcsIDM4KTtcblx0ICovXG5cdGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcblx0ICAgIHRoaXMueCA9IHg7XG5cdCAgICB0aGlzLnkgPSB5O1xuXHR9XG5cdFxuXHRQb2ludC5wcm90b3R5cGUgPSB7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDbG9uZSB0aGlzIHBvaW50LCByZXR1cm5pbmcgYSBuZXcgcG9pbnQgdGhhdCBjYW4gYmUgbW9kaWZpZWRcblx0ICAgICAqIHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvbGQgb25lLlxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IHRoZSBjbG9uZVxuXHQgICAgICovXG5cdCAgICBjbG9uZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQWRkIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBhbm90aGVyIHBvaW50LFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBhZGQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChwKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFN1YnRyYWN0IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBmcm9tIHBvaW50LFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBzdWI6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3N1YihwKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgbXVsdEJ5UG9pbnQ6ICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQocCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEaXZpZGUgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBkaXZCeVBvaW50OiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHApOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBrIGZhY3RvclxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBtdWx0OiAgICBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHQoayk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEaXZpZGUgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuXHQgICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBrIGZhY3RvclxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBkaXY6ICAgICBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdihrKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCB0aGUgMCwgMCBvcmlnaW4gYnkgYW4gYW5nbGUgYSxcblx0ICAgICAqIGdpdmVuIGluIHJhZGlhbnNcblx0ICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgcm90YXRlOiAgZnVuY3Rpb24oYSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoYSk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgcCBwb2ludCBieSBhbiBhbmdsZSBhLFxuXHQgICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuXHQgICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgYW5nbGUgdG8gcm90YXRlIGFyb3VuZCwgaW4gcmFkaWFuc1xuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCBQb2ludCB0byByb3RhdGUgYXJvdW5kXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHJvdGF0ZUFyb3VuZDogIGZ1bmN0aW9uKGEscCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoYSxwKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQgYnkgYSA0eDEgdHJhbnNmb3JtYXRpb24gbWF0cml4XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IG0gdHJhbnNmb3JtYXRpb24gbWF0cml4XG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIG1hdE11bHQ6IGZ1bmN0aW9uKG0pIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChtKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENhbGN1bGF0ZSB0aGlzIHBvaW50IGJ1dCBhcyBhIHVuaXQgdmVjdG9yIGZyb20gMCwgMCwgbWVhbmluZ1xuXHQgICAgICogdGhhdCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcmVzdWx0aW5nIHBvaW50IHRvIHRoZSAwLCAwXG5cdCAgICAgKiBjb29yZGluYXRlIHdpbGwgYmUgZXF1YWwgdG8gMSBhbmQgdGhlIGFuZ2xlIGZyb20gdGhlIHJlc3VsdGluZ1xuXHQgICAgICogcG9pbnQgdG8gdGhlIDAsIDAgY29vcmRpbmF0ZSB3aWxsIGJlIHRoZSBzYW1lIGFzIGJlZm9yZS5cblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSB1bml0IHZlY3RvciBwb2ludFxuXHQgICAgICovXG5cdCAgICB1bml0OiAgICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29tcHV0ZSBhIHBlcnBlbmRpY3VsYXIgcG9pbnQsIHdoZXJlIHRoZSBuZXcgeSBjb29yZGluYXRlXG5cdCAgICAgKiBpcyB0aGUgb2xkIHggY29vcmRpbmF0ZSBhbmQgdGhlIG5ldyB4IGNvb3JkaW5hdGUgaXMgdGhlIG9sZCB5XG5cdCAgICAgKiBjb29yZGluYXRlIG11bHRpcGxpZWQgYnkgLTFcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBwZXJwZW5kaWN1bGFyIHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHBlcnA6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoaXMgcG9pbnQgd2l0aCB0aGUgeCAmIHkgY29vcmRpbmF0ZXNcblx0ICAgICAqIHJvdW5kZWQgdG8gaW50ZWdlcnMuXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gcm91bmRlZCBwb2ludFxuXHQgICAgICovXG5cdCAgICByb3VuZDogICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybiB0aGUgbWFnaXR1ZGUgb2YgdGhpcyBwb2ludDogdGhpcyBpcyB0aGUgRXVjbGlkZWFuXG5cdCAgICAgKiBkaXN0YW5jZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCdzIHggYW5kIHlcblx0ICAgICAqIGNvb3JkaW5hdGVzLlxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBtYWduaXR1ZGVcblx0ICAgICAqL1xuXHQgICAgbWFnOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSnVkZ2Ugd2hldGhlciB0aGlzIHBvaW50IGlzIGVxdWFsIHRvIGFub3RoZXIgcG9pbnQsIHJldHVybmluZ1xuXHQgICAgICogdHJ1ZSBvciBmYWxzZS5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IG90aGVyIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgcG9pbnRzIGFyZSBlcXVhbFxuXHQgICAgICovXG5cdCAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXIueCAmJlxuXHQgICAgICAgICAgICAgICB0aGlzLnkgPT09IG90aGVyLnk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgZGlzdDogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHApKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LFxuXHQgICAgICogd2l0aG91dCB0aGUgc3F1YXJlIHJvb3Qgc3RlcC4gVXNlZnVsIGlmIHlvdSdyZSBjb21wYXJpbmdcblx0ICAgICAqIHJlbGF0aXZlIGRpc3RhbmNlcy5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIGRpc3RTcXI6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICB2YXIgZHggPSBwLnggLSB0aGlzLngsXG5cdCAgICAgICAgICAgIGR5ID0gcC55IC0gdGhpcy55O1xuXHQgICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXQgdGhlIGFuZ2xlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50LCBpbiByYWRpYW5zXG5cdCAgICAgKiBjb29yZGluYXRlcy5cblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcblx0ICAgICAqL1xuXHQgICAgYW5nbGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXQgdGhlIGFuZ2xlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LCBpbiByYWRpYW5zXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgICAgICovXG5cdCAgICBhbmdsZVRvOiBmdW5jdGlvbihiKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55IC0gYi55LCB0aGlzLnggLSBiLngpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50LCBpbiByYWRpYW5zXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgICAgICovXG5cdCAgICBhbmdsZVdpdGg6IGZ1bmN0aW9uKGIpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoYi54LCBiLnkpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKlxuXHQgICAgICogRmluZCB0aGUgYW5nbGUgb2YgdGhlIHR3byB2ZWN0b3JzLCBzb2x2aW5nIHRoZSBmb3JtdWxhIGZvclxuXHQgICAgICogdGhlIGNyb3NzIHByb2R1Y3QgYSB4IGIgPSB8YXx8YnxzaW4ozrgpIGZvciDOuC5cblx0ICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGVcblx0ICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGVcblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGFuZ2xlIGluIHJhZGlhbnNcblx0ICAgICAqL1xuXHQgICAgYW5nbGVXaXRoU2VwOiBmdW5jdGlvbih4LCB5KSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoXG5cdCAgICAgICAgICAgIHRoaXMueCAqIHkgLSB0aGlzLnkgKiB4LFxuXHQgICAgICAgICAgICB0aGlzLnggKiB4ICsgdGhpcy55ICogeSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9tYXRNdWx0OiBmdW5jdGlvbihtKSB7XG5cdCAgICAgICAgdmFyIHggPSBtWzBdICogdGhpcy54ICsgbVsxXSAqIHRoaXMueSxcblx0ICAgICAgICAgICAgeSA9IG1bMl0gKiB0aGlzLnggKyBtWzNdICogdGhpcy55O1xuXHQgICAgICAgIHRoaXMueCA9IHg7XG5cdCAgICAgICAgdGhpcy55ID0geTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX2FkZDogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHRoaXMueCArPSBwLng7XG5cdCAgICAgICAgdGhpcy55ICs9IHAueTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3N1YjogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHRoaXMueCAtPSBwLng7XG5cdCAgICAgICAgdGhpcy55IC09IHAueTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX211bHQ6IGZ1bmN0aW9uKGspIHtcblx0ICAgICAgICB0aGlzLnggKj0gaztcblx0ICAgICAgICB0aGlzLnkgKj0gaztcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX2RpdjogZnVuY3Rpb24oaykge1xuXHQgICAgICAgIHRoaXMueCAvPSBrO1xuXHQgICAgICAgIHRoaXMueSAvPSBrO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfbXVsdEJ5UG9pbnQ6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICB0aGlzLnggKj0gcC54O1xuXHQgICAgICAgIHRoaXMueSAqPSBwLnk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9kaXZCeVBvaW50OiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdGhpcy54IC89IHAueDtcblx0ICAgICAgICB0aGlzLnkgLz0gcC55O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfdW5pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5fZGl2KHRoaXMubWFnKCkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfcGVycDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG5cdCAgICAgICAgdGhpcy55ID0gdGhpcy54O1xuXHQgICAgICAgIHRoaXMueCA9IC15O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfcm90YXRlOiBmdW5jdGlvbihhbmdsZSkge1xuXHQgICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG5cdCAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcblx0ICAgICAgICAgICAgeCA9IGNvcyAqIHRoaXMueCAtIHNpbiAqIHRoaXMueSxcblx0ICAgICAgICAgICAgeSA9IHNpbiAqIHRoaXMueCArIGNvcyAqIHRoaXMueTtcblx0ICAgICAgICB0aGlzLnggPSB4O1xuXHQgICAgICAgIHRoaXMueSA9IHk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9yb3RhdGVBcm91bmQ6IGZ1bmN0aW9uKGFuZ2xlLCBwKSB7XG5cdCAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcblx0ICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuXHQgICAgICAgICAgICB4ID0gcC54ICsgY29zICogKHRoaXMueCAtIHAueCkgLSBzaW4gKiAodGhpcy55IC0gcC55KSxcblx0ICAgICAgICAgICAgeSA9IHAueSArIHNpbiAqICh0aGlzLnggLSBwLngpICsgY29zICogKHRoaXMueSAtIHAueSk7XG5cdCAgICAgICAgdGhpcy54ID0geDtcblx0ICAgICAgICB0aGlzLnkgPSB5O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfcm91bmQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcblx0ICAgICAgICB0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29uc3RydWN0IGEgcG9pbnQgZnJvbSBhbiBhcnJheSBpZiBuZWNlc3NhcnksIG90aGVyd2lzZSBpZiB0aGUgaW5wdXRcblx0ICogaXMgYWxyZWFkeSBhIFBvaW50LCBvciBhbiB1bmtub3duIHR5cGUsIHJldHVybiBpdCB1bmNoYW5nZWRcblx0ICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fFBvaW50fCp9IGEgYW55IGtpbmQgb2YgaW5wdXQgdmFsdWVcblx0ICogQHJldHVybiB7UG9pbnR9IGNvbnN0cnVjdGVkIHBvaW50LCBvciBwYXNzZWQtdGhyb3VnaCB2YWx1ZS5cblx0ICogQGV4YW1wbGVcblx0ICogLy8gdGhpc1xuXHQgKiB2YXIgcG9pbnQgPSBQb2ludC5jb252ZXJ0KFswLCAxXSk7XG5cdCAqIC8vIGlzIGVxdWl2YWxlbnQgdG9cblx0ICogdmFyIHBvaW50ID0gbmV3IFBvaW50KDAsIDEpO1xuXHQgKi9cblx0UG9pbnQuY29udmVydCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICBpZiAoYSBpbnN0YW5jZW9mIFBvaW50KSB7XG5cdCAgICAgICAgcmV0dXJuIGE7XG5cdCAgICB9XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUG9pbnQoYVswXSwgYVsxXSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYTtcblx0fTtcblxuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbG9hZC5qcyIsImltcG9ydCAnYmFiZWwtcG9seWZpbGwnO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5pbXBvcnQgS2V5Q29kZSBmcm9tICcuLi8uLi8uLi9zcmMvY29uc3RzL0tleUNvZGUnO1xuXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1haW4gPSBuZXcgTWFpbigpO1xuICAgIH1cbn0oKSk7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudCgpO1xuICAgICAgICB0aGlzLm9ucmVzaXplKCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBuZXcgQXBwKCk7XG4gICAgfVxuXG4gICAgYWRkRXZlbnQoKSB7XG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMub25yZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbmtleXVwLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25rZXlkb3duLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIG9ucmVzaXplKCkge1xuICAgICAgICB0aGlzLmFwcC5yZXNpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmdW5jIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICogQHJldHVybnMge2ludGVydmFsRnVuY31cbiAgICAgKi9cbiAgICBnZXRJbnRlcnZhbEZ1bmN0aW9uKHRoZUFyZywgZnVuYywgLi4ucGFyYW1zKSB7XG4gICAgICAgIGZ1bmN0aW9uIGludGVydmFsRnVuYygpIHtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhlQXJnLCBwYXJhbXMpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2V5SW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB0aGlzLmtleUludGVydmFsSWQgPSBzZXRUaW1lb3V0KGludGVydmFsRnVuYy5iaW5kKHRoaXMpLCAyMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGVydmFsRnVuYy5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGNsZWFySW50ZXJGdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2V5SW50ZXJ2YWxJZCk7XG4gICAgfVxuXG4gICAgb25rZXlkb3duKGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlVQOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3knLCAtMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5ET1dOOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3knLCAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkxFRlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneCcsIC0xKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlJJR0hUOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3gnLCAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlBBR0VfVVA6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneicsIDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUEFHRV9ET1dOOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3onLCAtMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneScsIC0wLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl82OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd5JywgMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfODpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneCcsIC0wLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8yOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd4JywgMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNzpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIC0wLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8xOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfOTpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIC0wLjAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8zOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1QQURfQUREOlxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21JbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTVBBRF9TVUJUUkFDVDpcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tT3V0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNUEFEX0VOVEVSOlxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21PdXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMDpcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5BOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbmtleXVwKGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkVTQ0FQRTpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5TUEFDRTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcHAuZ3VpLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5ndWkub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuZ3VpLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuVVA6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5MRUZUOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlJJR0hUOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlBBR0VfVVA6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUEFHRV9ET1dOOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl80OlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl82OlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl84OlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8yOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl83OlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8xOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl85OlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTUJFUl8zOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTVBBRF9BREQ6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNUEFEX1NVQlRSQUNUOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlc6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuUzpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5BOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckludGVyRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkJBQ0tTUEFDRTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tYXAvcGJmL2xvYWQvaW5kZXguanMiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGdlb2J1ZiBmcm9tICdnZW9idWYnO1xuaW1wb3J0IFBiZiBmcm9tICdwYmYnO1xuaW1wb3J0IFByb3RvQnVmIGZyb20gJ3BiZic7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICcuLi8uLi8uLi9zcmMvbmV0L3JlcXVlc3QnO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4uLy4uLy4uL3NyYy9zdHJpbmcvdGVtcGxhdGUnO1xuaW1wb3J0IGdldFRpbWVMYWJlbCBmcm9tICcuLi8uLi8uLi9zcmMvY29uc29sZS9nZXRUaW1lTGFiZWwnO1xuaW1wb3J0IHsgZXhwYW5kZWRMb2csIHN0cmluZ2lmeSB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb25zb2xlL2V4cGFuZGVkTG9nJztcbmltcG9ydCB7IFZlY3RvclRpbGUgfSBmcm9tICdAbWFwYm94L3ZlY3Rvci10aWxlJztcblxuLyoqXG4gKiDslYTrnpgg7KO87IaM7J2YIHBiZuulvCDsvZTrp4zrj4TsnZgg7Iqk7YOA7J287J2EIOyngeygkSDrgrTroKTrsJvslYTshJwg7YyM7Iux7ZWcIOqyg+qzvCDsmKTsobTsnZgg6rKD7J2EIOuwm+yVhOyEnCDtmZXsnbgg7ZWp64uI64ukLlxuICogaHR0cHM6Ly9tYXAubmF2ZXIuY29tL3Y1Lz9jPTE0MTQ5NjcyLjczNzg4MTcsNDQ5MTE5OS43MjE5OTUwLDE1LDAsMCwwLGRoXG4gKiDqt7jrpqzqs6Ag67Cb6rOgIO2MjOyLse2VmOuKlCDruYTsmqkg6rCc7IKw7J2EIO2VqeuLiOuLpC5cbiAqL1xuLy8gY29uc3QgeHl6ID0ge3g6IDI3OTUzLCB5OiAxMjcxMSwgejogMTV9O1xuLy8gY29uc3QgeHl6ID0ge3g6IDI3OTU0LCB5OiAxMjcxMiwgejogMTV9O1xuLy8gY29uc3QgeHl6ID0ge3g6IDI3OTU0LCB5OiAxMjcxNCwgejogMTV9O1xuLy8gY29uc3QgeHl6ID0ge3g6IDI3OTUyLCB5OiAxMjcxNCwgejogMTV9O1xuLy8g6re466aw7Yyp7Yag66asXG5jb25zdCB4eXogPSB7eDogMjc5NTMsIHk6IDEyNzEzLCB6OiAxNX07XG5jb25zdCB1cmxzID0ge1xuICBidXM6ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmIvd210cy9idXMvZDJlMzY0YzktYjc1ZS00ZmQ3LTgwMjAtYzRiMjZmODJiOWNlL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcbiAgcG9pX3dlYjogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252Yi93bXRzL3BvaV93ZWIvOGZlNjg4M2UtNTUyNS00NWY4LThmNTUtNWUzMGJjNDk4MWYxL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcbiAgcG9pNG9zbTogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252YnBjL3dtdHMvb3NtX25hdmVyX3BvaS81NjUzZTc1Ny05YmYxLTRhMmUtYjIwZi04NmJiNGMwYjk5MTIvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBuYXZlcjRvc206ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmJwYy93bXRzL29zbV9uYXZlcl9kYXRhL2dldE1ldGFkYXRhJyxcbiAgY2N0djogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252YnBjL3dtdHMvY2N0di9hYjUwYjI2Yy04NDJkLTRiZTUtOGIwYy00NjAxOWY1ZTc5YTEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBvem9uZTogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L296b25lL3BiZi9nZW9qc29uL1BPST8nICtcbiAgICAneD0nICsgeHl6LnggKyAnJicgK1xuICAgICd5PScgKyB4eXoueSArICcgJicgK1xuICAgICd6PScgKyB4eXoueiArICcmJyArXG4gICAgJ25hbWU9b3NtX25hdmVyX3BvaSYnICtcbiAgICAndmVyc2lvbkNvZGU9NTY1M2U3NTctOWJmMS00YTJlLWIyMGYtODZiYjRjMGI5OTEyJicgK1xuICAgICdwaXhlbFJhdGlvPTImJyArXG4gICAgJ2ltYWdlVHlwZT1zcHJpdGUmJyArXG4gICAgJ2xhbmd1YWdlPWtvJicgK1xuICAgICdtYXBUeXBlPU5PUk1BTCYnICtcbiAgICAncXVhbGl0eT1ub3JtYWwnXG59O1xuXG5mb3IgKGNvbnN0IHByb3AgaW4gdXJscykge1xuICB1cmxzW3Byb3BdID0gdGVtcGxhdGUodXJsc1twcm9wXSwgeHl6KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gdGhpcy50ZXN0UGJmKHVybHMuYnVzLCAnYnVzJyk7XG4gICAgLy8gdGhpcy50ZXN0UGJmKHVybHMuY2N0diwgJ2NjdHYnKTtcbiAgICB0aGlzLnRlc3RQYmYodXJscy5jY3R2LCAnY2N0dicpO1xuICAgIHRoaXMudGVzdFBiZih1cmxzLnBvaV93ZWIsICduYXZlcjRvc20nKTtcbiAgICB0aGlzLnRlc3RQYmYodXJscy5wb2k0b3NtLCAncG9pNG9zbScpO1xuICAgIHRoaXMudGVzdE96b25lKHVybHMub3pvbmUsICdvem9uZScpO1xuICB9XG5cbiAgcGFyc2UoKSB7XG4gICAgLy8gY29uc3QgcGJmID0gbmV3IFBiZihuZXcgVWludDhBcnJheShyZXNwb25zZSkpO1xuICAgIC8vIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShwYmYpO1xuICAgIC8vIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShuZXcgUHJvdG9CdWYoYnVmZmVyKSk7XG4gIH1cblxuICB0ZXN0UGJmKHVybCwgdGltZUxhYmVsKSB7XG4gICAgY29uc29sZS50aW1lKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IOuhnOuTnGApKTtcbiAgICByZXF1ZXN0KHtcbiAgICAgIHVybCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICB9KS50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0g66Gc65OcYCkpO1xuICAgICAgY29uc29sZS50aW1lKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IHBiZiDtjIzsi7FgKSk7XG4gICAgICBjb25zdCB0aWxlID0gbmV3IFZlY3RvclRpbGUobmV3IFByb3RvQnVmKGJ1ZmZlcikpO1xuICAgICAgY29uc29sZS50aW1lRW5kKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IHBiZiDtjIzsi7FgKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzdHJpbmdpZnkodGlsZSwgMikpO1xuICAgICAgY29uc29sZS5sb2codGlsZSk7XG4gICAgICBjb25zb2xlLnRpbWUoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0g7ZS87LOQIOyDneyEsWApKTtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLmdldEZlYXR1cmVzKHRpbGUpO1xuICAgICAgY29uc29sZS50aW1lRW5kKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IO2UvOyzkCDsg53shLFgKSk7XG4gICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRlc3RPem9uZSh1cmwsIHRpbWVMYWJlbCkge1xuICAgIGNvbnNvbGUudGltZShnZXRUaW1lTGFiZWwoYCR7dGltZUxhYmVsfSDroZzrk5xgKSk7XG4gICAgcmVxdWVzdCh7XG4gICAgICB1cmwsXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsXG4gICAgfSkudGhlbihidWZmZXIgPT4ge1xuICAgICAgY29uc29sZS50aW1lRW5kKGdldFRpbWVMYWJlbChgJHt0aW1lTGFiZWx9IOuhnOuTnGApKTtcbiAgICAgIGNvbnNvbGUudGltZShnZXRUaW1lTGFiZWwoYCR7dGltZUxhYmVsfSBwYmYg7YyM7IuxIOuwjyDtlLzss5Ag7IOd7ISxYCkpO1xuXG4gICAgICBsZXQgY29sbGVjdGlvbiA9IHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICB9O1xuXG4gICAgICBjb2xsZWN0aW9uID0gZ2VvYnVmLmRlY29kZShuZXcgUHJvdG9CdWYoYnVmZmVyKSk7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoZ2V0VGltZUxhYmVsKGAke3RpbWVMYWJlbH0gcGJmIO2MjOyLsSDrsI8g7ZS87LOQIOyDneyEsWApKTtcbiAgICAgIGNvbnNvbGUubG9nKCdjb2xsZWN0aW9uJywgY29sbGVjdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZlYXR1cmVzKHRpbGUpIHtcbiAgICBsZXQgY29sbGVjdGlvbiA9IHtcbiAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICBmZWF0dXJlczogW11cbiAgICB9O1xuXG4gICAgbGV0IGxheWVycyA9IE9iamVjdC5rZXlzKHRpbGUubGF5ZXJzKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICBsYXllcnMgPSBbbGF5ZXJzXTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgbGF5ZXJzICgke2xheWVycy5sZW5ndGh9KWApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcklEKSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IHRpbGUubGF5ZXJzW2xheWVySURdO1xuXG4gICAgICBjb25zdCBsZW4gPSBsYXllci5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IHtcbiAgICAgICAgICAuLi5sYXllci5mZWF0dXJlKGkpLnRvR2VvSlNPTih4eXoueCwgeHl6LnksIHh5ei56KVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzLmxheWVyID0gbGF5ZXJJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgZmVhdHVyZSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgSlNPTi5zdHJpbmdpZnkoZmVhdHVyZSwgbnVsbCwgMikpO1xuICAgICAgICBjb2xsZWN0aW9uLmZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWFwL3BiZi9sb2FkL0FwcC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2F4aW9zLmpzXG4vLyBtb2R1bGUgaWQgPSAzMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG4gKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG4gKlxuICogQHNlZSBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gMzM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzLWJ1ZmZlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kID8gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpIDogJ2dldCc7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvQXhpb3MuanNcbi8vIG1vZHVsZSBpZCA9IDM0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qc1xuLy8gbW9kdWxlIGlkID0gMzQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanNcbi8vIG1vZHVsZSBpZCA9IDM0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgLy8gT25seSBOb2RlLkpTIGhhcyBhIHByb2Nlc3MgdmFyaWFibGUgdGhhdCBpcyBvZiBbW0NsYXNzXV0gcHJvY2Vzc1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvZGVmYXVsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDM0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvY3JlYXRlRXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgYnJvd3NlciByZXF1ZXN0IGNhbmNlbGxhdGlvbiAoYXMgb3Bwb3NlZCB0byBhIG1hbnVhbCBjYW5jZWxsYXRpb24pXG4gICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24gaGFuZGxlQWJvcnQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanNcbi8vIG1vZHVsZSBpZCA9IDM0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMzUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cblxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgZXJyb3IuaXNBeGlvc0Vycm9yID0gdHJ1ZTtcblxuICBlcnJvci50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgIH07XG4gIH07XG4gIHJldHVybiBlcnJvcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDM1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qc1xuLy8gbW9kdWxlIGlkID0gMzU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanNcbi8vIG1vZHVsZSBpZCA9IDM1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHV0aWxzLmZvckVhY2goWyd1cmwnLCAnbWV0aG9kJywgJ3BhcmFtcycsICdkYXRhJ10sIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB1dGlscy5mb3JFYWNoKFsnaGVhZGVycycsICdhdXRoJywgJ3Byb3h5J10sIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goW1xuICAgICdiYXNlVVJMJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLCAnbWF4Q29udGVudExlbmd0aCcsXG4gICAgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLCAnaHR0cHNBZ2VudCcsICdjYW5jZWxUb2tlbicsXG4gICAgJ3NvY2tldFBhdGgnXG4gIF0sIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qc1xuLy8gbW9kdWxlIGlkID0gMzU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qc1xuLy8gbW9kdWxlIGlkID0gMzYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5lbmNvZGUgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuZXhwb3J0cy5kZWNvZGUgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2dlb2J1Zi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlbmNvZGU7XG5cbnZhciBrZXlzLCBrZXlzTnVtLCBrZXlzQXJyLCBkaW0sIGUsXG4gICAgbWF4UHJlY2lzaW9uID0gMWU2O1xuXG52YXIgZ2VvbWV0cnlUeXBlcyA9IHtcbiAgICAnUG9pbnQnOiAwLFxuICAgICdNdWx0aVBvaW50JzogMSxcbiAgICAnTGluZVN0cmluZyc6IDIsXG4gICAgJ011bHRpTGluZVN0cmluZyc6IDMsXG4gICAgJ1BvbHlnb24nOiA0LFxuICAgICdNdWx0aVBvbHlnb24nOiA1LFxuICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiA2XG59O1xuXG5mdW5jdGlvbiBlbmNvZGUob2JqLCBwYmYpIHtcbiAgICBrZXlzID0ge307XG4gICAga2V5c0FyciA9IFtdO1xuICAgIGtleXNOdW0gPSAwO1xuICAgIGRpbSA9IDA7XG4gICAgZSA9IDE7XG5cbiAgICBhbmFseXplKG9iaik7XG5cbiAgICBlID0gTWF0aC5taW4oZSwgbWF4UHJlY2lzaW9uKTtcbiAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5jZWlsKE1hdGgubG9nKGUpIC8gTWF0aC5MTjEwKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0Fyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU3RyaW5nRmllbGQoMSwga2V5c0FycltpXSk7XG4gICAgaWYgKGRpbSAhPT0gMikgcGJmLndyaXRlVmFyaW50RmllbGQoMiwgZGltKTtcbiAgICBpZiAocHJlY2lzaW9uICE9PSA2KSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCBwcmVjaXNpb24pO1xuXG4gICAgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSBwYmYud3JpdGVNZXNzYWdlKDQsIHdyaXRlRmVhdHVyZUNvbGxlY3Rpb24sIG9iaik7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlJykgcGJmLndyaXRlTWVzc2FnZSg1LCB3cml0ZUZlYXR1cmUsIG9iaik7XG4gICAgZWxzZSBwYmYud3JpdGVNZXNzYWdlKDYsIHdyaXRlR2VvbWV0cnksIG9iaik7XG5cbiAgICBrZXlzID0gbnVsbDtcblxuICAgIHJldHVybiBwYmYuZmluaXNoKCk7XG59XG5cbmZ1bmN0aW9uIGFuYWx5emUob2JqKSB7XG4gICAgdmFyIGksIGtleTtcblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSBhbmFseXplKG9iai5mZWF0dXJlc1tpXSk7XG5cbiAgICB9IGVsc2UgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZScpIHtcbiAgICAgICAgaWYgKG9iai5nZW9tZXRyeSAhPT0gbnVsbCkgYW5hbHl6ZShvYmouZ2VvbWV0cnkpO1xuICAgICAgICBmb3IgKGtleSBpbiBvYmoucHJvcGVydGllcykgc2F2ZUtleShrZXkpO1xuXG4gICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ1BvaW50JykgYW5hbHl6ZVBvaW50KG9iai5jb29yZGluYXRlcyk7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdNdWx0aVBvaW50JykgYW5hbHl6ZVBvaW50cyhvYmouY29vcmRpbmF0ZXMpO1xuICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmdlb21ldHJpZXMubGVuZ3RoOyBpKyspIGFuYWx5emUob2JqLmdlb21ldHJpZXNbaV0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBhbmFseXplUG9pbnRzKG9iai5jb29yZGluYXRlcyk7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdQb2x5Z29uJyB8fCBvYmoudHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGFuYWx5emVNdWx0aUxpbmUob2JqLmNvb3JkaW5hdGVzKTtcbiAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5jb29yZGluYXRlcy5sZW5ndGg7IGkrKykgYW5hbHl6ZU11bHRpTGluZShvYmouY29vcmRpbmF0ZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICBpZiAoIWlzU3BlY2lhbEtleShrZXksIG9iai50eXBlKSkgc2F2ZUtleShrZXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYW5hbHl6ZU11bHRpTGluZShjb29yZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgYW5hbHl6ZVBvaW50cyhjb29yZHNbaV0pO1xufVxuXG5mdW5jdGlvbiBhbmFseXplUG9pbnRzKGNvb3Jkcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSBhbmFseXplUG9pbnQoY29vcmRzW2ldKTtcbn1cblxuZnVuY3Rpb24gYW5hbHl6ZVBvaW50KHBvaW50KSB7XG4gICAgZGltID0gTWF0aC5tYXgoZGltLCBwb2ludC5sZW5ndGgpO1xuXG4gICAgLy8gZmluZCBtYXggcHJlY2lzaW9uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludC5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoTWF0aC5yb3VuZChwb2ludFtpXSAqIGUpIC8gZSAhPT0gcG9pbnRbaV0gJiYgZSA8IG1heFByZWNpc2lvbikgZSAqPSAxMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVLZXkoa2V5KSB7XG4gICAgaWYgKGtleXNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleXNBcnIucHVzaChrZXkpO1xuICAgICAgICBrZXlzW2tleV0gPSBrZXlzTnVtKys7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUZlYXR1cmVDb2xsZWN0aW9uKG9iaiwgcGJmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxLCB3cml0ZUZlYXR1cmUsIG9iai5mZWF0dXJlc1tpXSk7XG4gICAgfVxuICAgIHdyaXRlUHJvcHMob2JqLCBwYmYsIHRydWUpO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZlYXR1cmUoZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkgIT09IG51bGwpIHBiZi53cml0ZU1lc3NhZ2UoMSwgd3JpdGVHZW9tZXRyeSwgZmVhdHVyZS5nZW9tZXRyeSk7XG5cbiAgICBpZiAoZmVhdHVyZS5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZmVhdHVyZS5pZCA9PT0gJ251bWJlcicgJiYgZmVhdHVyZS5pZCAlIDEgPT09IDApIHBiZi53cml0ZVNWYXJpbnRGaWVsZCgxMiwgZmVhdHVyZS5pZCk7XG4gICAgICAgIGVsc2UgcGJmLndyaXRlU3RyaW5nRmllbGQoMTEsIGZlYXR1cmUuaWQpO1xuICAgIH1cblxuICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHdyaXRlUHJvcHMoZmVhdHVyZS5wcm9wZXJ0aWVzLCBwYmYpO1xuICAgIHdyaXRlUHJvcHMoZmVhdHVyZSwgcGJmLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVHZW9tZXRyeShnZW9tLCBwYmYpIHtcbiAgICBwYmYud3JpdGVWYXJpbnRGaWVsZCgxLCBnZW9tZXRyeVR5cGVzW2dlb20udHlwZV0pO1xuXG4gICAgdmFyIGNvb3JkcyA9IGdlb20uY29vcmRpbmF0ZXM7XG5cbiAgICBpZiAoZ2VvbS50eXBlID09PSAnUG9pbnQnKSB3cml0ZVBvaW50KGNvb3JkcywgcGJmKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvaW50Jykgd3JpdGVMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdMaW5lU3RyaW5nJykgd3JpdGVMaW5lKGNvb3JkcywgcGJmKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSB3cml0ZU11bHRpTGluZShjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnUG9seWdvbicpIHdyaXRlTXVsdGlMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB3cml0ZU11bHRpUG9seWdvbihjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb20uZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykgcGJmLndyaXRlTWVzc2FnZSg0LCB3cml0ZUdlb21ldHJ5LCBnZW9tLmdlb21ldHJpZXNbaV0pO1xuICAgIH1cblxuICAgIHdyaXRlUHJvcHMoZ2VvbSwgcGJmLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQcm9wcyhwcm9wcywgcGJmLCBpc0N1c3RvbSkge1xuICAgIHZhciBpbmRleGVzID0gW10sXG4gICAgICAgIHZhbHVlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChpc0N1c3RvbSAmJiBpc1NwZWNpYWxLZXkoa2V5LCBwcm9wcy50eXBlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxMywgd3JpdGVWYWx1ZSwgcHJvcHNba2V5XSk7XG4gICAgICAgIGluZGV4ZXMucHVzaChrZXlzW2tleV0pO1xuICAgICAgICBpbmRleGVzLnB1c2godmFsdWVJbmRleCsrKTtcbiAgICB9XG4gICAgcGJmLndyaXRlUGFja2VkVmFyaW50KGlzQ3VzdG9tID8gMTUgOiAxNCwgaW5kZXhlcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFsdWUodmFsdWUsIHBiZikge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIHZhbHVlKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHBiZi53cml0ZUJvb2xlYW5GaWVsZCg1LCB2YWx1ZSk7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDYsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHZhbHVlICUgMSAhPT0gMCkgcGJmLndyaXRlRG91YmxlRmllbGQoMiwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmICh2YWx1ZSA+PSAwKSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgcGJmLndyaXRlVmFyaW50RmllbGQoNCwgLXZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9pbnQocG9pbnQsIHBiZikge1xuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSBjb29yZHMucHVzaChNYXRoLnJvdW5kKHBvaW50W2ldICogZSkpO1xuICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVMaW5lKGxpbmUsIHBiZikge1xuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lKTtcbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTXVsdGlMaW5lKGxpbmVzLCBwYmYsIGNsb3NlZCkge1xuICAgIHZhciBsZW4gPSBsaW5lcy5sZW5ndGgsXG4gICAgICAgIGk7XG4gICAgaWYgKGxlbiAhPT0gMSkge1xuICAgICAgICB2YXIgbGVuZ3RocyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIGxlbmd0aHMucHVzaChsaW5lc1tpXS5sZW5ndGggLSAoY2xvc2VkID8gMSA6IDApKTtcbiAgICAgICAgcGJmLndyaXRlUGFja2VkVmFyaW50KDIsIGxlbmd0aHMpO1xuICAgICAgICAvLyBUT0RPIGZhc3RlciB3aXRoIGN1c3RvbSB3cml0ZU1lc3NhZ2U/XG4gICAgfVxuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmVzW2ldLCBjbG9zZWQpO1xuICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVNdWx0aVBvbHlnb24ocG9seWdvbnMsIHBiZikge1xuICAgIHZhciBsZW4gPSBwb2x5Z29ucy5sZW5ndGgsXG4gICAgICAgIGksIGo7XG4gICAgaWYgKGxlbiAhPT0gMSB8fCBwb2x5Z29uc1swXS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdmFyIGxlbmd0aHMgPSBbbGVuXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGhzLnB1c2gocG9seWdvbnNbaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgbGVuZ3Rocy5wdXNoKHBvbHlnb25zW2ldW2pdLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHBiZi53cml0ZVBhY2tlZFZhcmludCgyLCBsZW5ndGhzKTtcbiAgICB9XG5cbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgcG9wdWxhdGVMaW5lKGNvb3JkcywgcG9seWdvbnNbaV1bal0sIHRydWUpO1xuICAgIH1cbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmUsIGNsb3NlZCkge1xuICAgIHZhciBpLCBqLFxuICAgICAgICBsZW4gPSBsaW5lLmxlbmd0aCAtIChjbG9zZWQgPyAxIDogMCksXG4gICAgICAgIHN1bSA9IG5ldyBBcnJheShkaW0pO1xuICAgIGZvciAoaiA9IDA7IGogPCBkaW07IGorKykgc3VtW2pdID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpbTsgaisrKSB7XG4gICAgICAgICAgICB2YXIgbiA9IE1hdGgucm91bmQobGluZVtpXVtqXSAqIGUpIC0gc3VtW2pdO1xuICAgICAgICAgICAgY29vcmRzLnB1c2gobik7XG4gICAgICAgICAgICBzdW1bal0gKz0gbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTcGVjaWFsS2V5KGtleSwgdHlwZSkge1xuICAgIGlmIChrZXkgPT09ICd0eXBlJykgcmV0dXJuIHRydWU7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnZmVhdHVyZXMnKSByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdGZWF0dXJlJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnaWQnIHx8IGtleSA9PT0gJ3Byb3BlcnRpZXMnIHx8IGtleSA9PT0gJ2dlb21ldHJ5JykgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnZ2VvbWV0cmllcycpIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY29vcmRpbmF0ZXMnKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZ2VvYnVmL2VuY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMzYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBkZWNvZGU7XG5cbnZhciBrZXlzLCB2YWx1ZXMsIGxlbmd0aHMsIGRpbSwgZTtcblxudmFyIGdlb21ldHJ5VHlwZXMgPSBbXG4gICAgJ1BvaW50JywgJ011bHRpUG9pbnQnLCAnTGluZVN0cmluZycsICdNdWx0aUxpbmVTdHJpbmcnLFxuICAgICdQb2x5Z29uJywgJ011bHRpUG9seWdvbicsICdHZW9tZXRyeUNvbGxlY3Rpb24nXTtcblxuZnVuY3Rpb24gZGVjb2RlKHBiZikge1xuICAgIGRpbSA9IDI7XG4gICAgZSA9IE1hdGgucG93KDEwLCA2KTtcbiAgICBsZW5ndGhzID0gbnVsbDtcblxuICAgIGtleXMgPSBbXTtcbiAgICB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgb2JqID0gcGJmLnJlYWRGaWVsZHMocmVhZERhdGFGaWVsZCwge30pO1xuICAgIGtleXMgPSBudWxsO1xuXG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcmVhZERhdGFGaWVsZCh0YWcsIG9iaiwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkga2V5cy5wdXNoKHBiZi5yZWFkU3RyaW5nKCkpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgZGltID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGUgPSBNYXRoLnBvdygxMCwgcGJmLnJlYWRWYXJpbnQoKSk7XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDQpIHJlYWRGZWF0dXJlQ29sbGVjdGlvbihwYmYsIG9iaik7XG4gICAgZWxzZSBpZiAodGFnID09PSA1KSByZWFkRmVhdHVyZShwYmYsIG9iaik7XG4gICAgZWxzZSBpZiAodGFnID09PSA2KSByZWFkR2VvbWV0cnkocGJmLCBvYmopO1xufVxuXG5mdW5jdGlvbiByZWFkRmVhdHVyZUNvbGxlY3Rpb24ocGJmLCBvYmopIHtcbiAgICBvYmoudHlwZSA9ICdGZWF0dXJlQ29sbGVjdGlvbic7XG4gICAgb2JqLmZlYXR1cmVzID0gW107XG4gICAgcmV0dXJuIHBiZi5yZWFkTWVzc2FnZShyZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCwgb2JqKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmUocGJmLCBmZWF0dXJlKSB7XG4gICAgZmVhdHVyZS50eXBlID0gJ0ZlYXR1cmUnO1xuICAgIHZhciBmID0gcGJmLnJlYWRNZXNzYWdlKHJlYWRGZWF0dXJlRmllbGQsIGZlYXR1cmUpO1xuICAgIGlmICghZi5oYXNPd25Qcm9wZXJ0eSgnZ2VvbWV0cnknKSkgZi5nZW9tZXRyeSA9IG51bGw7XG4gICAgcmV0dXJuIGY7XG59XG5cbmZ1bmN0aW9uIHJlYWRHZW9tZXRyeShwYmYsIGdlb20pIHtcbiAgICByZXR1cm4gcGJmLnJlYWRNZXNzYWdlKHJlYWRHZW9tZXRyeUZpZWxkLCBnZW9tKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQodGFnLCBvYmosIHBiZikge1xuICAgIGlmICh0YWcgPT09IDEpIG9iai5mZWF0dXJlcy5wdXNoKHJlYWRGZWF0dXJlKHBiZiwge30pKTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDE1KSByZWFkUHJvcHMocGJmLCBvYmopO1xufVxuXG5mdW5jdGlvbiByZWFkRmVhdHVyZUZpZWxkKHRhZywgZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkgZmVhdHVyZS5nZW9tZXRyeSA9IHJlYWRHZW9tZXRyeShwYmYsIHt9KTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFN0cmluZygpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTIpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFNWYXJpbnQoKTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDE0KSBmZWF0dXJlLnByb3BlcnRpZXMgPSByZWFkUHJvcHMocGJmLCB7fSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZmVhdHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRHZW9tZXRyeUZpZWxkKHRhZywgZ2VvbSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkgZ2VvbS50eXBlID0gZ2VvbWV0cnlUeXBlc1twYmYucmVhZFZhcmludCgpXTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgbGVuZ3RocyA9IHBiZi5yZWFkUGFja2VkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAzKSByZWFkQ29vcmRzKGdlb20sIHBiZiwgZ2VvbS50eXBlKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDQpIHtcbiAgICAgICAgZ2VvbS5nZW9tZXRyaWVzID0gZ2VvbS5nZW9tZXRyaWVzIHx8IFtdO1xuICAgICAgICBnZW9tLmdlb21ldHJpZXMucHVzaChyZWFkR2VvbWV0cnkocGJmLCB7fSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZ2VvbSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRDb29yZHMoZ2VvbSwgcGJmLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkUG9pbnQocGJmKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTGluZShwYmYsIHRydWUpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRMaW5lKHBiZik7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTXVsdGlMaW5lKHBiZik7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ1BvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpTGluZShwYmYsIHRydWUpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpUG9seWdvbihwYmYpO1xufVxuXG5mdW5jdGlvbiByZWFkVmFsdWUocGJmKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICB2YWx1ZSA9IG51bGw7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICB2YXIgdmFsID0gcGJmLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzO1xuXG4gICAgICAgIGlmICh0YWcgPT09IDEpIHZhbHVlID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICAgICAgZWxzZSBpZiAodGFnID09PSAyKSB2YWx1ZSA9IHBiZi5yZWFkRG91YmxlKCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgdmFsdWUgPSBwYmYucmVhZFZhcmludCgpO1xuICAgICAgICBlbHNlIGlmICh0YWcgPT09IDQpIHZhbHVlID0gLXBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgdmFsdWUgPSBwYmYucmVhZEJvb2xlYW4oKTtcbiAgICAgICAgZWxzZSBpZiAodGFnID09PSA2KSB2YWx1ZSA9IEpTT04ucGFyc2UocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZFByb3BzKHBiZiwgcHJvcHMpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHByb3BzW2tleXNbcGJmLnJlYWRWYXJpbnQoKV1dID0gdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuICAgIHZhbHVlcyA9IFtdO1xuICAgIHJldHVybiBwcm9wcztcbn1cblxuZnVuY3Rpb24gcmVhZFBvaW50KHBiZikge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgY29vcmRzID0gW107XG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIGNvb3Jkcy5wdXNoKHBiZi5yZWFkU1ZhcmludCgpIC8gZSk7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW4sIGNsb3NlZCkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgY29vcmRzID0gW10sXG4gICAgICAgIHAsIGQ7XG5cbiAgICB2YXIgcHJldlAgPSBbXTtcbiAgICBmb3IgKGQgPSAwOyBkIDwgZGltOyBkKyspIHByZXZQW2RdID0gMDtcblxuICAgIHdoaWxlIChsZW4gPyBpIDwgbGVuIDogcGJmLnBvcyA8IGVuZCkge1xuICAgICAgICBwID0gW107XG4gICAgICAgIGZvciAoZCA9IDA7IGQgPCBkaW07IGQrKykge1xuICAgICAgICAgICAgcHJldlBbZF0gKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICBwW2RdID0gcHJldlBbZF0gLyBlO1xuICAgICAgICB9XG4gICAgICAgIGNvb3Jkcy5wdXNoKHApO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChjbG9zZWQpIGNvb3Jkcy5wdXNoKGNvb3Jkc1swXSk7XG5cbiAgICByZXR1cm4gY29vcmRzO1xufVxuXG5mdW5jdGlvbiByZWFkTGluZShwYmYpIHtcbiAgICByZXR1cm4gcmVhZExpbmVQYXJ0KHBiZiwgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MpO1xufVxuXG5mdW5jdGlvbiByZWFkTXVsdGlMaW5lKHBiZiwgY2xvc2VkKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuICAgIGlmICghbGVuZ3RocykgcmV0dXJuIFtyZWFkTGluZVBhcnQocGJmLCBlbmQsIG51bGwsIGNsb3NlZCldO1xuXG4gICAgdmFyIGNvb3JkcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3Rocy5sZW5ndGg7IGkrKykgY29vcmRzLnB1c2gocmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW5ndGhzW2ldLCBjbG9zZWQpKTtcbiAgICBsZW5ndGhzID0gbnVsbDtcbiAgICByZXR1cm4gY29vcmRzO1xufVxuXG5mdW5jdGlvbiByZWFkTXVsdGlQb2x5Z29uKHBiZikge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcbiAgICBpZiAoIWxlbmd0aHMpIHJldHVybiBbW3JlYWRMaW5lUGFydChwYmYsIGVuZCwgbnVsbCwgdHJ1ZSldXTtcblxuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICB2YXIgaiA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhzWzBdOyBpKyspIHtcbiAgICAgICAgdmFyIHJpbmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuZ3Roc1tqXTsgaysrKSByaW5ncy5wdXNoKHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuZ3Roc1tqICsgMSArIGtdLCB0cnVlKSk7XG4gICAgICAgIGogKz0gbGVuZ3Roc1tqXSArIDE7XG4gICAgICAgIGNvb3Jkcy5wdXNoKHJpbmdzKTtcbiAgICB9XG4gICAgbGVuZ3RocyA9IG51bGw7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9nZW9idWYvZGVjb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBiZjtcblxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0Jyk7XG5cbmZ1bmN0aW9uIFBiZihidWYpIHtcbiAgICB0aGlzLmJ1ZiA9IEFycmF5QnVmZmVyLmlzVmlldyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcoYnVmKSA/IGJ1ZiA6IG5ldyBVaW50OEFycmF5KGJ1ZiB8fCAwKTtcbiAgICB0aGlzLnBvcyA9IDA7XG4gICAgdGhpcy50eXBlID0gMDtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuYnVmLmxlbmd0aDtcbn1cblxuUGJmLlZhcmludCAgPSAwOyAvLyB2YXJpbnQ6IGludDMyLCBpbnQ2NCwgdWludDMyLCB1aW50NjQsIHNpbnQzMiwgc2ludDY0LCBib29sLCBlbnVtXG5QYmYuRml4ZWQ2NCA9IDE7IC8vIDY0LWJpdDogZG91YmxlLCBmaXhlZDY0LCBzZml4ZWQ2NFxuUGJmLkJ5dGVzICAgPSAyOyAvLyBsZW5ndGgtZGVsaW1pdGVkOiBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuUGJmLkZpeGVkMzIgPSA1OyAvLyAzMi1iaXQ6IGZsb2F0LCBmaXhlZDMyLCBzZml4ZWQzMlxuXG52YXIgU0hJRlRfTEVGVF8zMiA9ICgxIDw8IDE2KSAqICgxIDw8IDE2KSxcbiAgICBTSElGVF9SSUdIVF8zMiA9IDEgLyBTSElGVF9MRUZUXzMyO1xuXG5QYmYucHJvdG90eXBlID0ge1xuXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuYnVmID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLy8gPT09IFJFQURJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJlYWRGaWVsZHM6IGZ1bmN0aW9uKHJlYWRGaWVsZCwgcmVzdWx0LCBlbmQpIHtcbiAgICAgICAgZW5kID0gZW5kIHx8IHRoaXMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMucmVhZFZhcmludCgpLFxuICAgICAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzLFxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG5cbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgICAgIHJlYWRGaWVsZCh0YWcsIHJlc3VsdCwgdGhpcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA9PT0gc3RhcnRQb3MpIHRoaXMuc2tpcCh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIHJlYWRNZXNzYWdlOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmllbGRzKHJlYWRGaWVsZCwgcmVzdWx0LCB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zKTtcbiAgICB9LFxuXG4gICAgcmVhZEZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkU0ZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZEludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIC8vIDY0LWJpdCBpbnQgaGFuZGxpbmcgaXMgYmFzZWQgb24gZ2l0aHViLmNvbS9kcHcvbm9kZS1idWZmZXItbW9yZS1pbnRzIChNSVQtbGljZW5zZWQpXG5cbiAgICByZWFkRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyArIDQpICogU0hJRlRfTEVGVF8zMjtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDY0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKSArIHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRGbG9hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSBpZWVlNzU0LnJlYWQodGhpcy5idWYsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWREb3VibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50OiBmdW5jdGlvbihpc1NpZ25lZCkge1xuICAgICAgICB2YXIgYnVmID0gdGhpcy5idWYsXG4gICAgICAgICAgICB2YWwsIGI7XG5cbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsICA9ICBiICYgMHg3ZjsgICAgICAgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgNzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMTQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMjE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvc107ICAgdmFsIHw9IChiICYgMHgwZikgPDwgMjg7XG5cbiAgICAgICAgcmV0dXJuIHJlYWRWYXJpbnRSZW1haW5kZXIodmFsLCBpc1NpZ25lZCwgdGhpcyk7XG4gICAgfSxcblxuICAgIHJlYWRWYXJpbnQ2NDogZnVuY3Rpb24oKSB7IC8vIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdjIuMC4xXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRWYXJpbnQodHJ1ZSk7XG4gICAgfSxcblxuICAgIHJlYWRTVmFyaW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG51bSA9IHRoaXMucmVhZFZhcmludCgpO1xuICAgICAgICByZXR1cm4gbnVtICUgMiA9PT0gMSA/IChudW0gKyAxKSAvIC0yIDogbnVtIC8gMjsgLy8gemlnemFnIGVuY29kaW5nXG4gICAgfSxcblxuICAgIHJlYWRCb29sZWFuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpO1xuICAgIH0sXG5cbiAgICByZWFkU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBzdHIgPSByZWFkVXRmOCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIGVuZCk7XG4gICAgICAgIHRoaXMucG9zID0gZW5kO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICByZWFkQnl0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyxcbiAgICAgICAgICAgIGJ1ZmZlciA9IHRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLCBlbmQpO1xuICAgICAgICB0aGlzLnBvcyA9IGVuZDtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9LFxuXG4gICAgLy8gdmVyYm9zZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczsgZG9lc24ndCBhZmZlY3QgZ3ppcHBlZCBzaXplXG5cbiAgICByZWFkUGFja2VkVmFyaW50OiBmdW5jdGlvbihhcnIsIGlzU2lnbmVkKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNWYXJpbnQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkQm9vbGVhbjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGbG9hdDogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZERvdWJsZTogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuXG4gICAgc2tpcDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciB0eXBlID0gdmFsICYgMHg3O1xuICAgICAgICBpZiAodHlwZSA9PT0gUGJmLlZhcmludCkgd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdID4gMHg3Zikge31cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkJ5dGVzKSB0aGlzLnBvcyA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3M7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5GaXhlZDMyKSB0aGlzLnBvcyArPSA0O1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQ2NCkgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgdHlwZTogJyArIHR5cGUpO1xuICAgIH0sXG5cbiAgICAvLyA9PT0gV1JJVElORyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgd3JpdGVUYWc6IGZ1bmN0aW9uKHRhZywgdHlwZSkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KCh0YWcgPDwgMykgfCB0eXBlKTtcbiAgICB9LFxuXG4gICAgcmVhbGxvYzogZnVuY3Rpb24obWluKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAxNjtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdGhpcy5wb3MgKyBtaW4pIGxlbmd0aCAqPSAyO1xuXG4gICAgICAgIGlmIChsZW5ndGggIT09IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5idWYpO1xuICAgICAgICAgICAgdGhpcy5idWYgPSBidWY7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheSgwLCB0aGlzLmxlbmd0aCk7XG4gICAgfSxcblxuICAgIHdyaXRlRml4ZWQzMjogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfSxcblxuICAgIHdyaXRlU0ZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkNjQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoOCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCAmIC0xLCB0aGlzLnBvcyk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIE1hdGguZmxvb3IodmFsICogU0hJRlRfUklHSFRfMzIpLCB0aGlzLnBvcyArIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YWwgPSArdmFsIHx8IDA7XG5cbiAgICAgICAgaWYgKHZhbCA+IDB4ZmZmZmZmZiB8fCB2YWwgPCAwKSB7XG4gICAgICAgICAgICB3cml0ZUJpZ1ZhcmludCh2YWwsIHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAgICAgICAgIHZhbCAmIDB4N2YgIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICgodmFsID4+Pj0gNykgJiAweDdmKSB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAodmFsID4+PiA3KSAmIDB4N2Y7XG4gICAgfSxcblxuICAgIHdyaXRlU1ZhcmludDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsIDwgMCA/IC12YWwgKiAyIC0gMSA6IHZhbCAqIDIpO1xuICAgIH0sXG5cbiAgICB3cml0ZUJvb2xlYW46IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odmFsKSk7XG4gICAgfSxcblxuICAgIHdyaXRlU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgc3RyID0gU3RyaW5nKHN0cik7XG4gICAgICAgIHRoaXMucmVhbGxvYyhzdHIubGVuZ3RoICogNCk7XG5cbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IHN0cmluZyBsZW5ndGhcblxuICAgICAgICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgLy8gd3JpdGUgdGhlIHN0cmluZyBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cbiAgICAgICAgdGhpcy5wb3MgPSB3cml0ZVV0ZjgodGhpcy5idWYsIHN0ciwgdGhpcy5wb3MpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZUZsb2F0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfSxcblxuICAgIHdyaXRlRG91YmxlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCA1MiwgOCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlQnl0ZXM6IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuICAgICAgICB0aGlzLnJlYWxsb2MobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgdGhpcy5idWZbdGhpcy5wb3MrK10gPSBidWZmZXJbaV07XG4gICAgfSxcblxuICAgIHdyaXRlUmF3TWVzc2FnZTogZnVuY3Rpb24oZm4sIG9iaikge1xuICAgICAgICB0aGlzLnBvcysrOyAvLyByZXNlcnZlIDEgYnl0ZSBmb3Igc2hvcnQgbWVzc2FnZSBsZW5ndGhcblxuICAgICAgICAvLyB3cml0ZSB0aGUgbWVzc2FnZSBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIGZuKG9iaiwgdGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLnBvcyAtIHN0YXJ0UG9zO1xuXG4gICAgICAgIGlmIChsZW4gPj0gMHg4MCkgbWFrZVJvb21Gb3JFeHRyYUxlbmd0aChzdGFydFBvcywgbGVuLCB0aGlzKTtcblxuICAgICAgICAvLyBmaW5hbGx5LCB3cml0ZSB0aGUgbWVzc2FnZSBsZW5ndGggaW4gdGhlIHJlc2VydmVkIHBsYWNlIGFuZCByZXN0b3JlIHRoZSBwb3NpdGlvblxuICAgICAgICB0aGlzLnBvcyA9IHN0YXJ0UG9zIC0gMTtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgfSxcblxuICAgIHdyaXRlTWVzc2FnZTogZnVuY3Rpb24odGFnLCBmbiwgb2JqKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlUmF3TWVzc2FnZShmbiwgb2JqKTtcbiAgICB9LFxuXG4gICAgd3JpdGVQYWNrZWRWYXJpbnQ6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRWYXJpbnQsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZFNWYXJpbnQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNWYXJpbnQsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkQm9vbGVhbjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkQm9vbGVhbiwgYXJyKTsgIH0sXG4gICAgd3JpdGVQYWNrZWRGbG9hdDogICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGbG9hdCwgYXJyKTsgICAgfSxcbiAgICB3cml0ZVBhY2tlZERvdWJsZTogICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZERvdWJsZSwgYXJyKTsgICB9LFxuICAgIHdyaXRlUGFja2VkRml4ZWQzMjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRml4ZWQzMiwgYXJyKTsgIH0sXG4gICAgd3JpdGVQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTRml4ZWQzMiwgYXJyKTsgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkNjQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkNjQsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkNjQsIGFycik7IH0sXG5cbiAgICB3cml0ZUJ5dGVzRmllbGQ6IGZ1bmN0aW9uKHRhZywgYnVmZmVyKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlQnl0ZXMoYnVmZmVyKTtcbiAgICB9LFxuICAgIHdyaXRlRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRml4ZWQzMih2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlU0ZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuICAgICAgICB0aGlzLndyaXRlRml4ZWQ2NCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuICAgICAgICB0aGlzLndyaXRlU0ZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcbiAgICAgICAgdGhpcy53cml0ZVNWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU3RyaW5nRmllbGQ6IGZ1bmN0aW9uKHRhZywgc3RyKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlU3RyaW5nKHN0cik7XG4gICAgfSxcbiAgICB3cml0ZUZsb2F0RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQzMik7XG4gICAgICAgIHRoaXMud3JpdGVGbG9hdCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVEb3VibGVGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZURvdWJsZSh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVCb29sZWFuRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnRGaWVsZCh0YWcsIEJvb2xlYW4odmFsKSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gcmVhZFZhcmludFJlbWFpbmRlcihsLCBzLCBwKSB7XG4gICAgdmFyIGJ1ZiA9IHAuYnVmLFxuICAgICAgICBoLCBiO1xuXG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCAgPSAoYiAmIDB4NzApID4+IDQ7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxMDsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDE3OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMjQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDAxKSA8PCAzMTsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRQYWNrZWRFbmQocGJmKSB7XG4gICAgcmV0dXJuIHBiZi50eXBlID09PSBQYmYuQnl0ZXMgP1xuICAgICAgICBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyA6IHBiZi5wb3MgKyAxO1xufVxuXG5mdW5jdGlvbiB0b051bShsb3csIGhpZ2gsIGlzU2lnbmVkKSB7XG4gICAgaWYgKGlzU2lnbmVkKSB7XG4gICAgICAgIHJldHVybiBoaWdoICogMHgxMDAwMDAwMDAgKyAobG93ID4+PiAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKChoaWdoID4+PiAwKSAqIDB4MTAwMDAwMDAwKSArIChsb3cgPj4+IDApO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludCh2YWwsIHBiZikge1xuICAgIHZhciBsb3csIGhpZ2g7XG5cbiAgICBpZiAodmFsID49IDApIHtcbiAgICAgICAgbG93ICA9ICh2YWwgJSAweDEwMDAwMDAwMCkgfCAwO1xuICAgICAgICBoaWdoID0gKHZhbCAvIDB4MTAwMDAwMDAwKSB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG93ICA9IH4oLXZhbCAlIDB4MTAwMDAwMDAwKTtcbiAgICAgICAgaGlnaCA9IH4oLXZhbCAvIDB4MTAwMDAwMDAwKTtcblxuICAgICAgICBpZiAobG93IF4gMHhmZmZmZmZmZikge1xuICAgICAgICAgICAgbG93ID0gKGxvdyArIDEpIHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvdyA9IDA7XG4gICAgICAgICAgICBoaWdoID0gKGhpZ2ggKyAxKSB8IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsID49IDB4MTAwMDAwMDAwMDAwMDAwMDAgfHwgdmFsIDwgLTB4MTAwMDAwMDAwMDAwMDAwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHaXZlbiB2YXJpbnQgZG9lc25cXCd0IGZpdCBpbnRvIDEwIGJ5dGVzJyk7XG4gICAgfVxuXG4gICAgcGJmLnJlYWxsb2MoMTApO1xuXG4gICAgd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpO1xuICAgIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludExvdyhsb3csIGhpZ2gsIHBiZikge1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvc10gICA9IGxvdyAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpIHtcbiAgICB2YXIgbHNiID0gKGhpZ2ggJiAweDA3KSA8PCA0O1xuXG4gICAgcGJmLmJ1ZltwYmYucG9zKytdIHw9IGxzYiAgICAgICAgIHwgKChoaWdoID4+Pj0gMykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgcGJmKSB7XG4gICAgdmFyIGV4dHJhTGVuID1cbiAgICAgICAgbGVuIDw9IDB4M2ZmZiA/IDEgOlxuICAgICAgICBsZW4gPD0gMHgxZmZmZmYgPyAyIDpcbiAgICAgICAgbGVuIDw9IDB4ZmZmZmZmZiA/IDMgOiBNYXRoLmZsb29yKE1hdGgubG9nKGxlbikgLyAoTWF0aC5MTjIgKiA3KSk7XG5cbiAgICAvLyBpZiAxIGJ5dGUgaXNuJ3QgZW5vdWdoIGZvciBlbmNvZGluZyBtZXNzYWdlIGxlbmd0aCwgc2hpZnQgdGhlIGRhdGEgdG8gdGhlIHJpZ2h0XG4gICAgcGJmLnJlYWxsb2MoZXh0cmFMZW4pO1xuICAgIGZvciAodmFyIGkgPSBwYmYucG9zIC0gMTsgaSA+PSBzdGFydFBvczsgaS0tKSBwYmYuYnVmW2kgKyBleHRyYUxlbl0gPSBwYmYuYnVmW2ldO1xufVxuXG5mdW5jdGlvbiB3cml0ZVBhY2tlZFZhcmludChhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVWYXJpbnQoYXJyW2ldKTsgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNWYXJpbnQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTVmFyaW50KGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZsb2F0KGFyciwgcGJmKSAgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGbG9hdChhcnJbaV0pOyAgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZERvdWJsZShhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVEb3VibGUoYXJyW2ldKTsgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEJvb2xlYW4oYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVCb29sZWFuKGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkMzIoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDMyKGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDMyKGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQzMihhcnJbaV0pOyB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkNjQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDY0KGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDY0KGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQ2NChhcnJbaV0pOyB9XG5cbi8vIEJ1ZmZlciBjb2RlIGJlbG93IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIsIE1JVC1saWNlbnNlZFxuXG5mdW5jdGlvbiByZWFkVUludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gKiAweDEwMDAwMDApO1xufVxuXG5mdW5jdGlvbiB3cml0ZUludDMyKGJ1ZiwgdmFsLCBwb3MpIHtcbiAgICBidWZbcG9zXSA9IHZhbDtcbiAgICBidWZbcG9zICsgMV0gPSAodmFsID4+PiA4KTtcbiAgICBidWZbcG9zICsgMl0gPSAodmFsID4+PiAxNik7XG4gICAgYnVmW3BvcyArIDNdID0gKHZhbCA+Pj4gMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkSW50MzIoYnVmLCBwb3MpIHtcbiAgICByZXR1cm4gKChidWZbcG9zXSkgfFxuICAgICAgICAoYnVmW3BvcyArIDFdIDw8IDgpIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAyXSA8PCAxNikpICtcbiAgICAgICAgKGJ1Zltwb3MgKyAzXSA8PCAyNCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVdGY4KGJ1ZiwgcG9zLCBlbmQpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGkgPSBwb3M7XG5cbiAgICB3aGlsZSAoaSA8IGVuZCkge1xuICAgICAgICB2YXIgYjAgPSBidWZbaV07XG4gICAgICAgIHZhciBjID0gbnVsbDsgLy8gY29kZXBvaW50XG4gICAgICAgIHZhciBieXRlc1BlclNlcXVlbmNlID1cbiAgICAgICAgICAgIGIwID4gMHhFRiA/IDQgOlxuICAgICAgICAgICAgYjAgPiAweERGID8gMyA6XG4gICAgICAgICAgICBiMCA+IDB4QkYgPyAyIDogMTtcblxuICAgICAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPiBlbmQpIGJyZWFrO1xuXG4gICAgICAgIHZhciBiMSwgYjIsIGIzO1xuXG4gICAgICAgIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoYjAgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IGIwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDIpIHtcbiAgICAgICAgICAgIGIxID0gYnVmW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICgoYjEgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSAoYjAgJiAweDFGKSA8PCAweDYgfCAoYjEgJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAzKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweEMgfCAoYjEgJiAweDNGKSA8PCAweDYgfCAoYjIgJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGRiB8fCAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERGRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSA0KSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG4gICAgICAgICAgICBiMyA9IGJ1ZltpICsgM107XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODAgJiYgKGIzICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweDEyIHwgKGIxICYgMHgzRikgPDwgMHhDIHwgKGIyICYgMHgzRikgPDwgMHg2IHwgKGIzICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHhGRkZGIHx8IGMgPj0gMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGMgPSAweEZGRkQ7XG4gICAgICAgICAgICBieXRlc1BlclNlcXVlbmNlID0gMTtcblxuICAgICAgICB9IGVsc2UgaWYgKGMgPiAweEZGRkYpIHtcbiAgICAgICAgICAgIGMgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuICAgICAgICAgICAgYyA9IDB4REMwMCB8IGMgJiAweDNGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gd3JpdGVVdGY4KGJ1Ziwgc3RyLCBwb3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYywgbGVhZDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7IC8vIGNvZGUgcG9pbnRcblxuICAgICAgICBpZiAoYyA+IDB4RDdGRiAmJiBjIDwgMHhFMDAwKSB7XG4gICAgICAgICAgICBpZiAobGVhZCkge1xuICAgICAgICAgICAgICAgIGlmIChjIDwgMHhEQzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjID0gbGVhZCAtIDB4RDgwMCA8PCAxMCB8IGMgLSAweERDMDAgfCAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBsZWFkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjID4gMHhEQkZGIHx8IChpICsgMSA9PT0gc3RyLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZWFkID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGVhZCkge1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgbGVhZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4NiB8IDB4QzA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgfCAweEUwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4MTIgfCAweEYwO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2ICYgMHgzRiB8IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZbcG9zKytdID0gYyAmIDB4M0YgfCAweDgwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGJmL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1ZXN0KHt1cmwsIHJlc3BvbnNlVHlwZSA9ICdqc29uJ30pIHtcbiAgY29uc3QgZmV0Y2hEYXRhID0gKCkgPT4ge1xuICAgIHJldHVybiBheGlvcyh7XG4gICAgICB1cmwsXG4gICAgICByZXNwb25zZVR5cGUsXG4gICAgfSkudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZldGNoRGF0YSgpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9uZXQvcmVxdWVzdC5qcyIsInZhciB0ZW1wbGF0ZVJlID0gL1xceyAqKFtcXHdfLV0rKSAqXFx9L2c7XG5cbi8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXG4vLyBTaW1wbGUgdGVtcGxhdGluZyBmYWNpbGl0eSwgYWNjZXB0cyBhIHRlbXBsYXRlIHN0cmluZyBvZiB0aGUgZm9ybSBgJ0hlbGxvIHthfSwge2J9J2Bcbi8vIGFuZCBhIGRhdGEgb2JqZWN0IGxpa2UgYHthOiAnZm9vJywgYjogJ2Jhcid9YCwgcmV0dXJucyBldmFsdWF0ZWQgc3RyaW5nXG4vLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3Jcbi8vIGRhdGEgdmFsdWVzIOKAlCB0aGV5IHdpbGwgYmUgZXZhbHVhdGVkIHBhc3NpbmcgYGRhdGFgIGFzIGFuIGFyZ3VtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVtcGxhdGUoc3RyLCBkYXRhKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSh0ZW1wbGF0ZVJlLCBmdW5jdGlvbiAoc3RyLCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XG5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyaW5nL3RlbXBsYXRlLmpzIiwidmFyIHRpbWVMYWJlbFByZWZpeCA9ICfilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqjilqggJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VGltZUxhYmVsKGxhYmVsKSB7XG4gIHJldHVybiBgJHt0aW1lTGFiZWxQcmVmaXh9ICR7bGFiZWx9YDtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29uc29sZS9nZXRUaW1lTGFiZWwuanMiLCJpbXBvcnQgaXNPYmplY3QgZnJvbSAnLi4vdmFsaWRhdGUvaXNvYmplY3QnXG5cbnZhciBNQVhfREVQVEggPSAxMDA7XG5cbmZ1bmN0aW9uIGV4cGFuZGVkTG9nKGl0ZW0sIGRlcHRoKXtcbiAgZGVwdGggPSBkZXB0aCB8fCAzMDtcblxuICBpZiAoZGVwdGggPiBNQVhfREVQVEggKSB7XG4gICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBpdGVtKSB7XG4gICAgICBjb25zb2xlLmxvZyhwcm9wLCBpdGVtW3Byb3BdKTtcbiAgICAgIGNvbnNvbGUuZ3JvdXAocHJvcCArICcgOiAnICsodHlwZW9mIGl0ZW1bcHJvcF0pKTtcbiAgICAgIGV4cGFuZGVkTG9nKGl0ZW1bcHJvcF0sIGRlcHRoICsgMSk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShvYmplY3QsIHNwYWNlKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QsIG51bGwsIHNwYWNlKVxufVxuXG5leHBvcnQge1xuICBleHBhbmRlZExvZyxcbiAgc3RyaW5naWZ5LFxufSA7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnNvbGUvZXhwYW5kZWRMb2cuanMiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9pc29iamVjdC9ibG9iL21hc3Rlci9pbmRleC5qc1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiBBcnJheS5pc0FycmF5KHZhbCkgPT09IGZhbHNlO1xufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmFsaWRhdGUvaXNvYmplY3QuanMiLCJtb2R1bGUuZXhwb3J0cy5WZWN0b3JUaWxlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZS5qcycpO1xubW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZUZlYXR1cmUgPSByZXF1aXJlKCcuL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xubW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZUxheWVyID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWxheWVyLmpzJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC92ZWN0b3ItdGlsZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vdmVjdG9ydGlsZWxheWVyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZTtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZShwYmYsIGVuZCkge1xuICAgIHRoaXMubGF5ZXJzID0gcGJmLnJlYWRGaWVsZHMocmVhZFRpbGUsIHt9LCBlbmQpO1xufVxuXG5mdW5jdGlvbiByZWFkVGlsZSh0YWcsIGxheWVycywgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMykge1xuICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgVmVjdG9yVGlsZUxheWVyKHBiZiwgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MpO1xuICAgICAgICBpZiAobGF5ZXIubGVuZ3RoKSBsYXllcnNbbGF5ZXIubmFtZV0gPSBsYXllcjtcbiAgICB9XG59XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmVjdG9yVGlsZUZlYXR1cmUgPSByZXF1aXJlKCcuL3ZlY3RvcnRpbGVmZWF0dXJlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUxheWVyO1xuXG5mdW5jdGlvbiBWZWN0b3JUaWxlTGF5ZXIocGJmLCBlbmQpIHtcbiAgICAvLyBQdWJsaWNcbiAgICB0aGlzLnZlcnNpb24gPSAxO1xuICAgIHRoaXMubmFtZSA9IG51bGw7XG4gICAgdGhpcy5leHRlbnQgPSA0MDk2O1xuICAgIHRoaXMubGVuZ3RoID0gMDtcblxuICAgIC8vIFByaXZhdGVcbiAgICB0aGlzLl9wYmYgPSBwYmY7XG4gICAgdGhpcy5fa2V5cyA9IFtdO1xuICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX2ZlYXR1cmVzID0gW107XG5cbiAgICBwYmYucmVhZEZpZWxkcyhyZWFkTGF5ZXIsIHRoaXMsIGVuZCk7XG5cbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuX2ZlYXR1cmVzLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gcmVhZExheWVyKHRhZywgbGF5ZXIsIHBiZikge1xuICAgIGlmICh0YWcgPT09IDE1KSBsYXllci52ZXJzaW9uID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDEpIGxheWVyLm5hbWUgPSBwYmYucmVhZFN0cmluZygpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgbGF5ZXIuZXh0ZW50ID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDIpIGxheWVyLl9mZWF0dXJlcy5wdXNoKHBiZi5wb3MpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgbGF5ZXIuX2tleXMucHVzaChwYmYucmVhZFN0cmluZygpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDQpIGxheWVyLl92YWx1ZXMucHVzaChyZWFkVmFsdWVNZXNzYWdlKHBiZikpO1xufVxuXG5mdW5jdGlvbiByZWFkVmFsdWVNZXNzYWdlKHBiZikge1xuICAgIHZhciB2YWx1ZSA9IG51bGwsXG4gICAgICAgIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgdmFyIHRhZyA9IHBiZi5yZWFkVmFyaW50KCkgPj4gMztcblxuICAgICAgICB2YWx1ZSA9IHRhZyA9PT0gMSA/IHBiZi5yZWFkU3RyaW5nKCkgOlxuICAgICAgICAgICAgdGFnID09PSAyID8gcGJmLnJlYWRGbG9hdCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMyA/IHBiZi5yZWFkRG91YmxlKCkgOlxuICAgICAgICAgICAgdGFnID09PSA0ID8gcGJmLnJlYWRWYXJpbnQ2NCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNSA/IHBiZi5yZWFkVmFyaW50KCkgOlxuICAgICAgICAgICAgdGFnID09PSA2ID8gcGJmLnJlYWRTVmFyaW50KCkgOlxuICAgICAgICAgICAgdGFnID09PSA3ID8gcGJmLnJlYWRCb29sZWFuKCkgOiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gcmV0dXJuIGZlYXR1cmUgYGlgIGZyb20gdGhpcyBsYXllciBhcyBhIGBWZWN0b3JUaWxlRmVhdHVyZWBcblZlY3RvclRpbGVMYXllci5wcm90b3R5cGUuZmVhdHVyZSA9IGZ1bmN0aW9uKGkpIHtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSB0aGlzLl9mZWF0dXJlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignZmVhdHVyZSBpbmRleCBvdXQgb2YgYm91bmRzJyk7XG5cbiAgICB0aGlzLl9wYmYucG9zID0gdGhpcy5fZmVhdHVyZXNbaV07XG5cbiAgICB2YXIgZW5kID0gdGhpcy5fcGJmLnJlYWRWYXJpbnQoKSArIHRoaXMuX3BiZi5wb3M7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3JUaWxlRmVhdHVyZSh0aGlzLl9wYmYsIGVuZCwgdGhpcy5leHRlbnQsIHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVsYXllci5qc1xuLy8gbW9kdWxlIGlkID0gMzczXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFBvaW50ID0gcmVxdWlyZSgnQG1hcGJveC9wb2ludC1nZW9tZXRyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVGZWF0dXJlO1xuXG5mdW5jdGlvbiBWZWN0b3JUaWxlRmVhdHVyZShwYmYsIGVuZCwgZXh0ZW50LCBrZXlzLCB2YWx1ZXMpIHtcbiAgICAvLyBQdWJsaWNcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcbiAgICB0aGlzLmV4dGVudCA9IGV4dGVudDtcbiAgICB0aGlzLnR5cGUgPSAwO1xuXG4gICAgLy8gUHJpdmF0ZVxuICAgIHRoaXMuX3BiZiA9IHBiZjtcbiAgICB0aGlzLl9nZW9tZXRyeSA9IC0xO1xuICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcblxuICAgIHBiZi5yZWFkRmllbGRzKHJlYWRGZWF0dXJlLCB0aGlzLCBlbmQpO1xufVxuXG5mdW5jdGlvbiByZWFkRmVhdHVyZSh0YWcsIGZlYXR1cmUsIHBiZikge1xuICAgIGlmICh0YWcgPT0gMSkgZmVhdHVyZS5pZCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09IDIpIHJlYWRUYWcocGJmLCBmZWF0dXJlKTtcbiAgICBlbHNlIGlmICh0YWcgPT0gMykgZmVhdHVyZS50eXBlID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT0gNCkgZmVhdHVyZS5fZ2VvbWV0cnkgPSBwYmYucG9zO1xufVxuXG5mdW5jdGlvbiByZWFkVGFnKHBiZiwgZmVhdHVyZSkge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciBrZXkgPSBmZWF0dXJlLl9rZXlzW3BiZi5yZWFkVmFyaW50KCldLFxuICAgICAgICAgICAgdmFsdWUgPSBmZWF0dXJlLl92YWx1ZXNbcGJmLnJlYWRWYXJpbnQoKV07XG4gICAgICAgIGZlYXR1cmUucHJvcGVydGllc1trZXldID0gdmFsdWU7XG4gICAgfVxufVxuXG5WZWN0b3JUaWxlRmVhdHVyZS50eXBlcyA9IFsnVW5rbm93bicsICdQb2ludCcsICdMaW5lU3RyaW5nJywgJ1BvbHlnb24nXTtcblxuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLmxvYWRHZW9tZXRyeSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG4gICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICBjbWQgPSAxLFxuICAgICAgICBsZW5ndGggPSAwLFxuICAgICAgICB4ID0gMCxcbiAgICAgICAgeSA9IDAsXG4gICAgICAgIGxpbmVzID0gW10sXG4gICAgICAgIGxpbmU7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHZhciBjbWRMZW4gPSBwYmYucmVhZFZhcmludCgpO1xuICAgICAgICAgICAgY21kID0gY21kTGVuICYgMHg3O1xuICAgICAgICAgICAgbGVuZ3RoID0gY21kTGVuID4+IDM7XG4gICAgICAgIH1cblxuICAgICAgICBsZW5ndGgtLTtcblxuICAgICAgICBpZiAoY21kID09PSAxIHx8IGNtZCA9PT0gMikge1xuICAgICAgICAgICAgeCArPSBwYmYucmVhZFNWYXJpbnQoKTtcbiAgICAgICAgICAgIHkgKz0gcGJmLnJlYWRTVmFyaW50KCk7XG5cbiAgICAgICAgICAgIGlmIChjbWQgPT09IDEpIHsgLy8gbW92ZVRvXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgbGluZSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lLnB1c2gobmV3IFBvaW50KHgsIHkpKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gNykge1xuXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcG5pay12ZWN0b3ItdGlsZS9pc3N1ZXMvOTBcbiAgICAgICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgbGluZS5wdXNoKGxpbmVbMF0uY2xvbmUoKSk7IC8vIGNsb3NlUG9seWdvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29tbWFuZCAnICsgY21kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuXG4gICAgcmV0dXJuIGxpbmVzO1xufTtcblxuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLmJib3ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGJmID0gdGhpcy5fcGJmO1xuICAgIHBiZi5wb3MgPSB0aGlzLl9nZW9tZXRyeTtcblxuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgY21kID0gMSxcbiAgICAgICAgbGVuZ3RoID0gMCxcbiAgICAgICAgeCA9IDAsXG4gICAgICAgIHkgPSAwLFxuICAgICAgICB4MSA9IEluZmluaXR5LFxuICAgICAgICB4MiA9IC1JbmZpbml0eSxcbiAgICAgICAgeTEgPSBJbmZpbml0eSxcbiAgICAgICAgeTIgPSAtSW5maW5pdHk7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHZhciBjbWRMZW4gPSBwYmYucmVhZFZhcmludCgpO1xuICAgICAgICAgICAgY21kID0gY21kTGVuICYgMHg3O1xuICAgICAgICAgICAgbGVuZ3RoID0gY21kTGVuID4+IDM7XG4gICAgICAgIH1cblxuICAgICAgICBsZW5ndGgtLTtcblxuICAgICAgICBpZiAoY21kID09PSAxIHx8IGNtZCA9PT0gMikge1xuICAgICAgICAgICAgeCArPSBwYmYucmVhZFNWYXJpbnQoKTtcbiAgICAgICAgICAgIHkgKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICBpZiAoeCA8IHgxKSB4MSA9IHg7XG4gICAgICAgICAgICBpZiAoeCA+IHgyKSB4MiA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IHkxKSB5MSA9IHk7XG4gICAgICAgICAgICBpZiAoeSA+IHkyKSB5MiA9IHk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjbWQgIT09IDcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFt4MSwgeTEsIHgyLCB5Ml07XG59O1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzaXplID0gdGhpcy5leHRlbnQgKiBNYXRoLnBvdygyLCB6KSxcbiAgICAgICAgeDAgPSB0aGlzLmV4dGVudCAqIHgsXG4gICAgICAgIHkwID0gdGhpcy5leHRlbnQgKiB5LFxuICAgICAgICBjb29yZHMgPSB0aGlzLmxvYWRHZW9tZXRyeSgpLFxuICAgICAgICB0eXBlID0gVmVjdG9yVGlsZUZlYXR1cmUudHlwZXNbdGhpcy50eXBlXSxcbiAgICAgICAgaSwgajtcblxuICAgIGZ1bmN0aW9uIHByb2plY3QobGluZSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gbGluZVtqXSwgeTIgPSAxODAgLSAocC55ICsgeTApICogMzYwIC8gc2l6ZTtcbiAgICAgICAgICAgIGxpbmVbal0gPSBbXG4gICAgICAgICAgICAgICAgKHAueCArIHgwKSAqIDM2MCAvIHNpemUgLSAxODAsXG4gICAgICAgICAgICAgICAgMzYwIC8gTWF0aC5QSSAqIE1hdGguYXRhbihNYXRoLmV4cCh5MiAqIE1hdGguUEkgLyAxODApKSAtIDkwXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICBjYXNlIDE6XG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRzW2ldID0gY29vcmRzW2ldWzBdO1xuICAgICAgICB9XG4gICAgICAgIGNvb3JkcyA9IHBvaW50cztcbiAgICAgICAgcHJvamVjdChjb29yZHMpO1xuICAgICAgICBicmVhaztcblxuICAgIGNhc2UgMjpcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvamVjdChjb29yZHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAzOlxuICAgICAgICBjb29yZHMgPSBjbGFzc2lmeVJpbmdzKGNvb3Jkcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29vcmRzID0gY29vcmRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGUgPSAnTXVsdGknICsgdHlwZTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRzXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuICAgIH07XG5cbiAgICBpZiAoJ2lkJyBpbiB0aGlzKSB7XG4gICAgICAgIHJlc3VsdC5pZCA9IHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIGNsYXNzaWZpZXMgYW4gYXJyYXkgb2YgcmluZ3MgaW50byBwb2x5Z29ucyB3aXRoIG91dGVyIHJpbmdzIGFuZCBob2xlc1xuXG5mdW5jdGlvbiBjbGFzc2lmeVJpbmdzKHJpbmdzKSB7XG4gICAgdmFyIGxlbiA9IHJpbmdzLmxlbmd0aDtcblxuICAgIGlmIChsZW4gPD0gMSkgcmV0dXJuIFtyaW5nc107XG5cbiAgICB2YXIgcG9seWdvbnMgPSBbXSxcbiAgICAgICAgcG9seWdvbixcbiAgICAgICAgY2N3O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgYXJlYSA9IHNpZ25lZEFyZWEocmluZ3NbaV0pO1xuICAgICAgICBpZiAoYXJlYSA9PT0gMCkgY29udGludWU7XG5cbiAgICAgICAgaWYgKGNjdyA9PT0gdW5kZWZpbmVkKSBjY3cgPSBhcmVhIDwgMDtcblxuICAgICAgICBpZiAoY2N3ID09PSBhcmVhIDwgMCkge1xuICAgICAgICAgICAgaWYgKHBvbHlnb24pIHBvbHlnb25zLnB1c2gocG9seWdvbik7XG4gICAgICAgICAgICBwb2x5Z29uID0gW3JpbmdzW2ldXTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHJpbmdzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcblxuICAgIHJldHVybiBwb2x5Z29ucztcbn1cblxuZnVuY3Rpb24gc2lnbmVkQXJlYShyaW5nKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJpbmcubGVuZ3RoLCBqID0gbGVuIC0gMSwgcDEsIHAyOyBpIDwgbGVuOyBqID0gaSsrKSB7XG4gICAgICAgIHAxID0gcmluZ1tpXTtcbiAgICAgICAgcDIgPSByaW5nW2pdO1xuICAgICAgICBzdW0gKz0gKHAyLnggLSBwMS54KSAqIChwMS55ICsgcDIueSk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC92ZWN0b3ItdGlsZS9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanNcbi8vIG1vZHVsZSBpZCA9IDM3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUG9pbnQ7XG5cbi8qKlxuICogQSBzdGFuZGFsb25lIHBvaW50IGdlb21ldHJ5IHdpdGggdXNlZnVsIGFjY2Vzc29yLCBjb21wYXJpc29uLCBhbmRcbiAqIG1vZGlmaWNhdGlvbiBtZXRob2RzLlxuICpcbiAqIEBjbGFzcyBQb2ludFxuICogQHBhcmFtIHtOdW1iZXJ9IHggdGhlIHgtY29vcmRpbmF0ZS4gdGhpcyBjb3VsZCBiZSBsb25naXR1ZGUgb3Igc2NyZWVuXG4gKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKiBAcGFyYW0ge051bWJlcn0geSB0aGUgeS1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxhdGl0dWRlIG9yIHNjcmVlblxuICogcGl4ZWxzLCBvciBhbnkgb3RoZXIgc29ydCBvZiB1bml0LlxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgtNzcsIDM4KTtcbiAqL1xuZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbn1cblxuUG9pbnQucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBwb2ludCwgcmV0dXJuaW5nIGEgbmV3IHBvaW50IHRoYXQgY2FuIGJlIG1vZGlmaWVkXG4gICAgICogd2l0aG91dCBhZmZlY3RpbmcgdGhlIG9sZCBvbmUuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHRoZSBjbG9uZVxuICAgICAqL1xuICAgIGNsb25lOiBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIHRvIGFub3RoZXIgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgYWRkOiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gZnJvbSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBzdWI6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3N1YihwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtdWx0QnlQb2ludDogICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2QnlQb2ludDogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3RvcixcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBrIGZhY3RvclxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtdWx0OiAgICBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHQoayk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIGRpdjogICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KGspOyB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoaXMgcG9pbnQgYXJvdW5kIHRoZSAwLCAwIG9yaWdpbiBieSBhbiBhbmdsZSBhLFxuICAgICAqIGdpdmVuIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZTogIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKGEpOyB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoaXMgcG9pbnQgYXJvdW5kIHAgcG9pbnQgYnkgYW4gYW5nbGUgYSxcbiAgICAgKiBnaXZlbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgYW5nbGUgdG8gcm90YXRlIGFyb3VuZCwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgUG9pbnQgdG8gcm90YXRlIGFyb3VuZFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICByb3RhdGVBcm91bmQ6ICBmdW5jdGlvbihhLHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKGEscCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50IGJ5IGEgNHgxIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gbSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbWF0TXVsdDogZnVuY3Rpb24obSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KG0pOyB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoaXMgcG9pbnQgYnV0IGFzIGEgdW5pdCB2ZWN0b3IgZnJvbSAwLCAwLCBtZWFuaW5nXG4gICAgICogdGhhdCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcmVzdWx0aW5nIHBvaW50IHRvIHRoZSAwLCAwXG4gICAgICogY29vcmRpbmF0ZSB3aWxsIGJlIGVxdWFsIHRvIDEgYW5kIHRoZSBhbmdsZSBmcm9tIHRoZSByZXN1bHRpbmdcbiAgICAgKiBwb2ludCB0byB0aGUgMCwgMCBjb29yZGluYXRlIHdpbGwgYmUgdGhlIHNhbWUgYXMgYmVmb3JlLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSB1bml0IHZlY3RvciBwb2ludFxuICAgICAqL1xuICAgIHVuaXQ6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgcGVycGVuZGljdWxhciBwb2ludCwgd2hlcmUgdGhlIG5ldyB5IGNvb3JkaW5hdGVcbiAgICAgKiBpcyB0aGUgb2xkIHggY29vcmRpbmF0ZSBhbmQgdGhlIG5ldyB4IGNvb3JkaW5hdGUgaXMgdGhlIG9sZCB5XG4gICAgICogY29vcmRpbmF0ZSBtdWx0aXBsaWVkIGJ5IC0xXG4gICAgICogQHJldHVybiB7UG9pbnR9IHBlcnBlbmRpY3VsYXIgcG9pbnRcbiAgICAgKi9cbiAgICBwZXJwOiAgICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpOyB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGlzIHBvaW50IHdpdGggdGhlIHggJiB5IGNvb3JkaW5hdGVzXG4gICAgICogcm91bmRlZCB0byBpbnRlZ2Vycy5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gcm91bmRlZCBwb2ludFxuICAgICAqL1xuICAgIHJvdW5kOiAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpOyB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYWdpdHVkZSBvZiB0aGlzIHBvaW50OiB0aGlzIGlzIHRoZSBFdWNsaWRlYW5cbiAgICAgKiBkaXN0YW5jZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCdzIHggYW5kIHlcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1hZ25pdHVkZVxuICAgICAqL1xuICAgIG1hZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSnVkZ2Ugd2hldGhlciB0aGlzIHBvaW50IGlzIGVxdWFsIHRvIGFub3RoZXIgcG9pbnQsIHJldHVybmluZ1xuICAgICAqIHRydWUgb3IgZmFsc2UuXG4gICAgICogQHBhcmFtIHtQb2ludH0gb3RoZXIgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgcG9pbnRzIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXIueCAmJlxuICAgICAgICAgICAgICAgdGhpcy55ID09PSBvdGhlci55O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gICAgICovXG4gICAgZGlzdDogZnVuY3Rpb24ocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcihwKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsXG4gICAgICogd2l0aG91dCB0aGUgc3F1YXJlIHJvb3Qgc3RlcC4gVXNlZnVsIGlmIHlvdSdyZSBjb21wYXJpbmdcbiAgICAgKiByZWxhdGl2ZSBkaXN0YW5jZXMuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gICAgICovXG4gICAgZGlzdFNxcjogZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIgZHggPSBwLnggLSB0aGlzLngsXG4gICAgICAgICAgICBkeSA9IHAueSAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50LCBpbiByYWRpYW5zXG4gICAgICogY29vcmRpbmF0ZXMuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIGFuZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gYiB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGVUbzogZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnkgLSBiLnksIHRoaXMueCAtIGIueCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50LCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gYiB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGVXaXRoOiBmdW5jdGlvbihiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuZ2xlV2l0aFNlcChiLngsIGIueSk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogRmluZCB0aGUgYW5nbGUgb2YgdGhlIHR3byB2ZWN0b3JzLCBzb2x2aW5nIHRoZSBmb3JtdWxhIGZvclxuICAgICAqIHRoZSBjcm9zcyBwcm9kdWN0IGEgeCBiID0gfGF8fGJ8c2luKM64KSBmb3IgzrguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggdGhlIHgtY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBhbmdsZSBpbiByYWRpYW5zXG4gICAgICovXG4gICAgYW5nbGVXaXRoU2VwOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKFxuICAgICAgICAgICAgdGhpcy54ICogeSAtIHRoaXMueSAqIHgsXG4gICAgICAgICAgICB0aGlzLnggKiB4ICsgdGhpcy55ICogeSk7XG4gICAgfSxcblxuICAgIF9tYXRNdWx0OiBmdW5jdGlvbihtKSB7XG4gICAgICAgIHZhciB4ID0gbVswXSAqIHRoaXMueCArIG1bMV0gKiB0aGlzLnksXG4gICAgICAgICAgICB5ID0gbVsyXSAqIHRoaXMueCArIG1bM10gKiB0aGlzLnk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfYWRkOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCArPSBwLng7XG4gICAgICAgIHRoaXMueSArPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfc3ViOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAtPSBwLng7XG4gICAgICAgIHRoaXMueSAtPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfbXVsdDogZnVuY3Rpb24oaykge1xuICAgICAgICB0aGlzLnggKj0gaztcbiAgICAgICAgdGhpcy55ICo9IGs7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfZGl2OiBmdW5jdGlvbihrKSB7XG4gICAgICAgIHRoaXMueCAvPSBrO1xuICAgICAgICB0aGlzLnkgLz0gaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9tdWx0QnlQb2ludDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggKj0gcC54O1xuICAgICAgICB0aGlzLnkgKj0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2RpdkJ5UG9pbnQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54IC89IHAueDtcbiAgICAgICAgdGhpcy55IC89IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF91bml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGl2KHRoaXMubWFnKCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3BlcnA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueTtcbiAgICAgICAgdGhpcy55ID0gdGhpcy54O1xuICAgICAgICB0aGlzLnggPSAteTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9yb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgICAgICB4ID0gY29zICogdGhpcy54IC0gc2luICogdGhpcy55LFxuICAgICAgICAgICAgeSA9IHNpbiAqIHRoaXMueCArIGNvcyAqIHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9yb3RhdGVBcm91bmQ6IGZ1bmN0aW9uKGFuZ2xlLCBwKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgICAgICB4ID0gcC54ICsgY29zICogKHRoaXMueCAtIHAueCkgLSBzaW4gKiAodGhpcy55IC0gcC55KSxcbiAgICAgICAgICAgIHkgPSBwLnkgKyBzaW4gKiAodGhpcy54IC0gcC54KSArIGNvcyAqICh0aGlzLnkgLSBwLnkpO1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29uc3RydWN0IGEgcG9pbnQgZnJvbSBhbiBhcnJheSBpZiBuZWNlc3NhcnksIG90aGVyd2lzZSBpZiB0aGUgaW5wdXRcbiAqIGlzIGFscmVhZHkgYSBQb2ludCwgb3IgYW4gdW5rbm93biB0eXBlLCByZXR1cm4gaXQgdW5jaGFuZ2VkXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj58UG9pbnR8Kn0gYSBhbnkga2luZCBvZiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7UG9pbnR9IGNvbnN0cnVjdGVkIHBvaW50LCBvciBwYXNzZWQtdGhyb3VnaCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKiAvLyB0aGlzXG4gKiB2YXIgcG9pbnQgPSBQb2ludC5jb252ZXJ0KFswLCAxXSk7XG4gKiAvLyBpcyBlcXVpdmFsZW50IHRvXG4gKiB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoMCwgMSk7XG4gKi9cblBvaW50LmNvbnZlcnQgPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmIChhIGluc3RhbmNlb2YgUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoYVswXSwgYVsxXSk7XG4gICAgfVxuICAgIHJldHVybiBhO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AbWFwYm94L3BvaW50LWdlb21ldHJ5L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==