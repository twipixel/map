webpackJsonp([1],{0:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var s=r(334),a=n(s),u=r(333),f=n(u);!function(){window.onload=function(){new c}}();var c=function(){function t(){i(this,t),this.init(),this.addEvent(),this.onresize()}return o(t,[{key:"init",value:function(){this.app=new a.default}},{key:"addEvent",value:function(){window.onresize=this.onresize.bind(this),window.addEventListener("keyup",this.onkeyup.bind(this)),window.addEventListener("keydown",this.onkeydown.bind(this))}},{key:"onresize",value:function(){this.app.resize()}},{key:"getIntervalFunction",value:function(t,e){function r(){e.apply(t,i),clearTimeout(this.keyIntervalId),this.keyIntervalId=setTimeout(r.bind(this),200)}for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r.bind(this)}},{key:"clearInterFunction",value:function(){clearTimeout(this.keyIntervalId)}},{key:"onkeydown",value:function(t){switch(t.keyCode){case f.default.UP:this.getIntervalFunction(this.app,this.app.moveCamera,"y",-1)();break;case f.default.DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"y",1)();break;case f.default.LEFT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",-1)();break;case f.default.RIGHT:this.getIntervalFunction(this.app,this.app.moveCamera,"x",1)();break;case f.default.PAGE_UP:this.getIntervalFunction(this.app,this.app.moveCamera,"z",1)();break;case f.default.PAGE_DOWN:this.getIntervalFunction(this.app,this.app.moveCamera,"z",-1)();break;case f.default.NUMBER_4:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",-.01)();break;case f.default.NUMBER_6:this.getIntervalFunction(this.app,this.app.rotateWorld,"y",.01)();break;case f.default.NUMBER_8:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",-.01)();break;case f.default.NUMBER_2:this.getIntervalFunction(this.app,this.app.rotateWorld,"x",.01)();break;case f.default.NUMBER_7:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_1:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMBER_9:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",-.01)();break;case f.default.NUMBER_3:this.getIntervalFunction(this.app,this.app.rotateWorld,"z",.01)();break;case f.default.NUMPAD_ADD:this.app.zoomIn();break;case f.default.NUMPAD_SUBTRACT:this.app.zoomOut();break;case f.default.NUMPAD_ENTER:this.app.zoomOut();break;case f.default.NUMBER_0:this.app.reset();break;case f.default.W:break;case f.default.S:break;case f.default.A:break;case f.default.D:}}},{key:"onkeyup",value:function(t){switch(t.keyCode){case f.default.ESCAPE:console.clear();break;case f.default.SPACE:this.app.gui.closed?this.app.gui.open():this.app.gui.close();break;case f.default.UP:case f.default.DOWN:case f.default.LEFT:case f.default.RIGHT:case f.default.PAGE_UP:case f.default.PAGE_DOWN:case f.default.NUMBER_4:case f.default.NUMBER_6:case f.default.NUMBER_8:case f.default.NUMBER_2:case f.default.NUMBER_7:case f.default.NUMBER_1:case f.default.NUMBER_9:case f.default.NUMBER_3:case f.default.NUMPAD_ADD:case f.default.NUMPAD_SUBTRACT:case f.default.W:case f.default.S:case f.default.A:case f.default.D:this.clearInterFunction();break;case f.default.BACKSPACE:}}}]),t}()},334:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(335),u=(n(a),r(362)),f=n(u),c=r(365),h=n(c),l=r(366),p=n(l),d=r(367),y=n(d),v=r(375),g=n(v),m=(r(376),r(370)),b={x:27953,y:12713,z:15},w={bus:"https://map.pstatic.net/nvb/wmts/bus/d2e364c9-b75e-4fd7-8020-c4b26f82b9ce/getTile/{x}/{y}/{z}/pbf",poi_web:"https://map.pstatic.net/nvb/wmts/poi_web/8fe6883e-5525-45f8-8f55-5e30bc4981f1/getTile/{x}/{y}/{z}/pbf",poi4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_poi/5653e757-9bf1-4a2e-b20f-86bb4c0b9912/getTile/{x}/{y}/{z}/pbf",naver4osm:"https://map.pstatic.net/nvbpc/wmts/osm_naver_data/getMetadata",cctv:"https://map.pstatic.net/nvbpc/wmts/cctv/ab50b26c-842d-4be5-8b0c-46019f5e79a1/getTile/{x}/{y}/{z}/pbf",ozone:"https://map.pstatic.net/ozone/pbf/geojson/POI?x="+b.x+"&y="+b.y+" &z="+b.z+"&name=osm_naver_poi&versionCode=5653e757-9bf1-4a2e-b20f-86bb4c0b9912&pixelRatio=2&imageType=sprite&language=ko&mapType=NORMAL&quality=normal"};for(var x in w)w[x]=(0,y.default)(w[x],b);var S=function(){function t(){i(this,t),this.testPbf(w.cctv,"cctv"),this.testPbf(w.poi_web,"naver4osm"),this.testPbf(w.poi4osm,"poi4osm"),this.testOzone(w.ozone,"ozone")}return s(t,[{key:"parse",value:function(){}},{key:"testPbf",value:function(t,e){var r=this;console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱"));var n=new m.VectorTile(new h.default(t));console.timeEnd((0,g.default)(e+" pbf 파싱")),console.log(n),console.time((0,g.default)(e+" 피쳐 생성"));var i=r.getFeatures(n);console.timeEnd((0,g.default)(e+" 피쳐 생성")),console.log("features",i.features)})}},{key:"testOzone",value:function(t,e){console.time((0,g.default)(e+" 로드")),(0,p.default)({url:t,responseType:"arraybuffer"}).then(function(t){console.timeEnd((0,g.default)(e+" 로드")),console.time((0,g.default)(e+" pbf 파싱 및 피쳐 생성"));var r={type:"FeatureCollection",features:[]};r=f.default.decode(new h.default(t)),console.timeEnd((0,g.default)(e+" pbf 파싱 및 피쳐 생성")),console.log("collection",r),console.log("features",r.features)})}},{key:"getFeatures",value:function(t){var e={type:"FeatureCollection",features:[]},r=Object.keys(t.layers);return Array.isArray(r)||(r=[r]),console.log("layers ("+r.length+")"),r.forEach(function(r){for(var n=t.layers[r],i=n.length,s=0;s<i;s++){var a=o({},n.feature(s).toGeoJSON(b.x,b.y,b.z));i>0&&(a.properties.layer=r),console.log("feature",a),e.features.push(a)}}),e}},{key:"resize",value:function(){}}]),t}();e.default=S},335:function(t,e,r){t.exports=r(336)},336:function(t,e,r){"use strict";function n(t){var e=new s(t),r=o(s.prototype.request,e);return i.extend(r,s.prototype,e),i.extend(r,e),r}var i=r(337),o=r(338),s=r(340),a=r(358),u=r(346),f=n(u);f.Axios=s,f.create=function(t){return n(a(f.defaults,t))},f.Cancel=r(359),f.CancelToken=r(360),f.isCancel=r(345),f.all=function(t){return Promise.all(t)},f.spread=r(361),t.exports=f,t.exports.default=f},337:function(t,e,r){"use strict";function n(t){return"[object Array]"===M.call(t)}function i(t){return"[object ArrayBuffer]"===M.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function f(t){return"undefined"==typeof t}function c(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===M.call(t)}function l(t){return"[object File]"===M.call(t)}function p(t){return"[object Blob]"===M.call(t)}function d(t){return"[object Function]"===M.call(t)}function y(t){return c(t)&&d(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(t,e){if(null!==t&&"undefined"!=typeof t)if("object"!=typeof t&&(t=[t]),n(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function w(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=w(e[r],t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function x(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=x(e[r],t):"object"==typeof t?e[r]=x({},t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)b(arguments[r],t);return e}function S(t,e,r){return b(e,function(e,n){r&&"function"==typeof e?t[n]=F(e,r):t[n]=e}),t}var F=r(338),_=r(339),M=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isBuffer:_,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:c,isUndefined:f,isDate:h,isFile:l,isBlob:p,isFunction:d,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:w,deepMerge:x,extend:S,trim:g}},338:function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},339:function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},340:function(t,e,r){"use strict";function n(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var i=r(337),o=r(341),s=r(342),a=r(343),u=r(358);n.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=u(this.defaults,t),t.method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},n.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n},341:function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=r(337);t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}},342:function(t,e,r){"use strict";function n(){this.handlers=[]}var i=r(337);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},343:function(t,e,r){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=r(337),o=r(344),s=r(345),a=r(346),u=r(356),f=r(357);t.exports=function(t){n(t),t.baseURL&&!u(t.url)&&(t.url=f(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||a.adapter;return e(t).then(function(e){return n(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(n(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},344:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},345:function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},346:function(t,e,r){(function(e){"use strict";function n(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function i(){var t;return"undefined"!=typeof e&&"[object process]"===Object.prototype.toString.call(e)?t=r(349):"undefined"!=typeof XMLHttpRequest&&(t=r(349)),t}var o=r(337),s=r(348),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:i(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){u.headers[t]={}}),o.forEach(["post","put","patch"],function(t){u.headers[t]=o.merge(a)}),t.exports=u}).call(e,r(347))},347:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function f(){}var c,h,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],y=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=f,l.addListener=f,l.once=f,l.off=f,l.removeListener=f,l.removeAllListeners=f,l.emit=f,l.prependListener=f,l.prependOnceListener=f,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},348:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},349:function(t,e,r){"use strict";var n=r(337),i=r(350),o=r(341),s=r(353),a=r(354),u=r(351);t.exports=function(t){return new Promise(function(e,f){var c=t.data,h=t.headers;n.isFormData(c)&&delete h["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+d)}if(l.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?s(l.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?l.response:l.responseText,o={data:n,status:l.status,statusText:l.statusText,headers:r,config:t,request:l};i(e,f,o),l=null}},l.onabort=function(){l&&(f(u("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){f(u("Network Error",t,null,l)),l=null},l.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var y=r(355),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in l&&n.forEach(h,function(t,e){"undefined"==typeof c&&"content-type"===e.toLowerCase()?delete h[e]:l.setRequestHeader(e,t)}),t.withCredentials&&(l.withCredentials=!0),t.responseType)try{l.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){l&&(l.abort(),f(t),l=null)}),void 0===c&&(c=null),l.send(c)})}},350:function(t,e,r){"use strict";var n=r(351);t.exports=function(t,e,r){var i=r.config.validateStatus;!i||i(r.status)?t(r):e(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},351:function(t,e,r){"use strict";var n=r(352);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},352:function(t,e){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},353:function(t,e,r){"use strict";var n=r(337),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;"set-cookie"===e?s[e]=(s[e]?s[e]:[]).concat([r]):s[e]=s[e]?s[e]+", "+r:r}}),s):s}},354:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(r){var i=n.isString(r)?t(r):r;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},355:function(t,e,r){"use strict";var n=r(337);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},356:function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},357:function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},358:function(t,e,r){"use strict";var n=r(337);t.exports=function(t,e){e=e||{};var r={};return n.forEach(["url","method","params","data"],function(t){"undefined"!=typeof e[t]&&(r[t]=e[t])}),n.forEach(["headers","auth","proxy"],function(i){n.isObject(e[i])?r[i]=n.deepMerge(t[i],e[i]):"undefined"!=typeof e[i]?r[i]=e[i]:n.isObject(t[i])?r[i]=n.deepMerge(t[i]):"undefined"!=typeof t[i]&&(r[i]=t[i])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){"undefined"!=typeof e[n]?r[n]=e[n]:"undefined"!=typeof t[n]&&(r[n]=t[n])}),r}},359:function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},360:function(t,e,r){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}var i=r(359);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,e=new n(function(e){t=e});return{token:e,cancel:t}},t.exports=n},361:function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},362:function(t,e,r){"use strict";e.encode=r(363),e.decode=r(364)},363:function(t,e){"use strict";function r(t,e){b={},x=[],w=0,S=0,F=1,n(t),F=Math.min(F,_);for(var r=Math.ceil(Math.log(F)/Math.LN10),i=0;i<x.length;i++)e.writeStringField(1,x[i]);return 2!==S&&e.writeVarintField(2,S),6!==r&&e.writeVarintField(3,r),"FeatureCollection"===t.type?e.writeMessage(4,u,t):"Feature"===t.type?e.writeMessage(5,f,t):e.writeMessage(6,c,t),b=null,e.finish()}function n(t){var e,r;if("FeatureCollection"===t.type)for(e=0;e<t.features.length;e++)n(t.features[e]);else if("Feature"===t.type){null!==t.geometry&&n(t.geometry);for(r in t.properties)a(r)}else if("Point"===t.type)s(t.coordinates);else if("MultiPoint"===t.type)o(t.coordinates);else if("GeometryCollection"===t.type)for(e=0;e<t.geometries.length;e++)n(t.geometries[e]);else if("LineString"===t.type)o(t.coordinates);else if("Polygon"===t.type||"MultiLineString"===t.type)i(t.coordinates);else if("MultiPolygon"===t.type)for(e=0;e<t.coordinates.length;e++)i(t.coordinates[e]);for(r in t)m(r,t.type)||a(r)}function i(t){for(var e=0;e<t.length;e++)o(t[e])}function o(t){for(var e=0;e<t.length;e++)s(t[e])}function s(t){S=Math.max(S,t.length);for(var e=0;e<t.length;e++)for(;Math.round(t[e]*F)/F!==t[e]&&F<_;)F*=10}function a(t){void 0===b[t]&&(x.push(t),b[t]=w++)}function u(t,e){for(var r=0;r<t.features.length;r++)e.writeMessage(1,f,t.features[r]);h(t,e,!0)}function f(t,e){null!==t.geometry&&e.writeMessage(1,c,t.geometry),void 0!==t.id&&("number"==typeof t.id&&t.id%1===0?e.writeSVarintField(12,t.id):e.writeStringField(11,t.id)),t.properties&&h(t.properties,e),h(t,e,!0)}function c(t,e){e.writeVarintField(1,M[t.type]);var r=t.coordinates;if("Point"===t.type)p(r,e);else if("MultiPoint"===t.type)d(r,e,!0);else if("LineString"===t.type)d(r,e);else if("MultiLineString"===t.type)y(r,e);else if("Polygon"===t.type)y(r,e,!0);else if("MultiPolygon"===t.type)v(r,e);else if("GeometryCollection"===t.type)for(var n=0;n<t.geometries.length;n++)e.writeMessage(4,c,t.geometries[n]);h(t,e,!0)}function h(t,e,r){var n=[],i=0;for(var o in t)r&&m(o,t.type)||(e.writeMessage(13,l,t[o]),n.push(b[o]),n.push(i++));e.writePackedVarint(r?15:14,n)}function l(t,e){if(null!==t){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(5,t):"object"===r?e.writeStringField(6,JSON.stringify(t)):"number"===r&&(t%1!==0?e.writeDoubleField(2,t):t>=0?e.writeVarintField(3,t):e.writeVarintField(4,-t))}}function p(t,e){for(var r=[],n=0;n<S;n++)r.push(Math.round(t[n]*F));e.writePackedSVarint(3,r)}function d(t,e){var r=[];g(r,t),e.writePackedSVarint(3,r)}function y(t,e,r){var n,i=t.length;if(1!==i){var o=[];for(n=0;n<i;n++)o.push(t[n].length-(r?1:0));e.writePackedVarint(2,o)}var s=[];for(n=0;n<i;n++)g(s,t[n],r);e.writePackedSVarint(3,s)}function v(t,e){var r,n,i=t.length;if(1!==i||1!==t[0].length){var o=[i];for(r=0;r<i;r++)for(o.push(t[r].length),n=0;n<t[r].length;n++)o.push(t[r][n].length-1);e.writePackedVarint(2,o)}var s=[];for(r=0;r<i;r++)for(n=0;n<t[r].length;n++)g(s,t[r][n],!0);e.writePackedSVarint(3,s)}function g(t,e,r){var n,i,o=e.length-(r?1:0),s=new Array(S);for(i=0;i<S;i++)s[i]=0;for(n=0;n<o;n++)for(i=0;i<S;i++){var a=Math.round(e[n][i]*F)-s[i];t.push(a),s[i]+=a}}function m(t,e){if("type"===t)return!0;if("FeatureCollection"===e){if("features"===t)return!0}else if("Feature"===e){if("id"===t||"properties"===t||"geometry"===t)return!0}else if("GeometryCollection"===e){if("geometries"===t)return!0}else if("coordinates"===t)return!0;return!1}t.exports=r;var b,w,x,S,F,_=1e6,M={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6}},364:function(t,e){"use strict";function r(t){x=2,S=Math.pow(10,6),w=null,m=[],b=[];var e=t.readFields(n,{});return m=null,e}function n(t,e,r){1===t?m.push(r.readString()):2===t?x=r.readVarint():3===t?S=Math.pow(10,r.readVarint()):4===t?i(r,e):5===t?o(r,e):6===t&&s(r,e)}function i(t,e){return e.type="FeatureCollection",e.features=[],t.readMessage(a,e)}function o(t,e){e.type="Feature";var r=t.readMessage(u,e);return r.hasOwnProperty("geometry")||(r.geometry=null),r}function s(t,e){return t.readMessage(f,e)}function a(t,e,r){1===t?e.features.push(o(r,{})):13===t?b.push(h(r)):15===t&&l(r,e)}function u(t,e,r){1===t?e.geometry=s(r,{}):11===t?e.id=r.readString():12===t?e.id=r.readSVarint():13===t?b.push(h(r)):14===t?e.properties=l(r,{}):15===t&&l(r,e)}function f(t,e,r){1===t?e.type=F[r.readVarint()]:2===t?w=r.readPackedVarint():3===t?c(e,r,e.type):4===t?(e.geometries=e.geometries||[],e.geometries.push(s(r,{}))):13===t?b.push(h(r)):15===t&&l(r,e)}function c(t,e,r){"Point"===r?t.coordinates=p(e):"MultiPoint"===r?t.coordinates=y(e,!0):"LineString"===r?t.coordinates=y(e):"MultiLineString"===r?t.coordinates=v(e):"Polygon"===r?t.coordinates=v(e,!0):"MultiPolygon"===r&&(t.coordinates=g(e))}function h(t){for(var e=t.readVarint()+t.pos,r=null;t.pos<e;){var n=t.readVarint(),i=n>>3;1===i?r=t.readString():2===i?r=t.readDouble():3===i?r=t.readVarint():4===i?r=-t.readVarint():5===i?r=t.readBoolean():6===i&&(r=JSON.parse(t.readString()))}return r}function l(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;)e[m[t.readVarint()]]=b[t.readVarint()];return b=[],e}function p(t){for(var e=t.readVarint()+t.pos,r=[];t.pos<e;)r.push(t.readSVarint()/S);return r}function d(t,e,r,n){var i,o,s=0,a=[],u=[];for(o=0;o<x;o++)u[o]=0;for(;r?s<r:t.pos<e;){for(i=[],o=0;o<x;o++)u[o]+=t.readSVarint(),i[o]=u[o]/S;a.push(i),s++}return n&&a.push(a[0]),a}function y(t){return d(t,t.readVarint()+t.pos)}function v(t,e){var r=t.readVarint()+t.pos;if(!w)return[d(t,r,null,e)];for(var n=[],i=0;i<w.length;i++)n.push(d(t,r,w[i],e));return w=null,n}function g(t){var e=t.readVarint()+t.pos;if(!w)return[[d(t,e,null,!0)]];for(var r=[],n=1,i=0;i<w[0];i++){for(var o=[],s=0;s<w[n];s++)o.push(d(t,e,w[n+1+s],!0));n+=w[n]+1,r.push(o)}return w=null,r}t.exports=r;var m,b,w,x,S,F=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"]},365:function(t,e,r){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function a(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(r=~(-t%4294967296),n=~(-t/4294967296),4294967295^r?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(r,n,e),f(n,e)}function u(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}function f(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function h(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function l(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function v(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function m(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function b(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function F(t,e,r){for(var n="",i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>r)break;var u,f,c;1===a?o<128&&(s=o):2===a?(u=t[i+1],128===(192&u)&&(s=(31&o)<<6|63&u,s<=127&&(s=null))):3===a?(u=t[i+1],f=t[i+2],128===(192&u)&&128===(192&f)&&(s=(15&o)<<12|(63&u)<<6|63&f,(s<=2047||s>=55296&&s<=57343)&&(s=null))):4===a&&(u=t[i+1],f=t[i+2],c=t[i+3],128===(192&u)&&128===(192&f)&&128===(192&c)&&(s=(15&o)<<18|(63&u)<<12|(63&f)<<6|63&c,(s<=65535||s>=1114112)&&(s=null))),null===s?(s=65533,a=1):s>65535&&(s-=65536,n+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),n+=String.fromCharCode(s),i+=a}return n}function _(t,e,r){for(var n,i,o=0;o<e.length;o++){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}t.exports=n;var M=r(331);n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var k=4294967296,P=1/k;n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=w(this.buf,this.pos)+w(this.buf,this.pos+4)*k;return this.pos+=8,t},readSFixed64:function(){var t=w(this.buf,this.pos)+S(this.buf,this.pos+4)*k;return this.pos+=8,t},readFloat:function(){
var t=M.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=M.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return r=n[this.pos++],e=127&r,r<128?e:(r=n[this.pos++],e|=(127&r)<<7,r<128?e:(r=n[this.pos++],e|=(127&r)<<14,r<128?e:(r=n[this.pos++],e|=(127&r)<<21,r<128?e:(r=n[this.pos],e|=(15&r)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=F(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==n.Bytes)return t.push(this.readVarint(e));var r=o(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==n.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==n.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==n.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==n.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,t&-1,this.pos),x(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t||0,t>268435455||t<0?void a(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=_(this.buf,t,this.pos);var r=this.pos-e;r>=128&&c(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),M.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),M.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&c(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,n.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},366:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.url,r=t.responseType,n=void 0===r?"json":r,i=function(){return(0,s.default)({url:e,responseType:n}).then(function(t){var e=t.data;return e})};return i()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(335),s=n(o)},367:function(t,e){"use strict";function r(t,e){return t.replace(n,function(t,r){var n=e[r];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=/\{ *([\w_-]+) *\}/g},369:function(t,e){"use strict";function r(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":n(t))&&Array.isArray(t)===!1}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},370:function(t,e,r){t.exports.VectorTile=r(371),t.exports.VectorTileFeature=r(373),t.exports.VectorTileLayer=r(372)},371:function(t,e,r){"use strict";function n(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,r){if(3===t){var n=new o(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}var o=r(372);t.exports=n},372:function(t,e,r){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(o(r))}function o(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var s=r(373);t.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},373:function(t,e,r){"use strict";function n(t,e,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(i,this,e)}function i(t,e,r){1==t?e.id=r.readVarint():2==t?o(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function o(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i}}function s(t){var e=t.length;if(e<=1)return[t];for(var r,n,i=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(r&&i.push(r),r=[t[o]]):r.push(t[o]))}return r&&i.push(r),i}function a(t){for(var e,r,n=0,i=0,o=t.length,s=o-1;i<o;s=i++)e=t[i],r=t[s],n+=(r.x-e.x)*(e.y+r.y);return n}var u=r(374);t.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,o=0,s=0,a=[];t.pos<r;){if(i<=0){var f=t.readVarint();n=7&f,i=f>>3}if(i--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new u(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,o=0,s=1/0,a=-(1/0),u=1/0,f=-(1/0);t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)i+=t.readSVarint(),o+=t.readSVarint(),i<s&&(s=i),i>a&&(a=i),o<u&&(u=o),o>f&&(f=o);else if(7!==r)throw new Error("unknown command "+r)}return[s,u,a,f]},n.prototype.toGeoJSON=function(t,e,r){function i(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+c)/u;t[e]=[360*(r.x+f)/u-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,a,u=this.extent*Math.pow(2,r),f=this.extent*t,c=this.extent*e,h=this.loadGeometry(),l=n.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<h.length;o++)p[o]=h[o][0];h=p,i(h);break;case 2:for(o=0;o<h.length;o++)i(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)i(h[o][a])}1===h.length?h=h[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:h},properties:this.properties};return"id"in this&&(d.id=this.id),d}},374:function(t,e){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,i=r*this.x+e*this.y;return this.x=n,this.y=i,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.x+r*(this.x-e.x)-n*(this.y-e.y),o=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},375:function(t,e){"use strict";function r(t){return n+" "+t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n="▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨▨ "},376:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e=e||30,e>f)return void console.log(t);if((0,u.default)(t))for(var r in t)console.log(r,t[r]),console.group(r+" : "+s(t[r])),i(t[r],e+1),console.groupEnd();else console.log(t)}function o(t,e){return JSON.stringify(t,null,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.expand=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(369),u=n(a),f=100;e.expand=i,e.stringify=o}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9tYXAvcGJmL2xvYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbWFwL3BiZi9sb2FkL0FwcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9nZW9idWYvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL34vZ2VvYnVmL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3BiZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbmV0L3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZy90ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmFsaWRhdGUvaXNvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vQG1hcGJveC92ZWN0b3ItdGlsZS9saWIvdmVjdG9ydGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVsYXllci5qcyIsIndlYnBhY2s6Ly8vLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVmZWF0dXJlLmpzIiwid2VicGFjazovLy8uL34vQG1hcGJveC9wb2ludC1nZW9tZXRyeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc29sZS9ib2xkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25zb2xlL2V4cGFuZC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIwIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIl9BcHAiLCJfQXBwMiIsIl9LZXlDb2RlIiwiX0tleUNvZGUyIiwid2luZG93Iiwib25sb2FkIiwiTWFpbiIsInRoaXMiLCJpbml0IiwiYWRkRXZlbnQiLCJvbnJlc2l6ZSIsInZhbHVlIiwiYXBwIiwiQXBwIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmtleXVwIiwib25rZXlkb3duIiwicmVzaXplIiwidGhlQXJnIiwiZnVuYyIsImludGVydmFsRnVuYyIsImFwcGx5IiwicGFyYW1zIiwiY2xlYXJUaW1lb3V0Iiwia2V5SW50ZXJ2YWxJZCIsInNldFRpbWVvdXQiLCJfbGVuIiwiYXJndW1lbnRzIiwiQXJyYXkiLCJfa2V5IiwiZXZlbnQiLCJrZXlDb2RlIiwiS2V5Q29kZSIsIlVQIiwiZ2V0SW50ZXJ2YWxGdW5jdGlvbiIsIm1vdmVDYW1lcmEiLCJET1dOIiwiTEVGVCIsIlJJR0hUIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIk5VTUJFUl80Iiwicm90YXRlV29ybGQiLCJOVU1CRVJfNiIsIk5VTUJFUl84IiwiTlVNQkVSXzIiLCJOVU1CRVJfNyIsIk5VTUJFUl8xIiwiTlVNQkVSXzkiLCJOVU1CRVJfMyIsIk5VTVBBRF9BREQiLCJ6b29tSW4iLCJOVU1QQURfU1VCVFJBQ1QiLCJ6b29tT3V0IiwiTlVNUEFEX0VOVEVSIiwiTlVNQkVSXzAiLCJyZXNldCIsIlciLCJTIiwiQSIsIkQiLCJFU0NBUEUiLCJjb25zb2xlIiwiY2xlYXIiLCJTUEFDRSIsImd1aSIsImNsb3NlZCIsIm9wZW4iLCJjbG9zZSIsImNsZWFySW50ZXJGdW5jdGlvbiIsIkJBQ0tTUEFDRSIsIjMzNCIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2F4aW9zIiwiX2dlb2J1ZiIsIl9nZW9idWYyIiwiX3BiZiIsIl9wYmYyIiwiX3JlcXVlc3QiLCJfcmVxdWVzdDIiLCJfdGVtcGxhdGUiLCJfdGVtcGxhdGUyIiwiX2JvbGQiLCJfYm9sZDIiLCJfdmVjdG9yVGlsZSIsInh5eiIsIngiLCJ5IiwieiIsInVybHMiLCJidXMiLCJwb2lfd2ViIiwicG9pNG9zbSIsIm5hdmVyNG9zbSIsImNjdHYiLCJvem9uZSIsInByb3AiLCJ0ZXN0UGJmIiwidGVzdE96b25lIiwidXJsIiwidGltZUxhYmVsIiwiX3RoaXMiLCJ0aW1lIiwicmVzcG9uc2VUeXBlIiwidGhlbiIsImJ1ZmZlciIsInRpbWVFbmQiLCJ0aWxlIiwiVmVjdG9yVGlsZSIsIlByb3RvQnVmIiwibG9nIiwiY29sbGVjdGlvbiIsImdldEZlYXR1cmVzIiwiZmVhdHVyZXMiLCJ0eXBlIiwiZ2VvYnVmIiwiZGVjb2RlIiwibGF5ZXJzIiwia2V5cyIsImlzQXJyYXkiLCJmb3JFYWNoIiwibGF5ZXJJRCIsImxheWVyIiwibGVuIiwiZmVhdHVyZSIsInRvR2VvSlNPTiIsInByb3BlcnRpZXMiLCJwdXNoIiwiMzM1IiwiMzM2IiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsIkF4aW9zIiwicmVxdWVzdCIsInV0aWxzIiwiZXh0ZW5kIiwibWVyZ2VDb25maWciLCJkZWZhdWx0cyIsImF4aW9zIiwiY3JlYXRlIiwiaW5zdGFuY2VDb25maWciLCJDYW5jZWwiLCJDYW5jZWxUb2tlbiIsImlzQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJQcm9taXNlIiwic3ByZWFkIiwiMzM3IiwidmFsIiwidG9TdHJpbmciLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJyZXN1bHQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNGdW5jdGlvbiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJkb2N1bWVudCIsImZuIiwibCIsIm1lcmdlIiwiYXNzaWduVmFsdWUiLCJkZWVwTWVyZ2UiLCJhIiwiYiIsInRoaXNBcmciLCJpc0J1ZmZlciIsIjMzOCIsImFyZ3MiLCIzMzkiLCJjb25zdHJ1Y3RvciIsImlzU2xvd0J1ZmZlciIsInJlYWRGbG9hdExFIiwic2xpY2UiLCJfaXNCdWZmZXIiLCIzNDAiLCJpbnRlcmNlcHRvcnMiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJyZXNwb25zZSIsImJ1aWxkVVJMIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiY29uZmlnIiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJjaGFpbiIsInVuZGVmaW5lZCIsInByb21pc2UiLCJyZXNvbHZlIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImdldFVyaSIsInBhcmFtc1NlcmlhbGl6ZXIiLCJkYXRhIiwiMzQxIiwiZW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImpvaW4iLCJoYXNobWFya0luZGV4IiwiaW5kZXhPZiIsIjM0MiIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImgiLCIzNDMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsVG9rZW4iLCJ0aHJvd0lmUmVxdWVzdGVkIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsImJhc2VVUkwiLCJoZWFkZXJzIiwidHJhbnNmb3JtUmVxdWVzdCIsImNvbW1vbiIsImFkYXB0ZXIiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInJlYXNvbiIsInJlamVjdCIsIjM0NCIsImZucyIsIjM0NSIsIl9fQ0FOQ0VMX18iLCIzNDYiLCJwcm9jZXNzIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiZ2V0RGVmYXVsdEFkYXB0ZXIiLCJYTUxIdHRwUmVxdWVzdCIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsIkNvbnRlbnQtVHlwZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiQWNjZXB0IiwiMzQ3IiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjYWNoZWRTZXRUaW1lb3V0IiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImNvbmNhdCIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwicnVuIiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsIm5hbWUiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIjM0OCIsIm5vcm1hbGl6ZWROYW1lIiwidG9VcHBlckNhc2UiLCIzNDkiLCJzZXR0bGUiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VEYXRhIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbCIsImFib3J0Iiwic2VuZCIsIjM1MCIsIjM1MSIsImVuaGFuY2VFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCIzNTIiLCJpc0F4aW9zRXJyb3IiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInN0YWNrIiwiMzUzIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZWQiLCJzcGxpdCIsImxpbmUiLCJzdWJzdHIiLCIzNTQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsIm1zaWUiLCJ1cmxQYXJzaW5nTm9kZSIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsIm9yaWdpblVSTCIsInRlc3QiLCJ1c2VyQWdlbnQiLCJjcmVhdGVFbGVtZW50IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwiMzU1Iiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwiMzU2IiwiMzU3IiwicmVsYXRpdmVVUkwiLCIzNTgiLCJjb25maWcxIiwiY29uZmlnMiIsIjM1OSIsIjM2MCIsImV4ZWN1dG9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsImMiLCIzNjEiLCJjYWxsYmFjayIsImFyciIsIjM2MiIsIjM2MyIsInBiZiIsImtleXNBcnIiLCJrZXlzTnVtIiwiZGltIiwiYW5hbHl6ZSIsIk1hdGgiLCJtaW4iLCJtYXhQcmVjaXNpb24iLCJwcmVjaXNpb24iLCJjZWlsIiwiTE4xMCIsIndyaXRlU3RyaW5nRmllbGQiLCJ3cml0ZVZhcmludEZpZWxkIiwid3JpdGVNZXNzYWdlIiwid3JpdGVGZWF0dXJlQ29sbGVjdGlvbiIsIndyaXRlRmVhdHVyZSIsIndyaXRlR2VvbWV0cnkiLCJmaW5pc2giLCJnZW9tZXRyeSIsInNhdmVLZXkiLCJhbmFseXplUG9pbnQiLCJjb29yZGluYXRlcyIsImFuYWx5emVQb2ludHMiLCJnZW9tZXRyaWVzIiwiYW5hbHl6ZU11bHRpTGluZSIsImlzU3BlY2lhbEtleSIsImNvb3JkcyIsInBvaW50IiwibWF4Iiwicm91bmQiLCJ3cml0ZVByb3BzIiwid3JpdGVTVmFyaW50RmllbGQiLCJnZW9tIiwiZ2VvbWV0cnlUeXBlcyIsIndyaXRlUG9pbnQiLCJ3cml0ZUxpbmUiLCJ3cml0ZU11bHRpTGluZSIsIndyaXRlTXVsdGlQb2x5Z29uIiwiaXNDdXN0b20iLCJpbmRleGVzIiwidmFsdWVJbmRleCIsIndyaXRlVmFsdWUiLCJ3cml0ZVBhY2tlZFZhcmludCIsIndyaXRlQm9vbGVhbkZpZWxkIiwid3JpdGVEb3VibGVGaWVsZCIsIndyaXRlUGFja2VkU1ZhcmludCIsInBvcHVsYXRlTGluZSIsImxpbmVzIiwibGVuZ3RocyIsInBvbHlnb25zIiwiaiIsInN1bSIsIm4iLCJQb2ludCIsIk11bHRpUG9pbnQiLCJMaW5lU3RyaW5nIiwiTXVsdGlMaW5lU3RyaW5nIiwiUG9seWdvbiIsIk11bHRpUG9seWdvbiIsIkdlb21ldHJ5Q29sbGVjdGlvbiIsIjM2NCIsInBvdyIsInZhbHVlcyIsInJlYWRGaWVsZHMiLCJyZWFkRGF0YUZpZWxkIiwidGFnIiwicmVhZFN0cmluZyIsInJlYWRWYXJpbnQiLCJyZWFkRmVhdHVyZUNvbGxlY3Rpb24iLCJyZWFkRmVhdHVyZSIsInJlYWRHZW9tZXRyeSIsInJlYWRNZXNzYWdlIiwicmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQiLCJmIiwicmVhZEZlYXR1cmVGaWVsZCIsInJlYWRHZW9tZXRyeUZpZWxkIiwicmVhZFZhbHVlIiwicmVhZFByb3BzIiwicmVhZFNWYXJpbnQiLCJyZWFkUGFja2VkVmFyaW50IiwicmVhZENvb3JkcyIsInJlYWRQb2ludCIsInJlYWRMaW5lIiwicmVhZE11bHRpTGluZSIsInJlYWRNdWx0aVBvbHlnb24iLCJlbmQiLCJwb3MiLCJyZWFkRG91YmxlIiwicmVhZEJvb2xlYW4iLCJyZWFkTGluZVBhcnQiLCJwIiwiZCIsInByZXZQIiwicmluZ3MiLCJrIiwiMzY1IiwiUGJmIiwiYnVmIiwiVWludDhBcnJheSIsInJlYWRWYXJpbnRSZW1haW5kZXIiLCJzIiwidG9OdW0iLCJyZWFkUGFja2VkRW5kIiwiQnl0ZXMiLCJsb3ciLCJoaWdoIiwiaXNTaWduZWQiLCJ3cml0ZUJpZ1ZhcmludCIsInJlYWxsb2MiLCJ3cml0ZUJpZ1ZhcmludExvdyIsIndyaXRlQmlnVmFyaW50SGlnaCIsImxzYiIsIm1ha2VSb29tRm9yRXh0cmFMZW5ndGgiLCJzdGFydFBvcyIsImV4dHJhTGVuIiwiZmxvb3IiLCJMTjIiLCJ3cml0ZVZhcmludCIsIndyaXRlU1ZhcmludCIsIndyaXRlUGFja2VkRmxvYXQiLCJ3cml0ZUZsb2F0Iiwid3JpdGVQYWNrZWREb3VibGUiLCJ3cml0ZURvdWJsZSIsIndyaXRlUGFja2VkQm9vbGVhbiIsIndyaXRlQm9vbGVhbiIsIndyaXRlUGFja2VkRml4ZWQzMiIsIndyaXRlRml4ZWQzMiIsIndyaXRlUGFja2VkU0ZpeGVkMzIiLCJ3cml0ZVNGaXhlZDMyIiwid3JpdGVQYWNrZWRGaXhlZDY0Iiwid3JpdGVGaXhlZDY0Iiwid3JpdGVQYWNrZWRTRml4ZWQ2NCIsIndyaXRlU0ZpeGVkNjQiLCJyZWFkVUludDMyIiwid3JpdGVJbnQzMiIsInJlYWRJbnQzMiIsInJlYWRVdGY4IiwiYjAiLCJieXRlc1BlclNlcXVlbmNlIiwiYjEiLCJiMiIsImIzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwid3JpdGVVdGY4IiwibGVhZCIsImNoYXJDb2RlQXQiLCJpZWVlNzU0IiwiVmFyaW50IiwiRml4ZWQ2NCIsIkZpeGVkMzIiLCJTSElGVF9MRUZUXzMyIiwiU0hJRlRfUklHSFRfMzIiLCJkZXN0cm95IiwicmVhZEZpZWxkIiwic2tpcCIsInJlYWRGaXhlZDMyIiwicmVhZFNGaXhlZDMyIiwicmVhZEZpeGVkNjQiLCJyZWFkU0ZpeGVkNjQiLCJyZWFkRmxvYXQiLCJyZWFkVmFyaW50NjQiLCJudW0iLCJCb29sZWFuIiwicmVhZEJ5dGVzIiwic3ViYXJyYXkiLCJyZWFkUGFja2VkU1ZhcmludCIsInJlYWRQYWNrZWRCb29sZWFuIiwicmVhZFBhY2tlZEZsb2F0IiwicmVhZFBhY2tlZERvdWJsZSIsInJlYWRQYWNrZWRGaXhlZDMyIiwicmVhZFBhY2tlZFNGaXhlZDMyIiwicmVhZFBhY2tlZEZpeGVkNjQiLCJyZWFkUGFja2VkU0ZpeGVkNjQiLCJ3cml0ZVRhZyIsInNldCIsIndyaXRlU3RyaW5nIiwid3JpdGVCeXRlcyIsIndyaXRlUmF3TWVzc2FnZSIsIndyaXRlQnl0ZXNGaWVsZCIsIndyaXRlRml4ZWQzMkZpZWxkIiwid3JpdGVTRml4ZWQzMkZpZWxkIiwid3JpdGVGaXhlZDY0RmllbGQiLCJ3cml0ZVNGaXhlZDY0RmllbGQiLCJ3cml0ZUZsb2F0RmllbGQiLCIzNjYiLCJfcmVmIiwiX3JlZiRyZXNwb25zZVR5cGUiLCJmZXRjaERhdGEiLCJfYXhpb3MyIiwiX3JlZjIiLCIzNjciLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlUmUiLCIzNjkiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCIzNzAiLCJWZWN0b3JUaWxlRmVhdHVyZSIsIlZlY3RvclRpbGVMYXllciIsIjM3MSIsInJlYWRUaWxlIiwiMzcyIiwiZXh0ZW50IiwiX2tleXMiLCJfdmFsdWVzIiwiX2ZlYXR1cmVzIiwicmVhZExheWVyIiwicmVhZFZhbHVlTWVzc2FnZSIsIjM3MyIsIl9nZW9tZXRyeSIsInJlYWRUYWciLCJjbGFzc2lmeVJpbmdzIiwicG9seWdvbiIsImNjdyIsImFyZWEiLCJzaWduZWRBcmVhIiwicmluZyIsInAxIiwicDIiLCJ0eXBlcyIsImxvYWRHZW9tZXRyeSIsImNtZCIsImNtZExlbiIsImNsb25lIiwiYmJveCIsIngxIiwiSW5maW5pdHkiLCJ4MiIsInkxIiwieTIiLCJwcm9qZWN0IiwieTAiLCJzaXplIiwieDAiLCJQSSIsImF0YW4iLCJleHAiLCJwb2ludHMiLCIzNzQiLCJhZGQiLCJfYWRkIiwic3ViIiwiX3N1YiIsIm11bHRCeVBvaW50IiwiX211bHRCeVBvaW50IiwiZGl2QnlQb2ludCIsIl9kaXZCeVBvaW50IiwibXVsdCIsIl9tdWx0IiwiZGl2IiwiX2RpdiIsInJvdGF0ZSIsIl9yb3RhdGUiLCJyb3RhdGVBcm91bmQiLCJfcm90YXRlQXJvdW5kIiwibWF0TXVsdCIsIm0iLCJfbWF0TXVsdCIsInVuaXQiLCJfdW5pdCIsInBlcnAiLCJfcGVycCIsIl9yb3VuZCIsIm1hZyIsInNxcnQiLCJlcXVhbHMiLCJvdGhlciIsImRpc3QiLCJkaXN0U3FyIiwiZHgiLCJkeSIsImFuZ2xlIiwiYXRhbjIiLCJhbmdsZVRvIiwiYW5nbGVXaXRoIiwiYW5nbGVXaXRoU2VwIiwiY29zIiwic2luIiwiY29udmVydCIsIjM3NSIsImJvbGQiLCJsYWJlbCIsImJvbGRQcmVmaXgiLCIzNzYiLCJleHBhbmQiLCJpdGVtIiwiZGVwdGgiLCJNQVhfREVQVEgiLCJfaXNvYmplY3QyIiwiZ3JvdXAiLCJncm91cEVuZCIsIm9iamVjdCIsInNwYWNlIiwiX2lzb2JqZWN0Il0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxFQUNBLFNBQVVDLEVBQVFDLEVBQVNDLEdBRWhDLFlBY0EsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU0csR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FkaEgsR0FBSUMsR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsU0FBV0YsS0FBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUFpQixNQUFPLFVBQVVSLEVBQWFlLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZWixFQUFpQkgsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhYixFQUFpQkgsRUFBYWdCLEdBQXFCaEIsS0NQamlCUCxHQUFBLEVBQ0EsSUFBQXlCLEdBQUF6QixFQUFBLEtEWUswQixFQUFRekIsRUFBdUJ3QixHQ1hwQ0UsRUFBQTNCLEVBQUEsS0RlSzRCLEVBQVkzQixFQUF1QjBCLElDWnZDLFdBQ0dFLE9BQU9DLE9BQVMsV0FDRCxHQUFJQyxNRHNCdEIsSUNsQktBLEdEa0JNLFdDakJSLFFBQUFBLEtBQWMxQixFQUFBMkIsS0FBQUQsR0FDVkMsS0FBS0MsT0FDTEQsS0FBS0UsV0FDTEYsS0FBS0csV0RxTFIsTUE5SkExQixHQUFhc0IsSUFDVFYsSUFBSyxPQUNMZSxNQUFPLFdDckJSSixLQUFLSyxJQUFNLEdBQUlDLGNEeUJkakIsSUFBSyxXQUNMZSxNQUFPLFdDdEJSUCxPQUFPTSxTQUFXSCxLQUFLRyxTQUFTSSxLQUFLUCxNQUNyQ0gsT0FBT1csaUJBQWlCLFFBQVNSLEtBQUtTLFFBQVFGLEtBQUtQLE9BQ25ESCxPQUFPVyxpQkFBaUIsVUFBV1IsS0FBS1UsVUFBVUgsS0FBS1AsVUQwQnREWCxJQUFLLFdBQ0xlLE1BQU8sV0N2QlJKLEtBQUtLLElBQUlNLFlEbUNSdEIsSUFBSyxzQkFDTGUsTUFBTyxTQzNCUVEsRUFBUUMsR0FDeEIsUUFBU0MsS0FDTEQsRUFBS0UsTUFBTUgsRUFBUUksR0FDbkJDLGFBQWFqQixLQUFLa0IsZUFDbEJsQixLQUFLa0IsY0FBZ0JDLFdBQVdMLEVBQWFQLEtBQUtQLE1BQU8sS0FKcEIsT0FBQW9CLEdBQUFDLFVBQUF2QyxPQUFSa0MsRUFBUU0sTUFBQUYsRUFBQSxFQUFBQSxFQUFBLEtBQUFHLEVBQUEsRUFBQUEsRUFBQUgsRUFBQUcsSUFBUlAsRUFBUU8sRUFBQSxHQUFBRixVQUFBRSxFQU96QyxPQUFPVCxHQUFhUCxLQUFLUCxTRGtDeEJYLElBQUsscUJBQ0xlLE1BQU8sV0MvQlJhLGFBQWFqQixLQUFLa0Isa0JEbUNqQjdCLElBQUssWUFDTGUsTUFBTyxTQ2pDRm9CLEdBQ04sT0FBUUEsRUFBTUMsU0FDVixJQUFLQyxXQUFRQyxHQUNUM0IsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLEtBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRSSxLQUNUOUIsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLElBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRSyxLQUNUL0IsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLEtBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRTSxNQUNUaEMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLElBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRTyxRQUNUakMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLElBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRUSxVQUNUbEMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUl3QixXQUFZLEtBQUssSUFDN0QsTUFDSixLQUFLSCxXQUFRUyxTQUNUbkMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLEtBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRVyxTQUNUckMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLElBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRWSxTQUNUdEMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLEtBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRYSxTQUNUdkMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLElBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRYyxTQUNUeEMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLEtBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRZSxTQUNUekMsS0FBSzRCLG9CQUFvQjVCLEtBQUtLLElBQUtMLEtBQUtLLElBQUkrQixZQUFhLElBQUssTUFDOUQsTUFDSixLQUFLVixXQUFRZ0IsU0FDVDFDLEtBQUs0QixvQkFBb0I1QixLQUFLSyxJQUFLTCxLQUFLSyxJQUFJK0IsWUFBYSxLQUFLLE1BQzlELE1BQ0osS0FBS1YsV0FBUWlCLFNBQ1QzQyxLQUFLNEIsb0JBQW9CNUIsS0FBS0ssSUFBS0wsS0FBS0ssSUFBSStCLFlBQWEsSUFBSyxNQUM5RCxNQUNKLEtBQUtWLFdBQVFrQixXQUNUNUMsS0FBS0ssSUFBSXdDLFFBQ1QsTUFDSixLQUFLbkIsV0FBUW9CLGdCQUNUOUMsS0FBS0ssSUFBSTBDLFNBQ1QsTUFDSixLQUFLckIsV0FBUXNCLGFBQ1RoRCxLQUFLSyxJQUFJMEMsU0FDVCxNQUNKLEtBQUtyQixXQUFRdUIsU0FDVGpELEtBQUtLLElBQUk2QyxPQUNULE1BQ0osS0FBS3hCLFdBQVF5QixFQUNULEtBQ0osS0FBS3pCLFdBQVEwQixFQUNULEtBQ0osS0FBSzFCLFdBQVEyQixFQUNULEtBQ0osS0FBSzNCLFdBQVE0QixPRHNDaEJqRSxJQUFLLFVBQ0xlLE1BQU8sU0NsQ0pvQixHQUNKLE9BQVFBLEVBQU1DLFNBQ1YsSUFBS0MsV0FBUTZCLE9BQ1RDLFFBQVFDLE9BQ1IsTUFFSixLQUFLL0IsV0FBUWdDLE1BQ0wxRCxLQUFLSyxJQUFJc0QsSUFBSUMsT0FDYjVELEtBQUtLLElBQUlzRCxJQUFJRSxPQUdiN0QsS0FBS0ssSUFBSXNELElBQUlHLE9BRWpCLE1BRUosS0FBS3BDLFdBQVFDLEdBQ2IsSUFBS0QsV0FBUUksS0FDYixJQUFLSixXQUFRSyxLQUNiLElBQUtMLFdBQVFNLE1BQ2IsSUFBS04sV0FBUU8sUUFDYixJQUFLUCxXQUFRUSxVQUNiLElBQUtSLFdBQVFTLFNBQ2IsSUFBS1QsV0FBUVcsU0FDYixJQUFLWCxXQUFRWSxTQUNiLElBQUtaLFdBQVFhLFNBQ2IsSUFBS2IsV0FBUWMsU0FDYixJQUFLZCxXQUFRZSxTQUNiLElBQUtmLFdBQVFnQixTQUNiLElBQUtoQixXQUFRaUIsU0FDYixJQUFLakIsV0FBUWtCLFdBQ2IsSUFBS2xCLFdBQVFvQixnQkFDYixJQUFLcEIsV0FBUXlCLEVBQ2IsSUFBS3pCLFdBQVEwQixFQUNiLElBQUsxQixXQUFRMkIsRUFDYixJQUFLM0IsV0FBUTRCLEVBQ1R0RCxLQUFLK0Qsb0JBQ0wsTUFFSixLQUFLckMsV0FBUXNDLGdCRHVDYmpFLE1BS05rRSxJQUNBLFNBQVVuRyxFQUFRQyxFQUFTQyxHQUVoQyxZQXNDQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTRyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQXRDaEhXLE9BQU9DLGVBQWVyQixFQUFTLGNBQzdCcUMsT0FBTyxHQUdULElBQUk4RCxHQUFXL0UsT0FBT2dGLFFBQVUsU0FBVXhGLEdBQVUsSUFBSyxHQUFJRSxHQUFJLEVBQUdBLEVBQUl3QyxVQUFVdkMsT0FBUUQsSUFBSyxDQUFFLEdBQUl1RixHQUFTL0MsVUFBVXhDLEVBQUksS0FBSyxHQUFJUSxLQUFPK0UsR0FBY2pGLE9BQU9LLFVBQVU2RSxlQUFlQyxLQUFLRixFQUFRL0UsS0FBUVYsRUFBT1UsR0FBTytFLEVBQU8vRSxJQUFZLE1BQU9WLElBRW5QRixFQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixNRXBOamlCZ0csRUFBQXZHLEVBQUEsS0FDQXdHLEdGdU5ldkcsRUFBdUJzRyxHRXZOdEN2RyxFQUFBLE1GMk5LeUcsRUFBV3hHLEVBQXVCdUcsR0UxTnZDRSxFQUFBMUcsRUFBQSxLRjhOSzJHLEVBQVExRyxFQUF1QnlHLEdFNU5wQ0UsRUFBQTVHLEVBQUEsS0ZnT0s2RyxFQUFZNUcsRUFBdUIyRyxHRS9OeENFLEVBQUE5RyxFQUFBLEtGbU9LK0csRUFBYTlHLEVBQXVCNkcsR0VsT3pDRSxFQUFBaEgsRUFBQSxLRnNPS2lILEVBQVNoSCxFQUF1QitHLEdFcE9yQ0UsR0FEQWxILEVBQUEsS0FDQUEsRUFBQSxNQVlNbUgsR0FBT0MsRUFBRyxNQUFPQyxFQUFHLE1BQU9DLEVBQUcsSUFDOUJDLEdBQ0pDLElBQUssb0dBQ0xDLFFBQVMsd0dBQ1RDLFFBQVMsZ0hBQ1RDLFVBQVcsZ0VBQ1hDLEtBQU0sdUdBQ05DLE1BQU8sbURBQ0VWLEVBQUlDLEVBQUksTUFDUkQsRUFBSUUsRUFBSSxPQUNSRixFQUFJRyxFQUFJLCtJQVVuQixLQUFLLEdBQU1RLEtBQVFQLEdBQ2pCQSxFQUFLTyxJQUFRLEVBQUFmLEVBQUEzRyxTQUFTbUgsRUFBS08sR0FBT1gsRUZxT25DLElFbE9vQjdFLEdGa09WLFdFak9ULFFBQUFBLEtBQWNqQyxFQUFBMkIsS0FBQU0sR0FHWk4sS0FBSytGLFFBQVFSLEVBQUtLLEtBQU0sUUFDeEI1RixLQUFLK0YsUUFBUVIsRUFBS0UsUUFBUyxhQUMzQnpGLEtBQUsrRixRQUFRUixFQUFLRyxRQUFTLFdBQzNCMUYsS0FBS2dHLFVBQVVULEVBQUtNLE1BQU8sU0ZrVTVCLE1BM0ZBcEgsR0FBYTZCLElBQ1hqQixJQUFLLFFBQ0xlLE1BQU8sZUFNUGYsSUFBSyxVQUNMZSxNQUFPLFNFdk9GNkYsRUFBS0MsR0FBVyxHQUFBQyxHQUFBbkcsSUFDdEJ3RCxTQUFRNEMsTUFBSyxFQUFBbkIsRUFBQTdHLFNBQVE4SCxFQUFSLFNBQ2IsRUFBQXJCLEVBQUF6RyxVQUNFNkgsTUFDQUksYUFBYyxnQkFDYkMsS0FBSyxTQUFBQyxHQUNOL0MsUUFBUWdELFNBQVEsRUFBQXZCLEVBQUE3RyxTQUFROEgsRUFBUixRQUNoQjFDLFFBQVE0QyxNQUFLLEVBQUFuQixFQUFBN0csU0FBUThILEVBQVIsV0FDYixJQUFNTyxHQUFPLEdBQUlDLGNBQVcsR0FBSUMsV0FBU0osR0FDekMvQyxTQUFRZ0QsU0FBUSxFQUFBdkIsRUFBQTdHLFNBQVE4SCxFQUFSLFlBRWhCMUMsUUFBUW9ELElBQUlILEdBQ1pqRCxRQUFRNEMsTUFBSyxFQUFBbkIsRUFBQTdHLFNBQVE4SCxFQUFSLFVBQ2IsSUFBTVcsR0FBYVYsRUFBS1csWUFBWUwsRUFDcENqRCxTQUFRZ0QsU0FBUSxFQUFBdkIsRUFBQTdHLFNBQVE4SCxFQUFSLFdBQ2hCMUMsUUFBUW9ELElBQUksV0FBWUMsRUFBV0UsZUY2T3BDMUgsSUFBSyxZQUNMZSxNQUFPLFNFMU9BNkYsRUFBS0MsR0FDYjFDLFFBQVE0QyxNQUFLLEVBQUFuQixFQUFBN0csU0FBUThILEVBQVIsU0FDYixFQUFBckIsRUFBQXpHLFVBQ0U2SCxNQUNBSSxhQUFjLGdCQUNiQyxLQUFLLFNBQUFDLEdBQ04vQyxRQUFRZ0QsU0FBUSxFQUFBdkIsRUFBQTdHLFNBQVE4SCxFQUFSLFFBQ2hCMUMsUUFBUTRDLE1BQUssRUFBQW5CLEVBQUE3RyxTQUFROEgsRUFBUixtQkFFYixJQUFJVyxJQUNGRyxLQUFNLG9CQUNORCxZQUdGRixHQUFhSSxVQUFPQyxPQUFPLEdBQUlQLFdBQVNKLElBQ3hDL0MsUUFBUWdELFNBQVEsRUFBQXZCLEVBQUE3RyxTQUFROEgsRUFBUixvQkFDaEIxQyxRQUFRb0QsSUFBSSxhQUFjQyxHQUMxQnJELFFBQVFvRCxJQUFJLFdBQVlDLEVBQVdFLGVGOE9wQzFILElBQUssY0FDTGUsTUFBTyxTRTNPRXFHLEdBQ1YsR0FBSUksSUFDRkcsS0FBTSxvQkFDTkQsYUFHRUksRUFBU2hJLE9BQU9pSSxLQUFLWCxFQUFLVSxPQTJCOUIsT0F6Qks3RixPQUFNK0YsUUFBUUYsS0FDakJBLEdBQVVBLElBR1ozRCxRQUFRb0QsSUFBUixXQUF1Qk8sRUFBT3JJLE9BQTlCLEtBQ0FxSSxFQUFPRyxRQUFRLFNBQUNDLEdBSWQsSUFBSyxHQUhDQyxHQUFRZixFQUFLVSxPQUFPSSxHQUVwQkUsRUFBTUQsRUFBTTFJLE9BQ1RELEVBQUksRUFBR0EsRUFBSTRJLEVBQUs1SSxJQUFLLENBRTVCLEdBQU02SSxRQUNERixFQUFNRSxRQUFRN0ksR0FBRzhJLFVBQVV4QyxFQUFJQyxFQUFHRCxFQUFJRSxFQUFHRixFQUFJRyxHQUc5Q21DLEdBQU0sSUFDUkMsRUFBUUUsV0FBV0osTUFBUUQsR0FHN0IvRCxRQUFRb0QsSUFBSSxVQUFXYyxHQUV2QmIsRUFBV0UsU0FBU2MsS0FBS0gsTUFJdEJiLEtGNE9OeEgsSUFBSyxTQUNMZSxNQUFPLGdCQUdGRSxJQUdUdkMsR0FBUUssUUU1VVlrQyxHRmdWZndILElBQ0EsU0FBVWhLLEVBQVFDLEVBQVNDLEdHN1hqQ0YsRUFBQUMsUUFBQUMsRUFBQSxNSG1ZTStKLElBQ0EsU0FBVWpLLEVBQVFDLEVBQVNDLEdJcFlqQyxZQWNBLFNBQUFnSyxHQUFBQyxHQUNBLEdBQUFDLEdBQUEsR0FBQUMsR0FBQUYsR0FDQTNKLEVBQUFpQyxFQUFBNEgsRUFBQTNJLFVBQUE0SSxRQUFBRixFQVFBLE9BTEFHLEdBQUFDLE9BQUFoSyxFQUFBNkosRUFBQTNJLFVBQUEwSSxHQUdBRyxFQUFBQyxPQUFBaEssRUFBQTRKLEdBRUE1SixFQXRCQSxHQUFBK0osR0FBQXJLLEVBQUEsS0FDQXVDLEVBQUF2QyxFQUFBLEtBQ0FtSyxFQUFBbkssRUFBQSxLQUNBdUssRUFBQXZLLEVBQUEsS0FDQXdLLEVBQUF4SyxFQUFBLEtBc0JBeUssRUFBQVQsRUFBQVEsRUFHQUMsR0FBQU4sUUFHQU0sRUFBQUMsT0FBQSxTQUFBQyxHQUNBLE1BQUFYLEdBQUFPLEVBQUFFLEVBQUFELFNBQUFHLEtBSUFGLEVBQUFHLE9BQUE1SyxFQUFBLEtBQ0F5SyxFQUFBSSxZQUFBN0ssRUFBQSxLQUNBeUssRUFBQUssU0FBQTlLLEVBQUEsS0FHQXlLLEVBQUFNLElBQUEsU0FBQUMsR0FDQSxNQUFBQyxTQUFBRixJQUFBQyxJQUVBUCxFQUFBUyxPQUFBbEwsRUFBQSxLQUVBRixFQUFBQyxRQUFBMEssRUFHQTNLLEVBQUFDLFFBQUFLLFFBQUFxSyxHSjJZTVUsSUFDQSxTQUFVckwsRUFBUUMsRUFBU0MsR0toY2pDLFlBaUJBLFNBQUFxSixHQUFBK0IsR0FDQSx5QkFBQUMsRUFBQS9FLEtBQUE4RSxHQVNBLFFBQUFFLEdBQUFGLEdBQ0EsK0JBQUFDLEVBQUEvRSxLQUFBOEUsR0FTQSxRQUFBRyxHQUFBSCxHQUNBLHlCQUFBSSxXQUFBSixZQUFBSSxVQVNBLFFBQUFDLEdBQUFMLEdBQ0EsR0FBQU0sRUFNQSxPQUpBQSxHQURBLG1CQUFBQywwQkFBQSxPQUNBQSxZQUFBQyxPQUFBUixHQUVBLEdBQUFBLEVBQUEsUUFBQUEsRUFBQTdDLGlCQUFBb0QsYUFXQSxRQUFBRSxHQUFBVCxHQUNBLHNCQUFBQSxHQVNBLFFBQUFVLEdBQUFWLEdBQ0Esc0JBQUFBLEdBU0EsUUFBQVcsR0FBQVgsR0FDQSx5QkFBQUEsR0FTQSxRQUFBWSxHQUFBWixHQUNBLGNBQUFBLEdBQUEsZ0JBQUFBLEdBU0EsUUFBQWEsR0FBQWIsR0FDQSx3QkFBQUMsRUFBQS9FLEtBQUE4RSxHQVNBLFFBQUFjLEdBQUFkLEdBQ0Esd0JBQUFDLEVBQUEvRSxLQUFBOEUsR0FTQSxRQUFBZSxHQUFBZixHQUNBLHdCQUFBQyxFQUFBL0UsS0FBQThFLEdBU0EsUUFBQWdCLEdBQUFoQixHQUNBLDRCQUFBQyxFQUFBL0UsS0FBQThFLEdBU0EsUUFBQWlCLEdBQUFqQixHQUNBLE1BQUFZLEdBQUFaLElBQUFnQixFQUFBaEIsRUFBQWtCLE1BU0EsUUFBQUMsR0FBQW5CLEdBQ0EseUJBQUFvQixrQkFBQXBCLFlBQUFvQixpQkFTQSxRQUFBQyxHQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFFBQUEsV0FBQUEsUUFBQSxXQWtCQSxRQUFBQyxLQUNBLDBCQUFBQyxZQUFBLGdCQUFBQSxVQUFBQyxTQUNBLGlCQUFBRCxVQUFBQyxTQUNBLE9BQUFELFVBQUFDLFdBSUEsbUJBQUFqTCxTQUNBLG1CQUFBa0wsV0FnQkEsUUFBQXpELEdBQUFwSixFQUFBOE0sR0FFQSxVQUFBOU0sR0FBQSxtQkFBQUEsR0FVQSxHQUxBLGdCQUFBQSxLQUVBQSxPQUdBbUosRUFBQW5KLEdBRUEsT0FBQVcsR0FBQSxFQUFBb00sRUFBQS9NLEVBQUFZLE9BQW1DRCxFQUFBb00sRUFBT3BNLElBQzFDbU0sRUFBQTFHLEtBQUEsS0FBQXBHLEVBQUFXLEtBQUFYLE9BSUEsUUFBQW1CLEtBQUFuQixHQUNBaUIsT0FBQUssVUFBQTZFLGVBQUFDLEtBQUFwRyxFQUFBbUIsSUFDQTJMLEVBQUExRyxLQUFBLEtBQUFwRyxFQUFBbUIsS0FBQW5CLEdBdUJBLFFBQUFnTixLQUVBLFFBQUFDLEdBQUEvQixFQUFBL0osR0FDQSxnQkFBQXFLLEdBQUFySyxJQUFBLGdCQUFBK0osR0FDQU0sRUFBQXJLLEdBQUE2TCxFQUFBeEIsRUFBQXJLLEdBQUErSixHQUVBTSxFQUFBckssR0FBQStKLEVBSUEsT0FUQU0sTUFTQTdLLEVBQUEsRUFBQW9NLEVBQUE1SixVQUFBdkMsT0FBdUNELEVBQUFvTSxFQUFPcE0sSUFDOUN5SSxFQUFBakcsVUFBQXhDLEdBQUFzTSxFQUVBLE9BQUF6QixHQVdBLFFBQUEwQixLQUVBLFFBQUFELEdBQUEvQixFQUFBL0osR0FDQSxnQkFBQXFLLEdBQUFySyxJQUFBLGdCQUFBK0osR0FDQU0sRUFBQXJLLEdBQUErTCxFQUFBMUIsRUFBQXJLLEdBQUErSixHQUNLLGdCQUFBQSxHQUNMTSxFQUFBckssR0FBQStMLEtBQWdDaEMsR0FFaENNLEVBQUFySyxHQUFBK0osRUFJQSxPQVhBTSxNQVdBN0ssRUFBQSxFQUFBb00sRUFBQTVKLFVBQUF2QyxPQUF1Q0QsRUFBQW9NLEVBQU9wTSxJQUM5Q3lJLEVBQUFqRyxVQUFBeEMsR0FBQXNNLEVBRUEsT0FBQXpCLEdBV0EsUUFBQXBCLEdBQUErQyxFQUFBQyxFQUFBQyxHQVFBLE1BUEFqRSxHQUFBZ0UsRUFBQSxTQUFBbEMsRUFBQS9KLEdBQ0FrTSxHQUFBLGtCQUFBbkMsR0FDQWlDLEVBQUFoTSxHQUFBa0IsRUFBQTZJLEVBQUFtQyxHQUVBRixFQUFBaE0sR0FBQStKLElBR0FpQyxFQWxUQSxHQUFBOUssR0FBQXZDLEVBQUEsS0FDQXdOLEVBQUF4TixFQUFBLEtBTUFxTCxFQUFBbEssT0FBQUssVUFBQTZKLFFBOFNBdkwsR0FBQUMsU0FDQXNKLFVBQ0FpQyxnQkFDQWtDLFdBQ0FqQyxhQUNBRSxvQkFDQUksV0FDQUMsV0FDQUUsV0FDQUQsY0FDQUUsU0FDQUMsU0FDQUMsU0FDQUMsYUFDQUMsV0FDQUUsb0JBQ0FLLHVCQUNBdEQsVUFDQTRELFFBQ0FFLFlBQ0E5QyxTQUNBbUMsU0x3Y01nQixJQUNBLFNBQVUzTixFQUFRQyxHTXJ4QnhCLFlBRUFELEdBQUFDLFFBQUEsU0FBQWlOLEVBQUFPLEdBQ0Esa0JBRUEsT0FEQUcsR0FBQSxHQUFBcEssT0FBQUQsVUFBQXZDLFFBQ0FELEVBQUEsRUFBbUJBLEVBQUE2TSxFQUFBNU0sT0FBaUJELElBQ3BDNk0sRUFBQTdNLEdBQUF3QyxVQUFBeEMsRUFFQSxPQUFBbU0sR0FBQWpLLE1BQUF3SyxFQUFBRyxNTjh4Qk1DLElBQ0EsU0FBVTdOLEVBQVFDLEdPMXhCeEIsUUFBQXlOLEdBQUF0TixHQUNBLFFBQUFBLEVBQUEwTixhQUFBLGtCQUFBMU4sR0FBQTBOLFlBQUFKLFVBQUF0TixFQUFBME4sWUFBQUosU0FBQXROLEdBSUEsUUFBQTJOLEdBQUEzTixHQUNBLHdCQUFBQSxHQUFBNE4sYUFBQSxrQkFBQTVOLEdBQUE2TixPQUFBUCxFQUFBdE4sRUFBQTZOLE1BQUEsTUFWQWpPLEVBQUFDLFFBQUEsU0FBQUcsR0FDQSxhQUFBQSxJQUFBc04sRUFBQXROLElBQUEyTixFQUFBM04sUUFBQThOLGFQd3pCTUMsSUFDQSxTQUFVbk8sRUFBUUMsRUFBU0MsR1FuMEJqQyxZQWFBLFNBQUFtSyxHQUFBUSxHQUNBM0ksS0FBQXdJLFNBQUFHLEVBQ0EzSSxLQUFBa00sY0FDQTlELFFBQUEsR0FBQStELEdBQ0FDLFNBQUEsR0FBQUQsSUFmQSxHQUFBOUQsR0FBQXJLLEVBQUEsS0FDQXFPLEVBQUFyTyxFQUFBLEtBQ0FtTyxFQUFBbk8sRUFBQSxLQUNBc08sRUFBQXRPLEVBQUEsS0FDQXVLLEVBQUF2SyxFQUFBLElBb0JBbUssR0FBQTNJLFVBQUE0SSxRQUFBLFNBQUFtRSxHQUdBLGdCQUFBQSxJQUNBQSxFQUFBbEwsVUFBQSxPQUNBa0wsRUFBQXRHLElBQUE1RSxVQUFBLElBRUFrTCxRQUdBQSxFQUFBaEUsRUFBQXZJLEtBQUF3SSxTQUFBK0QsR0FDQUEsRUFBQUMsT0FBQUQsRUFBQUMsT0FBQUQsRUFBQUMsT0FBQUMsY0FBQSxLQUdBLElBQUFDLElBQUFKLEVBQUFLLFFBQ0FDLEVBQUEzRCxRQUFBNEQsUUFBQU4sRUFVQSxLQVJBdk0sS0FBQWtNLGFBQUE5RCxRQUFBZCxRQUFBLFNBQUF3RixHQUNBSixFQUFBSyxRQUFBRCxFQUFBRSxVQUFBRixFQUFBRyxZQUdBak4sS0FBQWtNLGFBQUFFLFNBQUE5RSxRQUFBLFNBQUF3RixHQUNBSixFQUFBN0UsS0FBQWlGLEVBQUFFLFVBQUFGLEVBQUFHLFlBR0FQLEVBQUE1TixRQUNBOE4sSUFBQXRHLEtBQUFvRyxFQUFBUSxRQUFBUixFQUFBUSxRQUdBLE9BQUFOLElBR0F6RSxFQUFBM0ksVUFBQTJOLE9BQUEsU0FBQVosR0FFQSxNQURBQSxHQUFBaEUsRUFBQXZJLEtBQUF3SSxTQUFBK0QsR0FDQUYsRUFBQUUsRUFBQXRHLElBQUFzRyxFQUFBdkwsT0FBQXVMLEVBQUFhLGtCQUFBekMsUUFBQSxXQUlBdEMsRUFBQWYsU0FBQSwwQ0FBQWtGLEdBRUFyRSxFQUFBM0ksVUFBQWdOLEdBQUEsU0FBQXZHLEVBQUFzRyxHQUNBLE1BQUF2TSxNQUFBb0ksUUFBQUMsRUFBQTZDLE1BQUFxQixPQUNBQyxTQUNBdkcsWUFLQW9DLEVBQUFmLFNBQUEsK0JBQUFrRixHQUVBckUsRUFBQTNJLFVBQUFnTixHQUFBLFNBQUF2RyxFQUFBb0gsRUFBQWQsR0FDQSxNQUFBdk0sTUFBQW9JLFFBQUFDLEVBQUE2QyxNQUFBcUIsT0FDQUMsU0FDQXZHLE1BQ0FvSCxhQUtBdlAsRUFBQUMsUUFBQW9LLEdSMDBCTW1GLElBQ0EsU0FBVXhQLEVBQVFDLEVBQVNDLEdTaDZCakMsWUFJQSxTQUFBdVAsR0FBQW5FLEdBQ0EsTUFBQW9FLG9CQUFBcEUsR0FDQXVCLFFBQUEsYUFDQUEsUUFBQSxhQUNBQSxRQUFBLFlBQ0FBLFFBQUEsYUFDQUEsUUFBQSxZQUNBQSxRQUFBLGFBQ0FBLFFBQUEsYUFWQSxHQUFBdEMsR0FBQXJLLEVBQUEsSUFvQkFGLEdBQUFDLFFBQUEsU0FBQWtJLEVBQUFqRixFQUFBb00sR0FFQSxJQUFBcE0sRUFDQSxNQUFBaUYsRUFHQSxJQUFBd0gsRUFDQSxJQUFBTCxFQUNBSyxFQUFBTCxFQUFBcE0sT0FDRyxJQUFBcUgsRUFBQWtDLGtCQUFBdkosR0FDSHlNLEVBQUF6TSxFQUFBcUksZUFDRyxDQUNILEdBQUFxRSxLQUVBckYsR0FBQWYsUUFBQXRHLEVBQUEsU0FBQW9JLEVBQUEvSixHQUNBLE9BQUErSixHQUFBLG1CQUFBQSxLQUlBZixFQUFBaEIsUUFBQStCLEdBQ0EvSixHQUFBLEtBRUErSixNQUdBZixFQUFBZixRQUFBOEIsRUFBQSxTQUFBdUUsR0FDQXRGLEVBQUE0QixPQUFBMEQsR0FDQUEsSUFBQUMsY0FDU3ZGLEVBQUEyQixTQUFBMkQsS0FDVEEsRUFBQUUsS0FBQUMsVUFBQUgsSUFFQUQsRUFBQTdGLEtBQUEwRixFQUFBbE8sR0FBQSxJQUFBa08sRUFBQUksU0FJQUYsRUFBQUMsRUFBQUssS0FBQSxLQUdBLEdBQUFOLEVBQUEsQ0FDQSxHQUFBTyxHQUFBL0gsRUFBQWdJLFFBQUEsSUFDQUQsTUFBQSxJQUNBL0gsSUFBQThGLE1BQUEsRUFBQWlDLElBR0EvSCxNQUFBZ0ksUUFBQSxtQkFBQVIsRUFHQSxNQUFBeEgsS1R3NkJNaUksSUFDQSxTQUFVcFEsRUFBUUMsRUFBU0MsR1U5K0JqQyxZQUlBLFNBQUFtTyxLQUNBbk0sS0FBQW1PLFlBSEEsR0FBQTlGLEdBQUFySyxFQUFBLElBY0FtTyxHQUFBM00sVUFBQTRPLElBQUEsU0FBQXBCLEVBQUFDLEdBS0EsTUFKQWpOLE1BQUFtTyxTQUFBdEcsTUFDQW1GLFlBQ0FDLGFBRUFqTixLQUFBbU8sU0FBQXJQLE9BQUEsR0FRQXFOLEVBQUEzTSxVQUFBNk8sTUFBQSxTQUFBQyxHQUNBdE8sS0FBQW1PLFNBQUFHLEtBQ0F0TyxLQUFBbU8sU0FBQUcsR0FBQSxPQVlBbkMsRUFBQTNNLFVBQUE4SCxRQUFBLFNBQUEwRCxHQUNBM0MsRUFBQWYsUUFBQXRILEtBQUFtTyxTQUFBLFNBQUFJLEdBQ0EsT0FBQUEsR0FDQXZELEVBQUF1RCxNQUtBelEsRUFBQUMsUUFBQW9PLEdWcS9CTXFDLElBQ0EsU0FBVTFRLEVBQVFDLEVBQVNDLEdXemlDakMsWUFZQSxTQUFBeVEsR0FBQWxDLEdBQ0FBLEVBQUFtQyxhQUNBbkMsRUFBQW1DLFlBQUFDLG1CQVpBLEdBQUF0RyxHQUFBckssRUFBQSxLQUNBNFEsRUFBQTVRLEVBQUEsS0FDQThLLEVBQUE5SyxFQUFBLEtBQ0F3SyxFQUFBeEssRUFBQSxLQUNBNlEsRUFBQTdRLEVBQUEsS0FDQThRLEVBQUE5USxFQUFBLElBaUJBRixHQUFBQyxRQUFBLFNBQUF3TyxHQUNBa0MsRUFBQWxDLEdBR0FBLEVBQUF3QyxVQUFBRixFQUFBdEMsRUFBQXRHLE9BQ0FzRyxFQUFBdEcsSUFBQTZJLEVBQUF2QyxFQUFBd0MsUUFBQXhDLEVBQUF0RyxNQUlBc0csRUFBQXlDLFFBQUF6QyxFQUFBeUMsWUFHQXpDLEVBQUFjLEtBQUF1QixFQUNBckMsRUFBQWMsS0FDQWQsRUFBQXlDLFFBQ0F6QyxFQUFBMEMsa0JBSUExQyxFQUFBeUMsUUFBQTNHLEVBQUE2QyxNQUNBcUIsRUFBQXlDLFFBQUFFLFdBQ0EzQyxFQUFBeUMsUUFBQXpDLEVBQUFDLFlBQ0FELEVBQUF5QyxhQUdBM0csRUFBQWYsU0FDQSxxREFDQSxTQUFBa0YsU0FDQUQsR0FBQXlDLFFBQUF4QyxJQUlBLElBQUEyQyxHQUFBNUMsRUFBQTRDLFNBQUEzRyxFQUFBMkcsT0FFQSxPQUFBQSxHQUFBNUMsR0FBQWpHLEtBQUEsU0FBQThGLEdBVUEsTUFUQXFDLEdBQUFsQyxHQUdBSCxFQUFBaUIsS0FBQXVCLEVBQ0F4QyxFQUFBaUIsS0FDQWpCLEVBQUE0QyxRQUNBekMsRUFBQTZDLG1CQUdBaEQsR0FDRyxTQUFBaUQsR0FjSCxNQWJBdkcsR0FBQXVHLEtBQ0FaLEVBQUFsQyxHQUdBOEMsS0FBQWpELFdBQ0FpRCxFQUFBakQsU0FBQWlCLEtBQUF1QixFQUNBUyxFQUFBakQsU0FBQWlCLEtBQ0FnQyxFQUFBakQsU0FBQTRDLFFBQ0F6QyxFQUFBNkMscUJBS0FuRyxRQUFBcUcsT0FBQUQsT1hrakNNRSxJQUNBLFNBQVV6UixFQUFRQyxFQUFTQyxHWXRvQ2pDLFlBRUEsSUFBQXFLLEdBQUFySyxFQUFBLElBVUFGLEdBQUFDLFFBQUEsU0FBQXNQLEVBQUEyQixFQUFBUSxHQU1BLE1BSkFuSCxHQUFBZixRQUFBa0ksRUFBQSxTQUFBeEUsR0FDQXFDLEVBQUFyQyxFQUFBcUMsRUFBQTJCLEtBR0EzQixJWjhvQ01vQyxJQUNBLFNBQVUzUixFQUFRQyxHYWpxQ3hCLFlBRUFELEdBQUFDLFFBQUEsU0FBQXFDLEdBQ0EsU0FBQUEsTUFBQXNQLGNieXFDTUMsSUFDQSxTQUFVN1IsRUFBUUMsRUFBU0MsSWM3cUNqQyxTQUFBNFIsR0FBQSxZQVNBLFNBQUFDLEdBQUFiLEVBQUE1TyxJQUNBaUksRUFBQTBCLFlBQUFpRixJQUFBM0csRUFBQTBCLFlBQUFpRixFQUFBLG1CQUNBQSxFQUFBLGdCQUFBNU8sR0FJQSxRQUFBMFAsS0FDQSxHQUFBWCxFQVNBLE9BUEEsbUJBQUFTLElBQUEscUJBQUF6USxPQUFBSyxVQUFBNkosU0FBQS9FLEtBQUFzTCxHQUVBVCxFQUFBblIsRUFBQSxLQUNHLG1CQUFBK1Isa0JBRUhaLEVBQUFuUixFQUFBLE1BRUFtUixFQXZCQSxHQUFBOUcsR0FBQXJLLEVBQUEsS0FDQWdTLEVBQUFoUyxFQUFBLEtBRUFpUyxHQUNBQyxlQUFBLHFDQXNCQTFILEdBQ0EyRyxRQUFBVyxJQUVBYixrQkFBQSxTQUFBNUIsRUFBQTJCLEdBR0EsTUFGQWdCLEdBQUFoQixFQUFBLFVBQ0FnQixFQUFBaEIsRUFBQSxnQkFDQTNHLEVBQUFrQixXQUFBOEQsSUFDQWhGLEVBQUFpQixjQUFBK0QsSUFDQWhGLEVBQUFtRCxTQUFBNkIsSUFDQWhGLEVBQUFnQyxTQUFBZ0QsSUFDQWhGLEVBQUE2QixPQUFBbUQsSUFDQWhGLEVBQUE4QixPQUFBa0QsR0FFQUEsRUFFQWhGLEVBQUFvQixrQkFBQTRELEdBQ0FBLEVBQUE5RyxPQUVBOEIsRUFBQWtDLGtCQUFBOEMsSUFDQXdDLEVBQUFiLEVBQUEsbURBQ0EzQixFQUFBaEUsWUFFQWhCLEVBQUEyQixTQUFBcUQsSUFDQXdDLEVBQUFiLEVBQUEsa0NBQ0FuQixLQUFBQyxVQUFBVCxJQUVBQSxJQUdBK0IsbUJBQUEsU0FBQS9CLEdBRUEsbUJBQUFBLEdBQ0EsSUFDQUEsRUFBQVEsS0FBQXNDLE1BQUE5QyxHQUNPLE1BQUErQyxJQUVQLE1BQUEvQyxLQU9BZ0QsUUFBQSxFQUVBQyxlQUFBLGFBQ0FDLGVBQUEsZUFFQUMsa0JBQUEsRUFFQUMsZUFBQSxTQUFBQyxHQUNBLE1BQUFBLElBQUEsS0FBQUEsRUFBQSxLQUlBbEksR0FBQXdHLFNBQ0FFLFFBQ0F5QixPQUFBLHNDQUlBdEksRUFBQWYsU0FBQSxnQ0FBQWtGLEdBQ0FoRSxFQUFBd0csUUFBQXhDLFFBR0FuRSxFQUFBZixTQUFBLCtCQUFBa0YsR0FDQWhFLEVBQUF3RyxRQUFBeEMsR0FBQW5FLEVBQUE2QyxNQUFBK0UsS0FHQW5TLEVBQUFDLFFBQUF5SyxJZGlyQzhCbEUsS0FBS3ZHLEVBQVNDLEVBQW9CLE9BSTFENFMsSUFDQSxTQUFVOVMsRUFBUUMsR2U1d0N4QixRQUFBOFMsS0FDQSxTQUFBQyxPQUFBLG1DQUVBLFFBQUFDLEtBQ0EsU0FBQUQsT0FBQSxxQ0FzQkEsUUFBQUUsR0FBQUMsR0FDQSxHQUFBQyxJQUFBL1AsV0FFQSxNQUFBQSxZQUFBOFAsRUFBQSxFQUdBLEtBQUFDLElBQUFMLElBQUFLLElBQUEvUCxXQUVBLE1BREErUCxHQUFBL1AsV0FDQUEsV0FBQThQLEVBQUEsRUFFQSxLQUVBLE1BQUFDLEdBQUFELEVBQUEsR0FDSyxNQUFBYixHQUNMLElBRUEsTUFBQWMsR0FBQTVNLEtBQUEsS0FBQTJNLEVBQUEsR0FDUyxNQUFBYixHQUVULE1BQUFjLEdBQUE1TSxLQUFBdEUsS0FBQWlSLEVBQUEsS0FNQSxRQUFBRSxHQUFBQyxHQUNBLEdBQUFDLElBQUFwUSxhQUVBLE1BQUFBLGNBQUFtUSxFQUdBLEtBQUFDLElBQUFOLElBQUFNLElBQUFwUSxhQUVBLE1BREFvUSxHQUFBcFEsYUFDQUEsYUFBQW1RLEVBRUEsS0FFQSxNQUFBQyxHQUFBRCxHQUNLLE1BQUFoQixHQUNMLElBRUEsTUFBQWlCLEdBQUEvTSxLQUFBLEtBQUE4TSxHQUNTLE1BQUFoQixHQUdULE1BQUFpQixHQUFBL00sS0FBQXRFLEtBQUFvUixLQVlBLFFBQUFFLEtBQ0FDLEdBQUFDLElBR0FELEdBQUEsRUFDQUMsRUFBQTFTLE9BQ0EyUyxFQUFBRCxFQUFBRSxPQUFBRCxHQUVBRSxHQUFBLEVBRUFGLEVBQUEzUyxRQUNBOFMsS0FJQSxRQUFBQSxLQUNBLElBQUFMLEVBQUEsQ0FHQSxHQUFBbEIsR0FBQVcsRUFBQU0sRUFDQUMsSUFBQSxDQUdBLEtBREEsR0FBQTlKLEdBQUFnSyxFQUFBM1MsT0FDQTJJLEdBQUEsQ0FHQSxJQUZBK0osRUFBQUMsRUFDQUEsT0FDQUUsRUFBQWxLLEdBQ0ErSixHQUNBQSxFQUFBRyxHQUFBRSxLQUdBRixJQUFBLEVBQ0FsSyxFQUFBZ0ssRUFBQTNTLE9BRUEwUyxFQUFBLEtBQ0FELEdBQUEsRUFDQUosRUFBQWQsSUFpQkEsUUFBQXlCLEdBQUFiLEVBQUFjLEdBQ0EvUixLQUFBaVIsTUFDQWpSLEtBQUErUixRQVlBLFFBQUFDLE1BaEtBLEdBT0FkLEdBQ0FHLEVBUkF6QixFQUFBOVIsRUFBQUMsWUFnQkEsV0FDQSxJQUVBbVQsRUFEQSxrQkFBQS9QLFlBQ0FBLFdBRUEwUCxFQUVLLE1BQUFULEdBQ0xjLEVBQUFMLEVBRUEsSUFFQVEsRUFEQSxrQkFBQXBRLGNBQ0FBLGFBRUE4UCxFQUVLLE1BQUFYLEdBQ0xpQixFQUFBTixLQXVEQSxJQUVBUyxHQUZBQyxLQUNBRixHQUFBLEVBRUFJLEdBQUEsQ0F5Q0EvQixHQUFBcUMsU0FBQSxTQUFBaEIsR0FDQSxHQUFBdkYsR0FBQSxHQUFBcEssT0FBQUQsVUFBQXZDLE9BQUEsRUFDQSxJQUFBdUMsVUFBQXZDLE9BQUEsRUFDQSxPQUFBRCxHQUFBLEVBQXVCQSxFQUFBd0MsVUFBQXZDLE9BQXNCRCxJQUM3QzZNLEVBQUE3TSxFQUFBLEdBQUF3QyxVQUFBeEMsRUFHQTRTLEdBQUE1SixLQUFBLEdBQUFpSyxHQUFBYixFQUFBdkYsSUFDQSxJQUFBK0YsRUFBQTNTLFFBQUF5UyxHQUNBUCxFQUFBWSxJQVNBRSxFQUFBdFMsVUFBQXFTLElBQUEsV0FDQTdSLEtBQUFpUixJQUFBbFEsTUFBQSxLQUFBZixLQUFBK1IsUUFFQW5DLEVBQUFzQyxNQUFBLFVBQ0F0QyxFQUFBdUMsU0FBQSxFQUNBdkMsRUFBQXdDLE9BQ0F4QyxFQUFBeUMsUUFDQXpDLEVBQUEwQyxRQUFBLEdBQ0ExQyxFQUFBMkMsWUFJQTNDLEVBQUE0QyxHQUFBUixFQUNBcEMsRUFBQTZDLFlBQUFULEVBQ0FwQyxFQUFBOEMsS0FBQVYsRUFDQXBDLEVBQUErQyxJQUFBWCxFQUNBcEMsRUFBQWdELGVBQUFaLEVBQ0FwQyxFQUFBaUQsbUJBQUFiLEVBQ0FwQyxFQUFBa0QsS0FBQWQsRUFDQXBDLEVBQUFtRCxnQkFBQWYsRUFDQXBDLEVBQUFvRCxvQkFBQWhCLEVBRUFwQyxFQUFBcUQsVUFBQSxTQUFBQyxHQUFxQyxVQUVyQ3RELEVBQUF1RCxRQUFBLFNBQUFELEdBQ0EsU0FBQXBDLE9BQUEscUNBR0FsQixFQUFBd0QsSUFBQSxXQUEyQixXQUMzQnhELEVBQUF5RCxNQUFBLFNBQUFDLEdBQ0EsU0FBQXhDLE9BQUEsbUNBRUFsQixFQUFBMkQsTUFBQSxXQUE0QixXZjh4Q3RCQyxJQUNBLFNBQVUxVixFQUFRQyxFQUFTQyxHZ0J0OUNqQyxZQUVBLElBQUFxSyxHQUFBckssRUFBQSxJQUVBRixHQUFBQyxRQUFBLFNBQUFpUixFQUFBeUUsR0FDQXBMLEVBQUFmLFFBQUEwSCxFQUFBLFNBQUE1TyxFQUFBOFMsR0FDQUEsSUFBQU8sR0FBQVAsRUFBQVEsZ0JBQUFELEVBQUFDLGdCQUNBMUUsRUFBQXlFLEdBQUFyVCxRQUNBNE8sR0FBQWtFLFFoQmcrQ01TLElBQ0EsU0FBVTdWLEVBQVFDLEVBQVNDLEdpQnorQ2pDLFlBRUEsSUFBQXFLLEdBQUFySyxFQUFBLEtBQ0E0VixFQUFBNVYsRUFBQSxLQUNBcU8sRUFBQXJPLEVBQUEsS0FDQTZWLEVBQUE3VixFQUFBLEtBQ0E4VixFQUFBOVYsRUFBQSxLQUNBK1YsRUFBQS9WLEVBQUEsSUFFQUYsR0FBQUMsUUFBQSxTQUFBd08sR0FDQSxVQUFBdEQsU0FBQSxTQUFBNEQsRUFBQXlDLEdBQ0EsR0FBQTBFLEdBQUF6SCxFQUFBYyxLQUNBNEcsRUFBQTFILEVBQUF5QyxPQUVBM0csR0FBQWtCLFdBQUF5SyxVQUNBQyxHQUFBLGVBR0EsSUFBQTdMLEdBQUEsR0FBQTJILGVBR0EsSUFBQXhELEVBQUEySCxLQUFBLENBQ0EsR0FBQUMsR0FBQTVILEVBQUEySCxLQUFBQyxVQUFBLEdBQ0FDLEVBQUE3SCxFQUFBMkgsS0FBQUUsVUFBQSxFQUNBSCxHQUFBSSxjQUFBLFNBQUFDLEtBQUFILEVBQUEsSUFBQUMsR0EwRUEsR0F2RUFoTSxFQUFBdkUsS0FBQTBJLEVBQUFDLE9BQUFrSCxjQUFBckgsRUFBQUUsRUFBQXRHLElBQUFzRyxFQUFBdkwsT0FBQXVMLEVBQUFhLG1CQUFBLEdBR0FoRixFQUFBaUksUUFBQTlELEVBQUE4RCxRQUdBakksRUFBQW1NLG1CQUFBLFdBQ0EsR0FBQW5NLEdBQUEsSUFBQUEsRUFBQW9NLGFBUUEsSUFBQXBNLEVBQUFzSSxRQUFBdEksRUFBQXFNLGFBQUEsSUFBQXJNLEVBQUFxTSxZQUFBeEcsUUFBQSxXQUtBLEdBQUF5RyxHQUFBLHlCQUFBdE0sR0FBQXlMLEVBQUF6TCxFQUFBdU0seUJBQUEsS0FDQUMsRUFBQXJJLEVBQUFsRyxjQUFBLFNBQUFrRyxFQUFBbEcsYUFBQStCLEVBQUFnRSxTQUFBaEUsRUFBQXlNLGFBQ0F6SSxHQUNBaUIsS0FBQXVILEVBQ0FsRSxPQUFBdEksRUFBQXNJLE9BQ0FvRSxXQUFBMU0sRUFBQTBNLFdBQ0E5RixRQUFBMEYsRUFDQW5JLFNBQ0FuRSxVQUdBd0wsR0FBQS9HLEVBQUF5QyxFQUFBbEQsR0FHQWhFLEVBQUEsT0FJQUEsRUFBQTJNLFFBQUEsV0FDQTNNLElBSUFrSCxFQUFBeUUsRUFBQSxrQkFBQXhILEVBQUEsZUFBQW5FLElBR0FBLEVBQUEsT0FJQUEsRUFBQTRNLFFBQUEsV0FHQTFGLEVBQUF5RSxFQUFBLGdCQUFBeEgsRUFBQSxLQUFBbkUsSUFHQUEsRUFBQSxNQUlBQSxFQUFBNk0sVUFBQSxXQUNBM0YsRUFBQXlFLEVBQUEsY0FBQXhILEVBQUE4RCxRQUFBLGNBQUE5RCxFQUFBLGVBQ0FuRSxJQUdBQSxFQUFBLE1BTUFDLEVBQUF1Qyx1QkFBQSxDQUNBLEdBQUFzSyxHQUFBbFgsRUFBQSxLQUdBbVgsR0FBQTVJLEVBQUE2SSxpQkFBQXRCLEVBQUF2SCxFQUFBdEcsT0FBQXNHLEVBQUErRCxlQUNBNEUsRUFBQUcsS0FBQTlJLEVBQUErRCxnQkFDQTNELE1BRUF3SSxLQUNBbEIsRUFBQTFILEVBQUFnRSxnQkFBQTRFLEdBdUJBLEdBbEJBLG9CQUFBL00sSUFDQUMsRUFBQWYsUUFBQTJNLEVBQUEsU0FBQTdLLEVBQUEvSixHQUNBLG1CQUFBMlUsSUFBQSxpQkFBQTNVLEVBQUFvTixvQkFFQXdILEdBQUE1VSxHQUdBK0ksRUFBQWtOLGlCQUFBalcsRUFBQStKLEtBTUFtRCxFQUFBNkksa0JBQ0FoTixFQUFBZ04saUJBQUEsR0FJQTdJLEVBQUFsRyxhQUNBLElBQ0ErQixFQUFBL0IsYUFBQWtHLEVBQUFsRyxhQUNPLE1BQUErSixHQUdQLFlBQUE3RCxFQUFBbEcsYUFDQSxLQUFBK0osR0FNQSxrQkFBQTdELEdBQUFnSixvQkFDQW5OLEVBQUE1SCxpQkFBQSxXQUFBK0wsRUFBQWdKLG9CQUlBLGtCQUFBaEosR0FBQWlKLGtCQUFBcE4sRUFBQXFOLFFBQ0FyTixFQUFBcU4sT0FBQWpWLGlCQUFBLFdBQUErTCxFQUFBaUosa0JBR0FqSixFQUFBbUMsYUFFQW5DLEVBQUFtQyxZQUFBOUIsUUFBQXRHLEtBQUEsU0FBQW9QLEdBQ0F0TixJQUlBQSxFQUFBdU4sUUFDQXJHLEVBQUFvRyxHQUVBdE4sRUFBQSxRQUlBdUUsU0FBQXFILElBQ0FBLEVBQUEsTUFJQTVMLEVBQUF3TixLQUFBNUIsT2pCay9DTTZCLElBQ0EsU0FBVS9YLEVBQVFDLEVBQVNDLEdrQjlwRGpDLFlBRUEsSUFBQStWLEdBQUEvVixFQUFBLElBU0FGLEdBQUFDLFFBQUEsU0FBQThPLEVBQUF5QyxFQUFBbEQsR0FDQSxHQUFBcUUsR0FBQXJFLEVBQUFHLE9BQUFrRSxnQkFDQUEsS0FBQXJFLEVBQUFzRSxRQUNBN0QsRUFBQVQsR0FFQWtELEVBQUF5RSxFQUNBLG1DQUFBM0gsRUFBQXNFLE9BQ0F0RSxFQUFBRyxPQUNBLEtBQ0FILEVBQUFoRSxRQUNBZ0UsTWxCd3FETTBKLElBQ0EsU0FBVWhZLEVBQVFDLEVBQVNDLEdtQjlyRGpDLFlBRUEsSUFBQStYLEdBQUEvWCxFQUFBLElBWUFGLEdBQUFDLFFBQUEsU0FBQWlZLEVBQUF6SixFQUFBMEosRUFBQTdOLEVBQUFnRSxHQUNBLEdBQUE4SixHQUFBLEdBQUFwRixPQUFBa0YsRUFDQSxPQUFBRCxHQUFBRyxFQUFBM0osRUFBQTBKLEVBQUE3TixFQUFBZ0UsS25Cc3NETStKLElBQ0EsU0FBVXJZLEVBQVFDLEdvQnZ0RHhCLFlBWUFELEdBQUFDLFFBQUEsU0FBQW1ZLEVBQUEzSixFQUFBMEosRUFBQTdOLEVBQUFnRSxHQTRCQSxNQTNCQThKLEdBQUEzSixTQUNBMEosSUFDQUMsRUFBQUQsUUFHQUMsRUFBQTlOLFVBQ0E4TixFQUFBOUosV0FDQThKLEVBQUFFLGNBQUEsRUFFQUYsRUFBQUcsT0FBQSxXQUNBLE9BRUFMLFFBQUFoVyxLQUFBZ1csUUFDQTlDLEtBQUFsVCxLQUFBa1QsS0FFQW9ELFlBQUF0VyxLQUFBc1csWUFDQUMsT0FBQXZXLEtBQUF1VyxPQUVBQyxTQUFBeFcsS0FBQXdXLFNBQ0FDLFdBQUF6VyxLQUFBeVcsV0FDQUMsYUFBQTFXLEtBQUEwVyxhQUNBQyxNQUFBM1csS0FBQTJXLE1BRUFwSyxPQUFBdk0sS0FBQXVNLE9BQ0EwSixLQUFBalcsS0FBQWlXLE9BR0FDLElwQit0RE1VLElBQ0EsU0FBVTlZLEVBQVFDLEVBQVNDLEdxQnh3RGpDLFlBRUEsSUFBQXFLLEdBQUFySyxFQUFBLEtBSUE2WSxHQUNBLDZEQUNBLGtFQUNBLGdFQUNBLHFDQWdCQS9ZLEdBQUFDLFFBQUEsU0FBQWlSLEdBQ0EsR0FDQTNQLEdBQ0ErSixFQUNBdkssRUFIQWlZLElBS0EsT0FBQTlILElBRUEzRyxFQUFBZixRQUFBMEgsRUFBQStILE1BQUEsZUFBQUMsR0FLQSxHQUpBblksRUFBQW1ZLEVBQUEvSSxRQUFBLEtBQ0E1TyxFQUFBZ0osRUFBQW9DLEtBQUF1TSxFQUFBQyxPQUFBLEVBQUFwWSxJQUFBNE4sY0FDQXJELEVBQUFmLEVBQUFvQyxLQUFBdU0sRUFBQUMsT0FBQXBZLEVBQUEsSUFFQVEsRUFBQSxDQUNBLEdBQUF5WCxFQUFBelgsSUFBQXdYLEVBQUE1SSxRQUFBNU8sSUFBQSxFQUNBLE1BRUEsZ0JBQUFBLEVBQ0F5WCxFQUFBelgsSUFBQXlYLEVBQUF6WCxHQUFBeVgsRUFBQXpYLE9BQUFxUyxRQUFBdEksSUFFQTBOLEVBQUF6WCxHQUFBeVgsRUFBQXpYLEdBQUF5WCxFQUFBelgsR0FBQSxLQUFBK0osT0FLQTBOLEdBbkJpQkEsSXJCbXlEWEksSUFDQSxTQUFVcFosRUFBUUMsRUFBU0MsR3NCcDBEakMsWUFFQSxJQUFBcUssR0FBQXJLLEVBQUEsSUFFQUYsR0FBQUMsUUFDQXNLLEVBQUF1Qyx1QkFJQSxXQVdBLFFBQUF1TSxHQUFBbFIsR0FDQSxHQUFBbVIsR0FBQW5SLENBV0EsT0FUQW9SLEtBRUFDLEVBQUFDLGFBQUEsT0FBQUgsR0FDQUEsRUFBQUUsRUFBQUYsTUFHQUUsRUFBQUMsYUFBQSxPQUFBSCxJQUlBQSxLQUFBRSxFQUFBRixLQUNBSSxTQUFBRixFQUFBRSxTQUFBRixFQUFBRSxTQUFBN00sUUFBQSxZQUNBOE0sS0FBQUgsRUFBQUcsS0FDQUMsT0FBQUosRUFBQUksT0FBQUosRUFBQUksT0FBQS9NLFFBQUEsYUFDQWdOLEtBQUFMLEVBQUFLLEtBQUFMLEVBQUFLLEtBQUFoTixRQUFBLFlBQ0FpTixTQUFBTixFQUFBTSxTQUNBQyxLQUFBUCxFQUFBTyxLQUNBQyxTQUFBLE1BQUFSLEVBQUFRLFNBQUFDLE9BQUEsR0FDQVQsRUFBQVEsU0FDQSxJQUFBUixFQUFBUSxVQWhDQSxHQUVBRSxHQUZBWCxFQUFBLGtCQUFBWSxLQUFBcE4sVUFBQXFOLFdBQ0FaLEVBQUF2TSxTQUFBb04sY0FBQSxJQTJDQSxPQVJBSCxHQUFBYixFQUFBdFgsT0FBQXVZLFNBQUFoQixNQVFBLFNBQUFpQixHQUNBLEdBQUF2QixHQUFBek8sRUFBQXdCLFNBQUF3TyxHQUFBbEIsRUFBQWtCLElBQ0EsT0FBQXZCLEdBQUFVLFdBQUFRLEVBQUFSLFVBQ0FWLEVBQUFXLE9BQUFPLEVBQUFQLFNBS0EsV0FDQSxrQkFDQSxjdEI4MERNYSxJQUNBLFNBQVV4YSxFQUFRQyxFQUFTQyxHdUIvNERqQyxZQUVBLElBQUFxSyxHQUFBckssRUFBQSxJQUVBRixHQUFBQyxRQUNBc0ssRUFBQXVDLHVCQUdBLFdBQ0EsT0FDQTJOLE1BQUEsU0FBQXJGLEVBQUE5UyxFQUFBb1ksRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxLQUNBQSxHQUFBL1EsS0FBQXFMLEVBQUEsSUFBQTFGLG1CQUFBcE4sSUFFQWlJLEVBQUF5QixTQUFBME8sSUFDQUksRUFBQS9RLEtBQUEsY0FBQWdSLE1BQUFMLEdBQUFNLGVBR0F6USxFQUFBd0IsU0FBQTRPLElBQ0FHLEVBQUEvUSxLQUFBLFFBQUE0USxHQUdBcFEsRUFBQXdCLFNBQUE2TyxJQUNBRSxFQUFBL1EsS0FBQSxVQUFBNlEsR0FHQUMsS0FBQSxHQUNBQyxFQUFBL1EsS0FBQSxVQUdBa0QsU0FBQTZOLFNBQUE3SyxLQUFBLE9BR0FzSCxLQUFBLFNBQUFuQyxHQUNBLEdBQUE2RixHQUFBaE8sU0FBQTZOLE9BQUFHLE1BQUEsR0FBQUMsUUFBQSxhQUE0RDlGLEVBQUEsYUFDNUQsT0FBQTZGLEdBQUFFLG1CQUFBRixFQUFBLFVBR0FHLE9BQUEsU0FBQWhHLEdBQ0FsVCxLQUFBdVksTUFBQXJGLEVBQUEsR0FBQTJGLEtBQUFNLE1BQUEsWUFNQSxXQUNBLE9BQ0FaLE1BQUEsYUFDQWxELEtBQUEsV0FBK0IsYUFDL0I2RCxPQUFBLGtCdkJ5NURNRSxJQUNBLFNBQVV0YixFQUFRQyxHd0IzOER4QixZQVFBRCxHQUFBQyxRQUFBLFNBQUFrSSxHQUlBLHNDQUFBZ1MsS0FBQWhTLEt4Qm05RE1vVCxJQUNBLFNBQVV2YixFQUFRQyxHeUJoK0R4QixZQVNBRCxHQUFBQyxRQUFBLFNBQUFnUixFQUFBdUssR0FDQSxNQUFBQSxHQUNBdkssRUFBQXBFLFFBQUEsZUFBQTJPLEVBQUEzTyxRQUFBLFdBQ0FvRSxJekJ3K0RNd0ssSUFDQSxTQUFVemIsRUFBUUMsRUFBU0MsRzBCci9EakMsWUFFQSxJQUFBcUssR0FBQXJLLEVBQUEsSUFVQUYsR0FBQUMsUUFBQSxTQUFBeWIsRUFBQUMsR0FFQUEsT0FDQSxJQUFBbE4sS0FrQ0EsT0FoQ0FsRSxHQUFBZixTQUFBLHlDQUFBeEIsR0FDQSxtQkFBQTJULEdBQUEzVCxLQUNBeUcsRUFBQXpHLEdBQUEyVCxFQUFBM1QsTUFJQXVDLEVBQUFmLFNBQUEsbUNBQUF4QixHQUNBdUMsRUFBQTJCLFNBQUF5UCxFQUFBM1QsSUFDQXlHLEVBQUF6RyxHQUFBdUMsRUFBQStDLFVBQUFvTyxFQUFBMVQsR0FBQTJULEVBQUEzVCxJQUNLLG1CQUFBMlQsR0FBQTNULEdBQ0x5RyxFQUFBekcsR0FBQTJULEVBQUEzVCxHQUNLdUMsRUFBQTJCLFNBQUF3UCxFQUFBMVQsSUFDTHlHLEVBQUF6RyxHQUFBdUMsRUFBQStDLFVBQUFvTyxFQUFBMVQsSUFDSyxtQkFBQTBULEdBQUExVCxLQUNMeUcsRUFBQXpHLEdBQUEwVCxFQUFBMVQsTUFJQXVDLEVBQUFmLFNBQ0Esb0VBQ0Esc0VBQ0EsNEVBQ0EsdUVBQ0EsY0FDQSxTQUFBeEIsR0FDQSxtQkFBQTJULEdBQUEzVCxHQUNBeUcsRUFBQXpHLEdBQUEyVCxFQUFBM1QsR0FDSyxtQkFBQTBULEdBQUExVCxLQUNMeUcsRUFBQXpHLEdBQUEwVCxFQUFBMVQsTUFJQXlHLEkxQjYvRE1tTixJQUNBLFNBQVU1YixFQUFRQyxHMkIvaUV4QixZQVFBLFNBQUE2SyxHQUFBb04sR0FDQWhXLEtBQUFnVyxVQUdBcE4sRUFBQXBKLFVBQUE2SixTQUFBLFdBQ0EsZ0JBQUFySixLQUFBZ1csUUFBQSxLQUFBaFcsS0FBQWdXLFFBQUEsS0FHQXBOLEVBQUFwSixVQUFBa1EsWUFBQSxFQUVBNVIsRUFBQUMsUUFBQTZLLEczQnNqRU0rUSxJQUNBLFNBQVU3YixFQUFRQyxFQUFTQyxHNEJ6a0VqQyxZQVVBLFNBQUE2SyxHQUFBK1EsR0FDQSxxQkFBQUEsR0FDQSxTQUFBcGIsV0FBQSwrQkFHQSxJQUFBcWIsRUFDQTdaLE1BQUE0TSxRQUFBLEdBQUEzRCxTQUFBLFNBQUE0RCxHQUNBZ04sRUFBQWhOLEdBR0EsSUFBQWlOLEdBQUE5WixJQUNBNFosR0FBQSxTQUFBNUQsR0FDQThELEVBQUF6SyxTQUtBeUssRUFBQXpLLE9BQUEsR0FBQXpHLEdBQUFvTixHQUNBNkQsRUFBQUMsRUFBQXpLLFdBMUJBLEdBQUF6RyxHQUFBNUssRUFBQSxJQWlDQTZLLEdBQUFySixVQUFBbVAsaUJBQUEsV0FDQSxHQUFBM08sS0FBQXFQLE9BQ0EsS0FBQXJQLE1BQUFxUCxRQVFBeEcsRUFBQXpFLE9BQUEsV0FDQSxHQUFBc1IsR0FDQW9FLEVBQUEsR0FBQWpSLEdBQUEsU0FBQWtSLEdBQ0FyRSxFQUFBcUUsR0FFQSxRQUNBRCxRQUNBcEUsV0FJQTVYLEVBQUFDLFFBQUE4SyxHNUJnbEVNbVIsSUFDQSxTQUFVbGMsRUFBUUMsRzZCem9FeEIsWUFzQkFELEdBQUFDLFFBQUEsU0FBQWtjLEdBQ0EsZ0JBQUFDLEdBQ0EsTUFBQUQsR0FBQWxaLE1BQUEsS0FBQW1aLE03QmtwRU1DLElBQ0EsU0FBVXJjLEVBQVFDLEVBQVNDLEc4QjNxRWpDLFlBRUFELEdBQUF3UCxPQUFBdlAsRUFBQSxLQUNBRCxFQUFBbUosT0FBQWxKLEVBQUEsTTlCa3JFTW9jLElBQ0EsU0FBVXRjLEVBQVFDLEcrQnRyRXhCLFlBaUJBLFNBQUF3UCxHQUFBclAsRUFBQW1jLEdBQ0FqVCxLQUNBa1QsS0FDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FwSyxFQUFBLEVBRUFxSyxFQUFBdmMsR0FFQWtTLEVBQUFzSyxLQUFBQyxJQUFBdkssRUFBQXdLLEVBR0EsUUFGQUMsR0FBQUgsS0FBQUksS0FBQUosS0FBQTlULElBQUF3SixHQUFBc0ssS0FBQUssTUFFQWxjLEVBQUEsRUFBbUJBLEVBQUF5YixFQUFBeGIsT0FBb0JELElBQUF3YixFQUFBVyxpQkFBQSxFQUFBVixFQUFBemIsR0FVdkMsT0FUQSxLQUFBMmIsR0FBQUgsRUFBQVksaUJBQUEsRUFBQVQsR0FDQSxJQUFBSyxHQUFBUixFQUFBWSxpQkFBQSxFQUFBSixHQUVBLHNCQUFBM2MsRUFBQThJLEtBQUFxVCxFQUFBYSxhQUFBLEVBQUFDLEVBQUFqZCxHQUNBLFlBQUFBLEVBQUE4SSxLQUFBcVQsRUFBQWEsYUFBQSxFQUFBRSxFQUFBbGQsR0FDQW1jLEVBQUFhLGFBQUEsRUFBQUcsRUFBQW5kLEdBRUFrSixFQUFBLEtBRUFpVCxFQUFBaUIsU0FHQSxRQUFBYixHQUFBdmMsR0FDQSxHQUFBVyxHQUFBUSxDQUVBLDBCQUFBbkIsRUFBQThJLEtBQ0EsSUFBQW5JLEVBQUEsRUFBbUJBLEVBQUFYLEVBQUE2SSxTQUFBakksT0FBeUJELElBQUE0YixFQUFBdmMsRUFBQTZJLFNBQUFsSSxRQUV2QyxnQkFBQVgsRUFBQThJLEtBQUEsQ0FDTCxPQUFBOUksRUFBQXFkLFVBQUFkLEVBQUF2YyxFQUFBcWQsU0FDQSxLQUFBbGMsSUFBQW5CLEdBQUEwSixXQUFBNFQsRUFBQW5jLE9BRUssY0FBQW5CLEVBQUE4SSxLQUFBeVUsRUFBQXZkLEVBQUF3ZCxpQkFDTCxtQkFBQXhkLEVBQUE4SSxLQUFBMlUsRUFBQXpkLEVBQUF3ZCxpQkFDQSwyQkFBQXhkLEVBQUE4SSxLQUNBLElBQUFuSSxFQUFBLEVBQW1CQSxFQUFBWCxFQUFBMGQsV0FBQTljLE9BQTJCRCxJQUFBNGIsRUFBQXZjLEVBQUEwZCxXQUFBL2MsUUFFOUMsbUJBQUFYLEVBQUE4SSxLQUFBMlUsRUFBQXpkLEVBQUF3ZCxpQkFDQSxnQkFBQXhkLEVBQUE4SSxNQUFBLG9CQUFBOUksRUFBQThJLEtBQUE2VSxFQUFBM2QsRUFBQXdkLGlCQUNBLHFCQUFBeGQsRUFBQThJLEtBQ0EsSUFBQW5JLEVBQUEsRUFBbUJBLEVBQUFYLEVBQUF3ZCxZQUFBNWMsT0FBNEJELElBQUFnZCxFQUFBM2QsRUFBQXdkLFlBQUE3YyxHQUcvQyxLQUFBUSxJQUFBbkIsR0FDQTRkLEVBQUF6YyxFQUFBbkIsRUFBQThJLE9BQUF3VSxFQUFBbmMsR0FJQSxRQUFBd2MsR0FBQUUsR0FDQSxPQUFBbGQsR0FBQSxFQUFtQkEsRUFBQWtkLEVBQUFqZCxPQUFtQkQsSUFBQThjLEVBQUFJLEVBQUFsZCxJQUd0QyxRQUFBOGMsR0FBQUksR0FDQSxPQUFBbGQsR0FBQSxFQUFtQkEsRUFBQWtkLEVBQUFqZCxPQUFtQkQsSUFBQTRjLEVBQUFNLEVBQUFsZCxJQUd0QyxRQUFBNGMsR0FBQU8sR0FDQXhCLEVBQUFFLEtBQUF1QixJQUFBekIsRUFBQXdCLEVBQUFsZCxPQUdBLFFBQUFELEdBQUEsRUFBbUJBLEVBQUFtZCxFQUFBbGQsT0FBa0JELElBQ3JDLEtBQUE2YixLQUFBd0IsTUFBQUYsRUFBQW5kLEdBQUF1UixPQUFBNEwsRUFBQW5kLElBQUF1UixFQUFBd0ssR0FBQXhLLEdBQUEsR0FJQSxRQUFBb0wsR0FBQW5jLEdBQ0FzTixTQUFBdkYsRUFBQS9ILEtBQ0FpYixFQUFBelMsS0FBQXhJLEdBQ0ErSCxFQUFBL0gsR0FBQWtiLEtBSUEsUUFBQVksR0FBQWpkLEVBQUFtYyxHQUNBLE9BQUF4YixHQUFBLEVBQW1CQSxFQUFBWCxFQUFBNkksU0FBQWpJLE9BQXlCRCxJQUM1Q3diLEVBQUFhLGFBQUEsRUFBQUUsRUFBQWxkLEVBQUE2SSxTQUFBbEksR0FFQXNkLEdBQUFqZSxFQUFBbWMsR0FBQSxHQUdBLFFBQUFlLEdBQUExVCxFQUFBMlMsR0FDQSxPQUFBM1MsRUFBQTZULFVBQUFsQixFQUFBYSxhQUFBLEVBQUFHLEVBQUEzVCxFQUFBNlQsVUFFQTVPLFNBQUFqRixFQUFBNEcsS0FDQSxnQkFBQTVHLEdBQUE0RyxJQUFBNUcsRUFBQTRHLEdBQUEsTUFBQStMLEVBQUErQixrQkFBQSxHQUFBMVUsRUFBQTRHLElBQ0ErTCxFQUFBVyxpQkFBQSxHQUFBdFQsRUFBQTRHLEtBR0E1RyxFQUFBRSxZQUFBdVUsRUFBQXpVLEVBQUFFLFdBQUF5UyxHQUNBOEIsRUFBQXpVLEVBQUEyUyxHQUFBLEdBR0EsUUFBQWdCLEdBQUFnQixFQUFBaEMsR0FDQUEsRUFBQVksaUJBQUEsRUFBQXFCLEVBQUFELEVBQUFyVixNQUVBLElBQUErVSxHQUFBTSxFQUFBWCxXQUVBLGNBQUFXLEVBQUFyVixLQUFBdVYsRUFBQVIsRUFBQTFCLE9BQ0EsbUJBQUFnQyxFQUFBclYsS0FBQXdWLEVBQUFULEVBQUExQixHQUFBLE9BQ0EsbUJBQUFnQyxFQUFBclYsS0FBQXdWLEVBQUFULEVBQUExQixPQUNBLHdCQUFBZ0MsRUFBQXJWLEtBQUF5VixFQUFBVixFQUFBMUIsT0FDQSxnQkFBQWdDLEVBQUFyVixLQUFBeVYsRUFBQVYsRUFBQTFCLEdBQUEsT0FDQSxxQkFBQWdDLEVBQUFyVixLQUFBMFYsRUFBQVgsRUFBQTFCLE9BQ0EsMkJBQUFnQyxFQUFBclYsS0FDQSxPQUFBbkksR0FBQSxFQUF1QkEsRUFBQXdkLEVBQUFULFdBQUE5YyxPQUE0QkQsSUFBQXdiLEVBQUFhLGFBQUEsRUFBQUcsRUFBQWdCLEVBQUFULFdBQUEvYyxHQUduRHNkLEdBQUFFLEVBQUFoQyxHQUFBLEdBR0EsUUFBQThCLEdBQUF2ZCxFQUFBeWIsRUFBQXNDLEdBQ0EsR0FBQUMsTUFDQUMsRUFBQSxDQUVBLFFBQUF4ZCxLQUFBVCxHQUNBK2QsR0FBQWIsRUFBQXpjLEVBQUFULEVBQUFvSSxRQUdBcVQsRUFBQWEsYUFBQSxHQUFBNEIsRUFBQWxlLEVBQUFTLElBQ0F1ZCxFQUFBL1UsS0FBQVQsRUFBQS9ILElBQ0F1ZCxFQUFBL1UsS0FBQWdWLEtBRUF4QyxHQUFBMEMsa0JBQUFKLEVBQUEsTUFBQUMsR0FHQSxRQUFBRSxHQUFBMWMsRUFBQWlhLEdBQ0EsVUFBQWphLEVBQUEsQ0FFQSxHQUFBNEcsU0FBQTVHLEVBRUEsWUFBQTRHLEVBQUFxVCxFQUFBVyxpQkFBQSxFQUFBNWEsR0FDQSxZQUFBNEcsRUFBQXFULEVBQUEyQyxrQkFBQSxFQUFBNWMsR0FDQSxXQUFBNEcsRUFBQXFULEVBQUFXLGlCQUFBLEVBQUFuTixLQUFBQyxVQUFBMU4sSUFDQSxXQUFBNEcsSUFDQTVHLEVBQUEsTUFBQWlhLEVBQUE0QyxpQkFBQSxFQUFBN2MsR0FDQUEsR0FBQSxFQUFBaWEsRUFBQVksaUJBQUEsRUFBQTdhLEdBQ0FpYSxFQUFBWSxpQkFBQSxHQUFBN2EsS0FJQSxRQUFBbWMsR0FBQVAsRUFBQTNCLEdBRUEsT0FEQTBCLE1BQ0FsZCxFQUFBLEVBQW1CQSxFQUFBMmIsRUFBUzNiLElBQUFrZCxFQUFBbFUsS0FBQTZTLEtBQUF3QixNQUFBRixFQUFBbmQsR0FBQXVSLEdBQzVCaUssR0FBQTZDLG1CQUFBLEVBQUFuQixHQUdBLFFBQUFTLEdBQUF4RixFQUFBcUQsR0FDQSxHQUFBMEIsS0FDQW9CLEdBQUFwQixFQUFBL0UsR0FDQXFELEVBQUE2QyxtQkFBQSxFQUFBbkIsR0FHQSxRQUFBVSxHQUFBVyxFQUFBL0MsRUFBQXpXLEdBQ0EsR0FDQS9FLEdBREE0SSxFQUFBMlYsRUFBQXRlLE1BRUEsUUFBQTJJLEVBQUEsQ0FDQSxHQUFBNFYsS0FDQSxLQUFBeGUsRUFBQSxFQUFtQkEsRUFBQTRJLEVBQVM1SSxJQUFBd2UsRUFBQXhWLEtBQUF1VixFQUFBdmUsR0FBQUMsUUFBQThFLEVBQUEsS0FDNUJ5VyxHQUFBMEMsa0JBQUEsRUFBQU0sR0FHQSxHQUFBdEIsS0FDQSxLQUFBbGQsRUFBQSxFQUFlQSxFQUFBNEksRUFBUzVJLElBQUFzZSxFQUFBcEIsRUFBQXFCLEVBQUF2ZSxHQUFBK0UsRUFDeEJ5VyxHQUFBNkMsbUJBQUEsRUFBQW5CLEdBR0EsUUFBQVcsR0FBQVksRUFBQWpELEdBQ0EsR0FDQXhiLEdBQUEwZSxFQURBOVYsRUFBQTZWLEVBQUF4ZSxNQUVBLFFBQUEySSxHQUFBLElBQUE2VixFQUFBLEdBQUF4ZSxPQUFBLENBQ0EsR0FBQXVlLElBQUE1VixFQUNBLEtBQUE1SSxFQUFBLEVBQW1CQSxFQUFBNEksRUFBUzVJLElBRTVCLElBREF3ZSxFQUFBeFYsS0FBQXlWLEVBQUF6ZSxHQUFBQyxRQUNBeWUsRUFBQSxFQUF1QkEsRUFBQUQsRUFBQXplLEdBQUFDLE9BQXdCeWUsSUFBQUYsRUFBQXhWLEtBQUF5VixFQUFBemUsR0FBQTBlLEdBQUF6ZSxPQUFBLEVBRS9DdWIsR0FBQTBDLGtCQUFBLEVBQUFNLEdBR0EsR0FBQXRCLEtBQ0EsS0FBQWxkLEVBQUEsRUFBZUEsRUFBQTRJLEVBQVM1SSxJQUN4QixJQUFBMGUsRUFBQSxFQUFtQkEsRUFBQUQsRUFBQXplLEdBQUFDLE9BQXdCeWUsSUFBQUosRUFBQXBCLEVBQUF1QixFQUFBemUsR0FBQTBlLElBQUEsRUFFM0NsRCxHQUFBNkMsbUJBQUEsRUFBQW5CLEdBR0EsUUFBQW9CLEdBQUFwQixFQUFBL0UsRUFBQXBULEdBQ0EsR0FBQS9FLEdBQUEwZSxFQUNBOVYsRUFBQXVQLEVBQUFsWSxRQUFBOEUsRUFBQSxLQUNBNFosRUFBQSxHQUFBbGMsT0FBQWtaLEVBQ0EsS0FBQStDLEVBQUEsRUFBZUEsRUFBQS9DLEVBQVMrQyxJQUFBQyxFQUFBRCxHQUFBLENBQ3hCLEtBQUExZSxFQUFBLEVBQWVBLEVBQUE0SSxFQUFTNUksSUFDeEIsSUFBQTBlLEVBQUEsRUFBbUJBLEVBQUEvQyxFQUFTK0MsSUFBQSxDQUM1QixHQUFBRSxHQUFBL0MsS0FBQXdCLE1BQUFsRixFQUFBblksR0FBQTBlLEdBQUFuTixHQUFBb04sRUFBQUQsRUFDQXhCLEdBQUFsVSxLQUFBNFYsR0FDQUQsRUFBQUQsSUFBQUUsR0FLQSxRQUFBM0IsR0FBQXpjLEVBQUEySCxHQUNBLFlBQUEzSCxFQUFBLFFBQ0EsMEJBQUEySCxHQUNBLGdCQUFBM0gsRUFBQSxhQUNLLGdCQUFBMkgsR0FDTCxVQUFBM0gsR0FBQSxlQUFBQSxHQUFBLGFBQUFBLEVBQUEsYUFDSywyQkFBQTJILEdBQ0wsa0JBQUEzSCxFQUFBLGFBQ0ssb0JBQUFBLEVBQUEsUUFDTCxVQWpPQXZCLEVBQUFDLFFBQUF3UCxDQUVBLElBQUFuRyxHQUFBbVQsRUFBQUQsRUFBQUUsRUFBQXBLLEVBQ0F3SyxFQUFBLElBRUEwQixHQUNBb0IsTUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFdBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsUUFBQSxFQUNBQyxhQUFBLEVBQ0FDLG1CQUFBLEkvQm01RU1DLElBQ0EsU0FBVW5nQixFQUFRQyxHZ0NsNkV4QixZQVVBLFNBQUFtSixHQUFBbVQsR0FDQUcsRUFBQSxFQUNBcEssRUFBQXNLLEtBQUF3RCxJQUFBLE1BQ0FiLEVBQUEsS0FFQWpXLEtBQ0ErVyxJQUNBLElBQUFqZ0IsR0FBQW1jLEVBQUErRCxXQUFBQyxLQUdBLE9BRkFqWCxHQUFBLEtBRUFsSixFQUdBLFFBQUFtZ0IsR0FBQUMsRUFBQXBnQixFQUFBbWMsR0FDQSxJQUFBaUUsRUFBQWxYLEVBQUFTLEtBQUF3UyxFQUFBa0UsY0FDQSxJQUFBRCxFQUFBOUQsRUFBQUgsRUFBQW1FLGFBQ0EsSUFBQUYsRUFBQWxPLEVBQUFzSyxLQUFBd0QsSUFBQSxHQUFBN0QsRUFBQW1FLGNBRUEsSUFBQUYsRUFBQUcsRUFBQXBFLEVBQUFuYyxHQUNBLElBQUFvZ0IsRUFBQUksRUFBQXJFLEVBQUFuYyxHQUNBLElBQUFvZ0IsR0FBQUssRUFBQXRFLEVBQUFuYyxHQUdBLFFBQUF1Z0IsR0FBQXBFLEVBQUFuYyxHQUdBLE1BRkFBLEdBQUE4SSxLQUFBLG9CQUNBOUksRUFBQTZJLFlBQ0FzVCxFQUFBdUUsWUFBQUMsRUFBQTNnQixHQUdBLFFBQUF3Z0IsR0FBQXJFLEVBQUEzUyxHQUNBQSxFQUFBVixLQUFBLFNBQ0EsSUFBQThYLEdBQUF6RSxFQUFBdUUsWUFBQUcsRUFBQXJYLEVBRUEsT0FEQW9YLEdBQUF6YSxlQUFBLGNBQUF5YSxFQUFBdkQsU0FBQSxNQUNBdUQsRUFHQSxRQUFBSCxHQUFBdEUsRUFBQWdDLEdBQ0EsTUFBQWhDLEdBQUF1RSxZQUFBSSxFQUFBM0MsR0FHQSxRQUFBd0MsR0FBQVAsRUFBQXBnQixFQUFBbWMsR0FDQSxJQUFBaUUsRUFBQXBnQixFQUFBNkksU0FBQWMsS0FBQTZXLEVBQUFyRSxPQUVBLEtBQUFpRSxFQUFBSCxFQUFBdFcsS0FBQW9YLEVBQUE1RSxJQUNBLEtBQUFpRSxHQUFBWSxFQUFBN0UsRUFBQW5jLEdBR0EsUUFBQTZnQixHQUFBVCxFQUFBNVcsRUFBQTJTLEdBQ0EsSUFBQWlFLEVBQUE1VyxFQUFBNlQsU0FBQW9ELEVBQUF0RSxNQUVBLEtBQUFpRSxFQUFBNVcsRUFBQTRHLEdBQUErTCxFQUFBa0UsYUFDQSxLQUFBRCxFQUFBNVcsRUFBQTRHLEdBQUErTCxFQUFBOEUsY0FFQSxLQUFBYixFQUFBSCxFQUFBdFcsS0FBQW9YLEVBQUE1RSxJQUNBLEtBQUFpRSxFQUFBNVcsRUFBQUUsV0FBQXNYLEVBQUE3RSxNQUNBLEtBQUFpRSxHQUFBWSxFQUFBN0UsRUFBQTNTLEdBR0EsUUFBQXNYLEdBQUFWLEVBQUFqQyxFQUFBaEMsR0FDQSxJQUFBaUUsRUFBQWpDLEVBQUFyVixLQUFBc1YsRUFBQWpDLEVBQUFtRSxjQUVBLElBQUFGLEVBQUFqQixFQUFBaEQsRUFBQStFLG1CQUNBLElBQUFkLEVBQUFlLEVBQUFoRCxFQUFBaEMsRUFBQWdDLEVBQUFyVixNQUNBLElBQUFzWCxHQUNBakMsRUFBQVQsV0FBQVMsRUFBQVQsZUFDQVMsRUFBQVQsV0FBQS9ULEtBQUE4VyxFQUFBdEUsUUFFQSxLQUFBaUUsRUFBQUgsRUFBQXRXLEtBQUFvWCxFQUFBNUUsSUFDQSxLQUFBaUUsR0FBQVksRUFBQTdFLEVBQUFnQyxHQUdBLFFBQUFnRCxHQUFBaEQsRUFBQWhDLEVBQUFyVCxHQUNBLFVBQUFBLEVBQUFxVixFQUFBWCxZQUFBNEQsRUFBQWpGLEdBQ0EsZUFBQXJULEVBQUFxVixFQUFBWCxZQUFBNkQsRUFBQWxGLEdBQUEsR0FDQSxlQUFBclQsRUFBQXFWLEVBQUFYLFlBQUE2RCxFQUFBbEYsR0FDQSxvQkFBQXJULEVBQUFxVixFQUFBWCxZQUFBOEQsRUFBQW5GLEdBQ0EsWUFBQXJULEVBQUFxVixFQUFBWCxZQUFBOEQsRUFBQW5GLEdBQUEsR0FDQSxpQkFBQXJULElBQUFxVixFQUFBWCxZQUFBK0QsRUFBQXBGLElBR0EsUUFBQTRFLEdBQUE1RSxHQUlBLElBSEEsR0FBQXFGLEdBQUFyRixFQUFBbUUsYUFBQW5FLEVBQUFzRixJQUNBdmYsRUFBQSxLQUVBaWEsRUFBQXNGLElBQUFELEdBQUEsQ0FDQSxHQUFBdFcsR0FBQWlSLEVBQUFtRSxhQUNBRixFQUFBbFYsR0FBQSxDQUVBLEtBQUFrVixFQUFBbGUsRUFBQWlhLEVBQUFrRSxhQUNBLElBQUFELEVBQUFsZSxFQUFBaWEsRUFBQXVGLGFBQ0EsSUFBQXRCLEVBQUFsZSxFQUFBaWEsRUFBQW1FLGFBQ0EsSUFBQUYsRUFBQWxlLEdBQUFpYSxFQUFBbUUsYUFDQSxJQUFBRixFQUFBbGUsRUFBQWlhLEVBQUF3RixjQUNBLElBQUF2QixJQUFBbGUsRUFBQXlOLEtBQUFzQyxNQUFBa0ssRUFBQWtFLGVBRUEsTUFBQW5lLEdBR0EsUUFBQThlLEdBQUE3RSxFQUFBemIsR0FFQSxJQURBLEdBQUE4Z0IsR0FBQXJGLEVBQUFtRSxhQUFBbkUsRUFBQXNGLElBQ0F0RixFQUFBc0YsSUFBQUQsR0FBQTlnQixFQUFBd0ksRUFBQWlULEVBQUFtRSxlQUFBTCxFQUFBOUQsRUFBQW1FLGFBRUEsT0FEQUwsTUFDQXZmLEVBR0EsUUFBQTBnQixHQUFBakYsR0FHQSxJQUZBLEdBQUFxRixHQUFBckYsRUFBQW1FLGFBQUFuRSxFQUFBc0YsSUFDQTVELEtBQ0ExQixFQUFBc0YsSUFBQUQsR0FBQTNELEVBQUFsVSxLQUFBd1MsRUFBQThFLGNBQUEvTyxFQUNBLE9BQUEyTCxHQUdBLFFBQUErRCxHQUFBekYsRUFBQXFGLEVBQUFqWSxFQUFBN0QsR0FDQSxHQUVBbWMsR0FBQUMsRUFGQW5oQixFQUFBLEVBQ0FrZCxLQUdBa0UsSUFDQSxLQUFBRCxFQUFBLEVBQWVBLEVBQUF4RixFQUFTd0YsSUFBQUMsRUFBQUQsR0FBQSxDQUV4QixNQUFBdlksRUFBQTVJLEVBQUE0SSxFQUFBNFMsRUFBQXNGLElBQUFELEdBQUEsQ0FFQSxJQURBSyxLQUNBQyxFQUFBLEVBQW1CQSxFQUFBeEYsRUFBU3dGLElBQzVCQyxFQUFBRCxJQUFBM0YsRUFBQThFLGNBQ0FZLEVBQUFDLEdBQUFDLEVBQUFELEdBQUE1UCxDQUVBMkwsR0FBQWxVLEtBQUFrWSxHQUNBbGhCLElBSUEsTUFGQStFLElBQUFtWSxFQUFBbFUsS0FBQWtVLEVBQUEsSUFFQUEsRUFHQSxRQUFBd0QsR0FBQWxGLEdBQ0EsTUFBQXlGLEdBQUF6RixJQUFBbUUsYUFBQW5FLEVBQUFzRixLQUdBLFFBQUFILEdBQUFuRixFQUFBelcsR0FDQSxHQUFBOGIsR0FBQXJGLEVBQUFtRSxhQUFBbkUsRUFBQXNGLEdBQ0EsS0FBQXRDLEVBQUEsT0FBQXlDLEVBQUF6RixFQUFBcUYsRUFBQSxLQUFBOWIsR0FHQSxRQURBbVksTUFDQWxkLEVBQUEsRUFBbUJBLEVBQUF3ZSxFQUFBdmUsT0FBb0JELElBQUFrZCxFQUFBbFUsS0FBQWlZLEVBQUF6RixFQUFBcUYsRUFBQXJDLEVBQUF4ZSxHQUFBK0UsR0FFdkMsT0FEQXlaLEdBQUEsS0FDQXRCLEVBR0EsUUFBQTBELEdBQUFwRixHQUNBLEdBQUFxRixHQUFBckYsRUFBQW1FLGFBQUFuRSxFQUFBc0YsR0FDQSxLQUFBdEMsRUFBQSxRQUFBeUMsRUFBQXpGLEVBQUFxRixFQUFBLFVBSUEsUUFGQTNELE1BQ0F3QixFQUFBLEVBQ0ExZSxFQUFBLEVBQW1CQSxFQUFBd2UsRUFBQSxHQUFnQnhlLElBQUEsQ0FFbkMsT0FEQXFoQixNQUNBQyxFQUFBLEVBQXVCQSxFQUFBOUMsRUFBQUUsR0FBZ0I0QyxJQUFBRCxFQUFBclksS0FBQWlZLEVBQUF6RixFQUFBcUYsRUFBQXJDLEVBQUFFLEVBQUEsRUFBQTRDLElBQUEsR0FDdkM1QyxJQUFBRixFQUFBRSxHQUFBLEVBQ0F4QixFQUFBbFUsS0FBQXFZLEdBR0EsTUFEQTdDLEdBQUEsS0FDQXRCLEVBektBamUsRUFBQUMsUUFBQW1KLENBRUEsSUFBQUUsR0FBQStXLEVBQUFkLEVBQUE3QyxFQUFBcEssRUFFQWtNLEdBQ0Esb0RBQ0EsZ0RoQzZrRk04RCxJQUNBLFNBQVV0aUIsRUFBUUMsRUFBU0MsR2lDdGxGakMsWUFNQSxTQUFBcWlCLEdBQUFDLEdBQ0F0Z0IsS0FBQXNnQixJQUFBM1csWUFBQUMsUUFBQUQsWUFBQUMsT0FBQTBXLEtBQUEsR0FBQUMsWUFBQUQsR0FBQSxHQUNBdGdCLEtBQUEyZixJQUFBLEVBQ0EzZixLQUFBZ0gsS0FBQSxFQUNBaEgsS0FBQWxCLE9BQUFrQixLQUFBc2dCLElBQUF4aEIsT0E2WEEsUUFBQTBoQixHQUFBdlYsRUFBQXdWLEVBQUFWLEdBQ0EsR0FDQXhSLEdBQUFqRCxFQURBZ1YsRUFBQVAsRUFBQU8sR0FHMkMsSUFBM0NoVixFQUFBZ1YsRUFBQVAsRUFBQUosT0FBcUJwUixHQUFBLElBQUFqRCxJQUFBLEVBQXNCQSxFQUFBLFVBQUFvVixHQUFBelYsRUFBQXNELEVBQUFrUyxFQUNBLElBQTNDblYsRUFBQWdWLEVBQUFQLEVBQUFKLE9BQXFCcFIsSUFBQSxJQUFBakQsSUFBQSxFQUFzQkEsRUFBQSxVQUFBb1YsR0FBQXpWLEVBQUFzRCxFQUFBa1MsRUFDQyxJQUE1Q25WLEVBQUFnVixFQUFBUCxFQUFBSixPQUFxQnBSLElBQUEsSUFBQWpELElBQUEsR0FBdUJBLEVBQUEsVUFBQW9WLEdBQUF6VixFQUFBc0QsRUFBQWtTLEVBQ0EsSUFBNUNuVixFQUFBZ1YsRUFBQVAsRUFBQUosT0FBcUJwUixJQUFBLElBQUFqRCxJQUFBLEdBQXVCQSxFQUFBLFVBQUFvVixHQUFBelYsRUFBQXNELEVBQUFrUyxFQUNBLElBQTVDblYsRUFBQWdWLEVBQUFQLEVBQUFKLE9BQXFCcFIsSUFBQSxJQUFBakQsSUFBQSxHQUF1QkEsRUFBQSxVQUFBb1YsR0FBQXpWLEVBQUFzRCxFQUFBa1MsRUFDQSxJQUE1Q25WLEVBQUFnVixFQUFBUCxFQUFBSixPQUFxQnBSLElBQUEsRUFBQWpELElBQUEsR0FBdUJBLEVBQUEsVUFBQW9WLEdBQUF6VixFQUFBc0QsRUFBQWtTLEVBRTVDLFVBQUEzUCxPQUFBLDBDQUdBLFFBQUE2UCxHQUFBdEcsR0FDQSxNQUFBQSxHQUFBclQsT0FBQXFaLEVBQUFPLE1BQ0F2RyxFQUFBbUUsYUFBQW5FLEVBQUFzRixJQUFBdEYsRUFBQXNGLElBQUEsRUFHQSxRQUFBZSxHQUFBRyxFQUFBQyxFQUFBQyxHQUNBLE1BQUFBLEdBQ0EsV0FBQUQsR0FBQUQsSUFBQSxHQUdBLFlBQUFDLElBQUEsSUFBQUQsSUFBQSxHQUdBLFFBQUFHLEdBQUE1WCxFQUFBaVIsR0FDQSxHQUFBd0csR0FBQUMsQ0FpQkEsSUFmQTFYLEdBQUEsR0FDQXlYLEVBQUF6WCxFQUFBLGFBQ0EwWCxFQUFBMVgsRUFBQSxlQUVBeVgsS0FBQXpYLEVBQUEsWUFDQTBYLEtBQUExWCxFQUFBLFlBRUEsV0FBQXlYLEVBQ0FBLElBQUEsS0FFQUEsRUFBQSxFQUNBQyxJQUFBLE1BSUExWCxHQUFBLHFCQUFBQSxHQUFBLG9CQUNBLFNBQUEwSCxPQUFBLHlDQUdBdUosR0FBQTRHLFFBQUEsSUFFQUMsRUFBQUwsRUFBQUMsRUFBQXpHLEdBQ0E4RyxFQUFBTCxFQUFBekcsR0FHQSxRQUFBNkcsR0FBQUwsRUFBQUMsRUFBQXpHLEdBQ0FBLEVBQUFpRyxJQUFBakcsRUFBQXNGLE9BQUEsSUFBQWtCLEVBQUEsSUFBMkNBLEtBQUEsRUFDM0N4RyxFQUFBaUcsSUFBQWpHLEVBQUFzRixPQUFBLElBQUFrQixFQUFBLElBQTJDQSxLQUFBLEVBQzNDeEcsRUFBQWlHLElBQUFqRyxFQUFBc0YsT0FBQSxJQUFBa0IsRUFBQSxJQUEyQ0EsS0FBQSxFQUMzQ3hHLEVBQUFpRyxJQUFBakcsRUFBQXNGLE9BQUEsSUFBQWtCLEVBQUEsSUFBMkNBLEtBQUEsRUFDM0N4RyxFQUFBaUcsSUFBQWpHLEVBQUFzRixLQUFBLElBQUFrQixFQUdBLFFBQUFNLEdBQUFMLEVBQUF6RyxHQUNBLEdBQUErRyxJQUFBLEVBQUFOLElBQUEsQ0FFQXpHLEdBQUFpRyxJQUFBakcsRUFBQXNGLFFBQUF5QixJQUFBTixLQUFBLFVBQW1FQSxJQUNuRXpHLEVBQUFpRyxJQUFBakcsRUFBQXNGLE9BQUEsSUFBQW1CLFNBQUEsVUFBbUVBLElBQ25FekcsRUFBQWlHLElBQUFqRyxFQUFBc0YsT0FBQSxJQUFBbUIsU0FBQSxVQUFtRUEsSUFDbkV6RyxFQUFBaUcsSUFBQWpHLEVBQUFzRixPQUFBLElBQUFtQixTQUFBLFVBQW1FQSxJQUNuRXpHLEVBQUFpRyxJQUFBakcsRUFBQXNGLE9BQUEsSUFBQW1CLFNBQUEsVUFBbUVBLElBQ25FekcsRUFBQWlHLElBQUFqRyxFQUFBc0YsT0FBQSxJQUFBbUIsT0FHQSxRQUFBTyxHQUFBQyxFQUFBN1osRUFBQTRTLEdBQ0EsR0FBQWtILEdBQ0E5WixHQUFBLFFBQ0FBLEdBQUEsVUFDQUEsR0FBQSxZQUFBaVQsS0FBQThHLE1BQUE5RyxLQUFBOVQsSUFBQWEsSUFBQSxFQUFBaVQsS0FBQStHLEtBR0FwSCxHQUFBNEcsUUFBQU0sRUFDQSxRQUFBMWlCLEdBQUF3YixFQUFBc0YsSUFBQSxFQUE2QjlnQixHQUFBeWlCLEVBQWV6aUIsSUFBQXdiLEVBQUFpRyxJQUFBemhCLEVBQUEwaUIsR0FBQWxILEVBQUFpRyxJQUFBemhCLEdBRzVDLFFBQUFrZSxHQUFBN0MsRUFBQUcsR0FBd0MsT0FBQXhiLEdBQUEsRUFBZ0JBLEVBQUFxYixFQUFBcGIsT0FBZ0JELElBQUF3YixFQUFBcUgsWUFBQXhILEVBQUFyYixJQUN4RSxRQUFBcWUsR0FBQWhELEVBQUFHLEdBQXdDLE9BQUF4YixHQUFBLEVBQWdCQSxFQUFBcWIsRUFBQXBiLE9BQWdCRCxJQUFBd2IsRUFBQXNILGFBQUF6SCxFQUFBcmIsSUFDeEUsUUFBQStpQixHQUFBMUgsRUFBQUcsR0FBd0MsT0FBQXhiLEdBQUEsRUFBZ0JBLEVBQUFxYixFQUFBcGIsT0FBZ0JELElBQUF3YixFQUFBd0gsV0FBQTNILEVBQUFyYixJQUN4RSxRQUFBaWpCLEdBQUE1SCxFQUFBRyxHQUF3QyxPQUFBeGIsR0FBQSxFQUFnQkEsRUFBQXFiLEVBQUFwYixPQUFnQkQsSUFBQXdiLEVBQUEwSCxZQUFBN0gsRUFBQXJiLElBQ3hFLFFBQUFtakIsR0FBQTlILEVBQUFHLEdBQXdDLE9BQUF4YixHQUFBLEVBQWdCQSxFQUFBcWIsRUFBQXBiLE9BQWdCRCxJQUFBd2IsRUFBQTRILGFBQUEvSCxFQUFBcmIsSUFDeEUsUUFBQXFqQixHQUFBaEksRUFBQUcsR0FBd0MsT0FBQXhiLEdBQUEsRUFBZ0JBLEVBQUFxYixFQUFBcGIsT0FBZ0JELElBQUF3YixFQUFBOEgsYUFBQWpJLEVBQUFyYixJQUN4RSxRQUFBdWpCLEdBQUFsSSxFQUFBRyxHQUF3QyxPQUFBeGIsR0FBQSxFQUFnQkEsRUFBQXFiLEVBQUFwYixPQUFnQkQsSUFBQXdiLEVBQUFnSSxjQUFBbkksRUFBQXJiLElBQ3hFLFFBQUF5akIsR0FBQXBJLEVBQUFHLEdBQXdDLE9BQUF4YixHQUFBLEVBQWdCQSxFQUFBcWIsRUFBQXBiLE9BQWdCRCxJQUFBd2IsRUFBQWtJLGFBQUFySSxFQUFBcmIsSUFDeEUsUUFBQTJqQixHQUFBdEksRUFBQUcsR0FBd0MsT0FBQXhiLEdBQUEsRUFBZ0JBLEVBQUFxYixFQUFBcGIsT0FBZ0JELElBQUF3YixFQUFBb0ksY0FBQXZJLEVBQUFyYixJQUl4RSxRQUFBNmpCLEdBQUFwQyxFQUFBWCxHQUNBLE9BQUFXLEVBQUFYLEdBQ0FXLEVBQUFYLEVBQUEsTUFDQVcsRUFBQVgsRUFBQSxRQUNBLFNBQUFXLEVBQUFYLEVBQUEsR0FHQSxRQUFBZ0QsR0FBQXJDLEVBQUFsWCxFQUFBdVcsR0FDQVcsRUFBQVgsR0FBQXZXLEVBQ0FrWCxFQUFBWCxFQUFBLEdBQUF2VyxJQUFBLEVBQ0FrWCxFQUFBWCxFQUFBLEdBQUF2VyxJQUFBLEdBQ0FrWCxFQUFBWCxFQUFBLEdBQUF2VyxJQUFBLEdBR0EsUUFBQXdaLEdBQUF0QyxFQUFBWCxHQUNBLE9BQUFXLEVBQUFYLEdBQ0FXLEVBQUFYLEVBQUEsTUFDQVcsRUFBQVgsRUFBQSxTQUNBVyxFQUFBWCxFQUFBLFFBR0EsUUFBQWtELEdBQUF2QyxFQUFBWCxFQUFBRCxHQUlBLElBSEEsR0FBQWhWLEdBQUEsR0FDQTdMLEVBQUE4Z0IsRUFFQTlnQixFQUFBNmdCLEdBQUEsQ0FDQSxHQUFBb0QsR0FBQXhDLEVBQUF6aEIsR0FDQWtiLEVBQUEsS0FDQWdKLEVBQ0FELEVBQUEsTUFDQUEsRUFBQSxNQUNBQSxFQUFBLE9BRUEsSUFBQWprQixFQUFBa2tCLEVBQUFyRCxFQUFBLEtBRUEsSUFBQXNELEdBQUFDLEVBQUFDLENBRUEsS0FBQUgsRUFDQUQsRUFBQSxNQUNBL0ksRUFBQStJLEdBRVMsSUFBQUMsR0FDVEMsRUFBQTFDLEVBQUF6aEIsRUFBQSxHQUNBLFdBQUFta0IsS0FDQWpKLEdBQUEsR0FBQStJLElBQUEsS0FBQUUsRUFDQWpKLEdBQUEsTUFDQUEsRUFBQSxRQUdTLElBQUFnSixHQUNUQyxFQUFBMUMsRUFBQXpoQixFQUFBLEdBQ0Fva0IsRUFBQTNDLEVBQUF6aEIsRUFBQSxHQUNBLFdBQUFta0IsSUFBQSxXQUFBQyxLQUNBbEosR0FBQSxHQUFBK0ksSUFBQSxPQUFBRSxJQUFBLEtBQUFDLEdBQ0FsSixHQUFBLE1BQUFBLEdBQUEsT0FBQUEsR0FBQSxTQUNBQSxFQUFBLFFBR1MsSUFBQWdKLElBQ1RDLEVBQUExQyxFQUFBemhCLEVBQUEsR0FDQW9rQixFQUFBM0MsRUFBQXpoQixFQUFBLEdBQ0Fxa0IsRUFBQTVDLEVBQUF6aEIsRUFBQSxHQUNBLFdBQUFta0IsSUFBQSxXQUFBQyxJQUFBLFdBQUFDLEtBQ0FuSixHQUFBLEdBQUErSSxJQUFBLE9BQUFFLElBQUEsT0FBQUMsSUFBQSxLQUFBQyxHQUNBbkosR0FBQSxPQUFBQSxHQUFBLFdBQ0FBLEVBQUEsUUFLQSxPQUFBQSxHQUNBQSxFQUFBLE1BQ0FnSixFQUFBLEdBRVNoSixFQUFBLFFBQ1RBLEdBQUEsTUFDQXJQLEdBQUF5WSxPQUFBQyxhQUFBckosSUFBQSxlQUNBQSxFQUFBLFdBQUFBLEdBR0FyUCxHQUFBeVksT0FBQUMsYUFBQXJKLEdBQ0FsYixHQUFBa2tCLEVBR0EsTUFBQXJZLEdBR0EsUUFBQTJZLEdBQUEvQyxFQUFBNVYsRUFBQWlWLEdBQ0EsT0FBQTVGLEdBQUF1SixFQUFBemtCLEVBQUEsRUFBNEJBLEVBQUE2TCxFQUFBNUwsT0FBZ0JELElBQUEsQ0FHNUMsR0FGQWtiLEVBQUFyUCxFQUFBNlksV0FBQTFrQixHQUVBa2IsRUFBQSxPQUFBQSxFQUFBLE9BQ0EsSUFBQXVKLEVBV2EsQ0FDYnZKLEVBQUEsT0FBQWxiLEVBQUEsSUFBQTZMLEVBQUE1TCxRQUNBd2hCLEVBQUFYLEtBQUEsSUFDQVcsRUFBQVgsS0FBQSxJQUNBVyxFQUFBWCxLQUFBLEtBRUEyRCxFQUFBdkosQ0FFQSxVQWxCQSxHQUFBQSxFQUFBLE9BQ0F1RyxFQUFBWCxLQUFBLElBQ0FXLEVBQUFYLEtBQUEsSUFDQVcsRUFBQVgsS0FBQSxJQUNBMkQsRUFBQXZKLENBQ0EsVUFFQUEsRUFBQXVKLEVBQUEsVUFBQXZKLEVBQUEsWUFDQXVKLEVBQUEsU0FZU0EsS0FDVGhELEVBQUFYLEtBQUEsSUFDQVcsRUFBQVgsS0FBQSxJQUNBVyxFQUFBWCxLQUFBLElBQ0EyRCxFQUFBLEtBR0F2SixHQUFBLElBQ0F1RyxFQUFBWCxLQUFBNUYsR0FFQUEsRUFBQSxLQUNBdUcsRUFBQVgsS0FBQTVGLEdBQUEsT0FFQUEsRUFBQSxNQUNBdUcsRUFBQVgsS0FBQTVGLEdBQUEsUUFFQXVHLEVBQUFYLEtBQUE1RixHQUFBLE9BQ0F1RyxFQUFBWCxLQUFBNUYsR0FBQSxXQUVBdUcsRUFBQVgsS0FBQTVGLEdBQUEsVUFFQXVHLEVBQUFYLEtBQUEsR0FBQTVGLEVBQUEsS0FHQSxNQUFBNEYsR0EvbUJBN2hCLEVBQUFDLFFBQUFzaUIsQ0FFQSxJQUFBbUQsR0FBQXhsQixFQUFBLElBU0FxaUIsR0FBQW9ELE9BQUEsRUFDQXBELEVBQUFxRCxRQUFBLEVBQ0FyRCxFQUFBTyxNQUFBLEVBQ0FQLEVBQUFzRCxRQUFBLENBRUEsSUFBQUMsR0FBQSxXQUNBQyxFQUFBLEVBQUFELENBRUF2RCxHQUFBN2dCLFdBRUFza0IsUUFBQSxXQUNBOWpCLEtBQUFzZ0IsSUFBQSxNQUtBbEMsV0FBQSxTQUFBMkYsRUFBQXJhLEVBQUFnVyxHQUdBLElBRkFBLEtBQUExZixLQUFBbEIsT0FFQWtCLEtBQUEyZixJQUFBRCxHQUFBLENBQ0EsR0FBQXRXLEdBQUFwSixLQUFBd2UsYUFDQUYsRUFBQWxWLEdBQUEsRUFDQWtZLEVBQUF0aEIsS0FBQTJmLEdBRUEzZixNQUFBZ0gsS0FBQSxFQUFBb0MsRUFDQTJhLEVBQUF6RixFQUFBNVUsRUFBQTFKLE1BRUFBLEtBQUEyZixNQUFBMkIsR0FBQXRoQixLQUFBZ2tCLEtBQUE1YSxHQUVBLE1BQUFNLElBR0FrVixZQUFBLFNBQUFtRixFQUFBcmEsR0FDQSxNQUFBMUosTUFBQW9lLFdBQUEyRixFQUFBcmEsRUFBQTFKLEtBQUF3ZSxhQUFBeGUsS0FBQTJmLE1BR0FzRSxZQUFBLFdBQ0EsR0FBQTdhLEdBQUFzWixFQUFBMWlCLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsSUFFQSxPQURBM2YsTUFBQTJmLEtBQUEsRUFDQXZXLEdBR0E4YSxhQUFBLFdBQ0EsR0FBQTlhLEdBQUF3WixFQUFBNWlCLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsSUFFQSxPQURBM2YsTUFBQTJmLEtBQUEsRUFDQXZXLEdBS0ErYSxZQUFBLFdBQ0EsR0FBQS9hLEdBQUFzWixFQUFBMWlCLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsS0FBQStDLEVBQUExaUIsS0FBQXNnQixJQUFBdGdCLEtBQUEyZixJQUFBLEdBQUFpRSxDQUVBLE9BREE1akIsTUFBQTJmLEtBQUEsRUFDQXZXLEdBR0FnYixhQUFBLFdBQ0EsR0FBQWhiLEdBQUFzWixFQUFBMWlCLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsS0FBQWlELEVBQUE1aUIsS0FBQXNnQixJQUFBdGdCLEtBQUEyZixJQUFBLEdBQUFpRSxDQUVBLE9BREE1akIsTUFBQTJmLEtBQUEsRUFDQXZXLEdBR0FpYixVQUFBO0FBQ0EsR0FBQWpiLEdBQUFvYSxFQUFBbk8sS0FBQXJWLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsS0FBQSxPQUVBLE9BREEzZixNQUFBMmYsS0FBQSxFQUNBdlcsR0FHQXdXLFdBQUEsV0FDQSxHQUFBeFcsR0FBQW9hLEVBQUFuTyxLQUFBclYsS0FBQXNnQixJQUFBdGdCLEtBQUEyZixLQUFBLE9BRUEsT0FEQTNmLE1BQUEyZixLQUFBLEVBQ0F2VyxHQUdBb1YsV0FBQSxTQUFBdUMsR0FDQSxHQUNBM1gsR0FBQWtDLEVBREFnVixFQUFBdGdCLEtBQUFzZ0IsR0FHOEMsT0FBOUNoVixHQUFBZ1YsRUFBQXRnQixLQUFBMmYsT0FBNEJ2VyxFQUFBLElBQUFrQyxFQUFrQkEsRUFBQSxJQUFBbEMsR0FDOUNrQyxFQUFBZ1YsRUFBQXRnQixLQUFBMmYsT0FBNEJ2VyxJQUFBLElBQUFrQyxJQUFBLEVBQXdCQSxFQUFBLElBQUFsQyxHQUNwRGtDLEVBQUFnVixFQUFBdGdCLEtBQUEyZixPQUE0QnZXLElBQUEsSUFBQWtDLElBQUEsR0FBeUJBLEVBQUEsSUFBQWxDLEdBQ3JEa0MsRUFBQWdWLEVBQUF0Z0IsS0FBQTJmLE9BQTRCdlcsSUFBQSxJQUFBa0MsSUFBQSxHQUF5QkEsRUFBQSxJQUFBbEMsR0FDckRrQyxFQUFBZ1YsRUFBQXRnQixLQUFBMmYsS0FBMEJ2VyxJQUFBLEdBQUFrQyxJQUFBLEdBRTFCa1YsRUFBQXBYLEVBQUEyWCxFQUFBL2dCLFdBR0Fza0IsYUFBQSxXQUNBLE1BQUF0a0IsTUFBQXdlLFlBQUEsSUFHQVcsWUFBQSxXQUNBLEdBQUFvRixHQUFBdmtCLEtBQUF3ZSxZQUNBLE9BQUErRixHQUFBLE9BQUFBLEVBQUEsTUFBQUEsRUFBQSxHQUdBMUUsWUFBQSxXQUNBLE1BQUEyRSxTQUFBeGtCLEtBQUF3ZSxlQUdBRCxXQUFBLFdBQ0EsR0FBQW1CLEdBQUExZixLQUFBd2UsYUFBQXhlLEtBQUEyZixJQUNBalYsRUFBQW1ZLEVBQUE3aUIsS0FBQXNnQixJQUFBdGdCLEtBQUEyZixJQUFBRCxFQUVBLE9BREExZixNQUFBMmYsSUFBQUQsRUFDQWhWLEdBR0ErWixVQUFBLFdBQ0EsR0FBQS9FLEdBQUExZixLQUFBd2UsYUFBQXhlLEtBQUEyZixJQUNBcFosRUFBQXZHLEtBQUFzZ0IsSUFBQW9FLFNBQUExa0IsS0FBQTJmLElBQUFELEVBRUEsT0FEQTFmLE1BQUEyZixJQUFBRCxFQUNBblosR0FLQTZZLGlCQUFBLFNBQUFsRixFQUFBNkcsR0FDQSxHQUFBL2dCLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBd2UsV0FBQXVDLEdBQ0EsSUFBQXJCLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQXdlLFdBQUF1QyxHQUNBLE9BQUE3RyxJQUVBeUssa0JBQUEsU0FBQXpLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBbWYsY0FDQSxJQUFBTyxHQUFBaUIsRUFBQTNnQixLQUVBLEtBREFrYSxRQUNBbGEsS0FBQTJmLElBQUFELEdBQUF4RixFQUFBclMsS0FBQTdILEtBQUFtZixjQUNBLE9BQUFqRixJQUVBMEssa0JBQUEsU0FBQTFLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBNmYsY0FDQSxJQUFBSCxHQUFBaUIsRUFBQTNnQixLQUVBLEtBREFrYSxRQUNBbGEsS0FBQTJmLElBQUFELEdBQUF4RixFQUFBclMsS0FBQTdILEtBQUE2ZixjQUNBLE9BQUEzRixJQUVBMkssZ0JBQUEsU0FBQTNLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBcWtCLFlBQ0EsSUFBQTNFLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQXFrQixZQUNBLE9BQUFuSyxJQUVBNEssaUJBQUEsU0FBQTVLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBNGYsYUFDQSxJQUFBRixHQUFBaUIsRUFBQTNnQixLQUVBLEtBREFrYSxRQUNBbGEsS0FBQTJmLElBQUFELEdBQUF4RixFQUFBclMsS0FBQTdILEtBQUE0ZixhQUNBLE9BQUExRixJQUVBNkssa0JBQUEsU0FBQTdLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBaWtCLGNBQ0EsSUFBQXZFLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQWlrQixjQUNBLE9BQUEvSixJQUVBOEssbUJBQUEsU0FBQTlLLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBa2tCLGVBQ0EsSUFBQXhFLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQWtrQixlQUNBLE9BQUFoSyxJQUVBK0ssa0JBQUEsU0FBQS9LLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBbWtCLGNBQ0EsSUFBQXpFLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQW1rQixjQUNBLE9BQUFqSyxJQUVBZ0wsbUJBQUEsU0FBQWhMLEdBQ0EsR0FBQWxhLEtBQUFnSCxPQUFBcVosRUFBQU8sTUFBQSxNQUFBMUcsR0FBQXJTLEtBQUE3SCxLQUFBb2tCLGVBQ0EsSUFBQTFFLEdBQUFpQixFQUFBM2dCLEtBRUEsS0FEQWthLFFBQ0FsYSxLQUFBMmYsSUFBQUQsR0FBQXhGLEVBQUFyUyxLQUFBN0gsS0FBQW9rQixlQUNBLE9BQUFsSyxJQUdBOEosS0FBQSxTQUFBNWEsR0FDQSxHQUFBcEMsR0FBQSxFQUFBb0MsQ0FDQSxJQUFBcEMsSUFBQXFaLEVBQUFvRCxPQUFBLEtBQUF6akIsS0FBQXNnQixJQUFBdGdCLEtBQUEyZixPQUFBLFVBQ0EsSUFBQTNZLElBQUFxWixFQUFBTyxNQUFBNWdCLEtBQUEyZixJQUFBM2YsS0FBQXdlLGFBQUF4ZSxLQUFBMmYsUUFDQSxJQUFBM1ksSUFBQXFaLEVBQUFzRCxRQUFBM2pCLEtBQUEyZixLQUFBLE1BQ0EsSUFBQTNZLElBQUFxWixFQUFBcUQsUUFDQSxTQUFBNVMsT0FBQSx1QkFBQTlKLEVBREFoSCxNQUFBMmYsS0FBQSxJQU1Bd0YsU0FBQSxTQUFBN0csRUFBQXRYLEdBQ0FoSCxLQUFBMGhCLFlBQUFwRCxHQUFBLEVBQUF0WCxJQUdBaWEsUUFBQSxTQUFBdEcsR0FHQSxJQUZBLEdBQUE3YixHQUFBa0IsS0FBQWxCLFFBQUEsR0FFQUEsRUFBQWtCLEtBQUEyZixJQUFBaEYsR0FBQTdiLEdBQUEsQ0FFQSxJQUFBQSxJQUFBa0IsS0FBQWxCLE9BQUEsQ0FDQSxHQUFBd2hCLEdBQUEsR0FBQUMsWUFBQXpoQixFQUNBd2hCLEdBQUE4RSxJQUFBcGxCLEtBQUFzZ0IsS0FDQXRnQixLQUFBc2dCLE1BQ0F0Z0IsS0FBQWxCLFdBSUF3YyxPQUFBLFdBR0EsTUFGQXRiLE1BQUFsQixPQUFBa0IsS0FBQTJmLElBQ0EzZixLQUFBMmYsSUFBQSxFQUNBM2YsS0FBQXNnQixJQUFBb0UsU0FBQSxFQUFBMWtCLEtBQUFsQixTQUdBcWpCLGFBQUEsU0FBQS9ZLEdBQ0FwSixLQUFBaWhCLFFBQUEsR0FDQTBCLEVBQUEzaUIsS0FBQXNnQixJQUFBbFgsRUFBQXBKLEtBQUEyZixLQUNBM2YsS0FBQTJmLEtBQUEsR0FHQTBDLGNBQUEsU0FBQWpaLEdBQ0FwSixLQUFBaWhCLFFBQUEsR0FDQTBCLEVBQUEzaUIsS0FBQXNnQixJQUFBbFgsRUFBQXBKLEtBQUEyZixLQUNBM2YsS0FBQTJmLEtBQUEsR0FHQTRDLGFBQUEsU0FBQW5aLEdBQ0FwSixLQUFBaWhCLFFBQUEsR0FDQTBCLEVBQUEzaUIsS0FBQXNnQixJQUFBbFgsR0FBQSxFQUFBcEosS0FBQTJmLEtBQ0FnRCxFQUFBM2lCLEtBQUFzZ0IsSUFBQTVGLEtBQUE4RyxNQUFBcFksRUFBQXlhLEdBQUE3akIsS0FBQTJmLElBQUEsR0FDQTNmLEtBQUEyZixLQUFBLEdBR0E4QyxjQUFBLFNBQUFyWixHQUNBcEosS0FBQWloQixRQUFBLEdBQ0EwQixFQUFBM2lCLEtBQUFzZ0IsSUFBQWxYLEdBQUEsRUFBQXBKLEtBQUEyZixLQUNBZ0QsRUFBQTNpQixLQUFBc2dCLElBQUE1RixLQUFBOEcsTUFBQXBZLEVBQUF5YSxHQUFBN2pCLEtBQUEyZixJQUFBLEdBQ0EzZixLQUFBMmYsS0FBQSxHQUdBK0IsWUFBQSxTQUFBdFksR0FHQSxNQUZBQSxPQUFBLEVBRUFBLEVBQUEsV0FBQUEsRUFBQSxNQUNBNFgsR0FBQTVYLEVBQUFwSixPQUlBQSxLQUFBaWhCLFFBQUEsR0FFQWpoQixLQUFBc2dCLElBQUF0Z0IsS0FBQTJmLE9BQUEsSUFBQXZXLEtBQUEsZ0JBQStFQSxHQUFBLE1BQy9FcEosS0FBQXNnQixJQUFBdGdCLEtBQUEyZixPQUFBLEtBQUF2VyxLQUFBLElBQUFBLEVBQUEsV0FBK0VBLEdBQUEsTUFDL0VwSixLQUFBc2dCLElBQUF0Z0IsS0FBQTJmLE9BQUEsS0FBQXZXLEtBQUEsSUFBQUEsRUFBQSxXQUErRUEsR0FBQSxNQUMvRXBKLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsT0FBQXZXLElBQUEsWUFHQXVZLGFBQUEsU0FBQXZZLEdBQ0FwSixLQUFBMGhCLFlBQUF0WSxFQUFBLEtBQUFBLEVBQUEsSUFBQUEsSUFHQTZZLGFBQUEsU0FBQTdZLEdBQ0FwSixLQUFBMGhCLFlBQUE4QyxRQUFBcGIsS0FHQWljLFlBQUEsU0FBQTNhLEdBQ0FBLEVBQUF5WSxPQUFBelksR0FDQTFLLEtBQUFpaEIsUUFBQSxFQUFBdlcsRUFBQTVMLFFBRUFrQixLQUFBMmYsS0FFQSxJQUFBMkIsR0FBQXRoQixLQUFBMmYsR0FFQTNmLE1BQUEyZixJQUFBMEQsRUFBQXJqQixLQUFBc2dCLElBQUE1VixFQUFBMUssS0FBQTJmLElBQ0EsSUFBQWxZLEdBQUF6SCxLQUFBMmYsSUFBQTJCLENBRUE3WixJQUFBLEtBQUE0WixFQUFBQyxFQUFBN1osRUFBQXpILE1BR0FBLEtBQUEyZixJQUFBMkIsRUFBQSxFQUNBdGhCLEtBQUEwaEIsWUFBQWphLEdBQ0F6SCxLQUFBMmYsS0FBQWxZLEdBR0FvYSxXQUFBLFNBQUF6WSxHQUNBcEosS0FBQWloQixRQUFBLEdBQ0F1QyxFQUFBakwsTUFBQXZZLEtBQUFzZ0IsSUFBQWxYLEVBQUFwSixLQUFBMmYsS0FBQSxRQUNBM2YsS0FBQTJmLEtBQUEsR0FHQW9DLFlBQUEsU0FBQTNZLEdBQ0FwSixLQUFBaWhCLFFBQUEsR0FDQXVDLEVBQUFqTCxNQUFBdlksS0FBQXNnQixJQUFBbFgsRUFBQXBKLEtBQUEyZixLQUFBLFFBQ0EzZixLQUFBMmYsS0FBQSxHQUdBMkYsV0FBQSxTQUFBL2UsR0FDQSxHQUFBa0IsR0FBQWxCLEVBQUF6SCxNQUNBa0IsTUFBQTBoQixZQUFBamEsR0FDQXpILEtBQUFpaEIsUUFBQXhaLEVBQ0EsUUFBQTVJLEdBQUEsRUFBdUJBLEVBQUE0SSxFQUFTNUksSUFBQW1CLEtBQUFzZ0IsSUFBQXRnQixLQUFBMmYsT0FBQXBaLEVBQUExSCxJQUdoQzBtQixnQkFBQSxTQUFBdmEsRUFBQTlNLEdBQ0E4QixLQUFBMmYsS0FHQSxJQUFBMkIsR0FBQXRoQixLQUFBMmYsR0FDQTNVLEdBQUE5TSxFQUFBOEIsS0FDQSxJQUFBeUgsR0FBQXpILEtBQUEyZixJQUFBMkIsQ0FFQTdaLElBQUEsS0FBQTRaLEVBQUFDLEVBQUE3WixFQUFBekgsTUFHQUEsS0FBQTJmLElBQUEyQixFQUFBLEVBQ0F0aEIsS0FBQTBoQixZQUFBamEsR0FDQXpILEtBQUEyZixLQUFBbFksR0FHQXlULGFBQUEsU0FBQW9ELEVBQUF0VCxFQUFBOU0sR0FDQThCLEtBQUFtbEIsU0FBQTdHLEVBQUErQixFQUFBTyxPQUNBNWdCLEtBQUF1bEIsZ0JBQUF2YSxFQUFBOU0sSUFHQTZlLGtCQUFBLFNBQUF1QixFQUFBcEUsR0FBNkNBLEVBQUFwYixRQUFBa0IsS0FBQWtiLGFBQUFvRCxFQUFBdkIsRUFBQTdDLElBQzdDZ0QsbUJBQUEsU0FBQW9CLEVBQUFwRSxHQUE2Q0EsRUFBQXBiLFFBQUFrQixLQUFBa2IsYUFBQW9ELEVBQUFwQixFQUFBaEQsSUFDN0M4SCxtQkFBQSxTQUFBMUQsRUFBQXBFLEdBQTZDQSxFQUFBcGIsUUFBQWtCLEtBQUFrYixhQUFBb0QsRUFBQTBELEVBQUE5SCxJQUM3QzBILGlCQUFBLFNBQUF0RCxFQUFBcEUsR0FBNkNBLEVBQUFwYixRQUFBa0IsS0FBQWtiLGFBQUFvRCxFQUFBc0QsRUFBQTFILElBQzdDNEgsa0JBQUEsU0FBQXhELEVBQUFwRSxHQUE2Q0EsRUFBQXBiLFFBQUFrQixLQUFBa2IsYUFBQW9ELEVBQUF3RCxFQUFBNUgsSUFDN0NnSSxtQkFBQSxTQUFBNUQsRUFBQXBFLEdBQTZDQSxFQUFBcGIsUUFBQWtCLEtBQUFrYixhQUFBb0QsRUFBQTRELEVBQUFoSSxJQUM3Q2tJLG9CQUFBLFNBQUE5RCxFQUFBcEUsR0FBNkNBLEVBQUFwYixRQUFBa0IsS0FBQWtiLGFBQUFvRCxFQUFBOEQsRUFBQWxJLElBQzdDb0ksbUJBQUEsU0FBQWhFLEVBQUFwRSxHQUE2Q0EsRUFBQXBiLFFBQUFrQixLQUFBa2IsYUFBQW9ELEVBQUFnRSxFQUFBcEksSUFDN0NzSSxvQkFBQSxTQUFBbEUsRUFBQXBFLEdBQTZDQSxFQUFBcGIsUUFBQWtCLEtBQUFrYixhQUFBb0QsRUFBQWtFLEVBQUF0SSxJQUU3Q3NMLGdCQUFBLFNBQUFsSCxFQUFBL1gsR0FDQXZHLEtBQUFtbEIsU0FBQTdHLEVBQUErQixFQUFBTyxPQUNBNWdCLEtBQUFzbEIsV0FBQS9lLElBRUFrZixrQkFBQSxTQUFBbkgsRUFBQWxWLEdBQ0FwSixLQUFBbWxCLFNBQUE3RyxFQUFBK0IsRUFBQXNELFNBQ0EzakIsS0FBQW1pQixhQUFBL1ksSUFFQXNjLG1CQUFBLFNBQUFwSCxFQUFBbFYsR0FDQXBKLEtBQUFtbEIsU0FBQTdHLEVBQUErQixFQUFBc0QsU0FDQTNqQixLQUFBcWlCLGNBQUFqWixJQUVBdWMsa0JBQUEsU0FBQXJILEVBQUFsVixHQUNBcEosS0FBQW1sQixTQUFBN0csRUFBQStCLEVBQUFxRCxTQUNBMWpCLEtBQUF1aUIsYUFBQW5aLElBRUF3YyxtQkFBQSxTQUFBdEgsRUFBQWxWLEdBQ0FwSixLQUFBbWxCLFNBQUE3RyxFQUFBK0IsRUFBQXFELFNBQ0ExakIsS0FBQXlpQixjQUFBclosSUFFQTZSLGlCQUFBLFNBQUFxRCxFQUFBbFYsR0FDQXBKLEtBQUFtbEIsU0FBQTdHLEVBQUErQixFQUFBb0QsUUFDQXpqQixLQUFBMGhCLFlBQUF0WSxJQUVBZ1Qsa0JBQUEsU0FBQWtDLEVBQUFsVixHQUNBcEosS0FBQW1sQixTQUFBN0csRUFBQStCLEVBQUFvRCxRQUNBempCLEtBQUEyaEIsYUFBQXZZLElBRUE0UixpQkFBQSxTQUFBc0QsRUFBQTVULEdBQ0ExSyxLQUFBbWxCLFNBQUE3RyxFQUFBK0IsRUFBQU8sT0FDQTVnQixLQUFBcWxCLFlBQUEzYSxJQUVBbWIsZ0JBQUEsU0FBQXZILEVBQUFsVixHQUNBcEosS0FBQW1sQixTQUFBN0csRUFBQStCLEVBQUFzRCxTQUNBM2pCLEtBQUE2aEIsV0FBQXpZLElBRUE2VCxpQkFBQSxTQUFBcUIsRUFBQWxWLEdBQ0FwSixLQUFBbWxCLFNBQUE3RyxFQUFBK0IsRUFBQXFELFNBQ0ExakIsS0FBQStoQixZQUFBM1ksSUFFQTRULGtCQUFBLFNBQUFzQixFQUFBbFYsR0FDQXBKLEtBQUFpYixpQkFBQXFELEVBQUFrRyxRQUFBcGIsT2pDNDBGTTBjLElBQ0EsU0FBVWhvQixFQUFRQyxFQUFTQyxHQUVoQyxZQVdBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdrQzN0R3pFLFFBQVNrSyxHQUFUMmQsR0FBK0MsR0FBN0I5ZixHQUE2QjhmLEVBQTdCOWYsSUFBNkIrZixFQUFBRCxFQUF4QjFmLGVBQXdCc0csU0FBQXFaLEVBQVQsT0FBU0EsRUFDdERDLEVBQVksV0FDaEIsT0FBTyxFQUFBQyxFQUFBOW5CLFVBQ0w2SCxNQUNBSSxpQkFDQ0MsS0FBSyxTQUFBNmYsR0FBWSxHQUFWOVksR0FBVThZLEVBQVY5WSxJQUNSLE9BQU9BLEtBR1gsT0FBTzRZLEtsQ3lzR1I5bUIsT0FBT0MsZUFBZXJCLEVBQVMsY0FDN0JxQyxPQUFPLElBRVRyQyxFQUFRSyxRa0NydEdlZ0ssQ0FGeEIsSUFBQTdELEdBQUF2RyxFQUFBLEtsQzJ0R0trb0IsRUFBVWpvQixFQUF1QnNHLElBd0JoQzZoQixJQUNBLFNBQVV0b0IsRUFBUUMsR0FFdkIsWW1DL3VHYyxTQUFTc29CLEdBQVMzYixFQUFLMkMsR0FDcEMsTUFBTzNDLEdBQUlDLFFBQVEyYixFQUFZLFNBQVU1YixFQUFLckwsR0FDNUMsR0FBSWUsR0FBUWlOLEVBQUtoTyxFQUVqQixJQUFjc04sU0FBVnZNLEVBQ0YsS0FBTSxJQUFJMFEsT0FBTSxrQ0FBb0NwRyxFQUt0RCxPQUg0QixrQkFBVnRLLEtBQ2hCQSxFQUFRQSxFQUFNaU4sSUFFVGpOLEluQ3V1R1ZqQixPQUFPQyxlQUFlckIsRUFBUyxjQUM3QnFDLE9BQU8sSUFFVHJDLEVBQVFLLFFtQ3B2R2Vpb0IsQ0FQeEIsSUFBSUMsR0FBYSxzQm5Da3hHWEMsSUFDQSxTQUFVem9CLEVBQVFDLEdBRXZCLFlvQ3B4R2MsU0FBU2lNLEdBQVNaLEdBQy9CLE1BQWMsT0FBUEEsR0FBOEIsWUFBZixtQkFBT0EsR0FBUCxZQUFBb2QsRUFBT3BkLEtBQW9COUgsTUFBTStGLFFBQVErQixNQUFTLEVwQ3F4R3pFakssT0FBT0MsZUFBZXJCLEVBQVMsY0FDN0JxQyxPQUFPLEdBR1QsSUFBSW9tQixHQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVeG9CLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYdW9CLFNBQXlCdm9CLEVBQUkwTixjQUFnQjZhLFFBQVV2b0IsSUFBUXVvQixPQUFPam5CLFVBQVksZUFBa0J0QixHQUV0UUgsR0FBUUssUW9DNXhHZTRMLEdwQ295R2xCMmMsSUFDQSxTQUFVN29CLEVBQVFDLEVBQVNDLEdxQ3R5R2pDRixFQUFBQyxRQUFBMkksV0FBQTFJLEVBQUEsS0FDQUYsRUFBQUMsUUFBQTZvQixrQkFBQTVvQixFQUFBLEtBQ0FGLEVBQUFDLFFBQUE4b0IsZ0JBQUE3b0IsRUFBQSxNckM2eUdNOG9CLElBQ0EsU0FBVWhwQixFQUFRQyxFQUFTQyxHc0NoekdqQyxZQU1BLFNBQUEwSSxHQUFBMlQsRUFBQXFGLEdBQ0ExZixLQUFBbUgsT0FBQWtULEVBQUErRCxXQUFBMkksS0FBNkNySCxHQUc3QyxRQUFBcUgsR0FBQXpJLEVBQUFuWCxFQUFBa1QsR0FDQSxPQUFBaUUsRUFBQSxDQUNBLEdBQUE5VyxHQUFBLEdBQUFxZixHQUFBeE0sSUFBQW1FLGFBQUFuRSxFQUFBc0YsSUFDQW5ZLEdBQUExSSxTQUFBcUksRUFBQUssRUFBQTBMLE1BQUExTCxJQVhBLEdBQUFxZixHQUFBN29CLEVBQUEsSUFFQUYsR0FBQUMsUUFBQTJJLEd0Q20wR01zZ0IsSUFDQSxTQUFVbHBCLEVBQVFDLEVBQVNDLEd1Q3gwR2pDLFlBTUEsU0FBQTZvQixHQUFBeE0sRUFBQXFGLEdBRUExZixLQUFBc1MsUUFBQSxFQUNBdFMsS0FBQWtULEtBQUEsS0FDQWxULEtBQUFpbkIsT0FBQSxLQUNBam5CLEtBQUFsQixPQUFBLEVBR0FrQixLQUFBMEUsS0FBQTJWLEVBQ0FyYSxLQUFBa25CLFNBQ0FsbkIsS0FBQW1uQixXQUNBbm5CLEtBQUFvbkIsYUFFQS9NLEVBQUErRCxXQUFBaUosRUFBQXJuQixLQUFBMGYsR0FFQTFmLEtBQUFsQixPQUFBa0IsS0FBQW9uQixVQUFBdG9CLE9BR0EsUUFBQXVvQixHQUFBL0ksRUFBQTlXLEVBQUE2UyxHQUNBLEtBQUFpRSxFQUFBOVcsRUFBQThLLFFBQUErSCxFQUFBbUUsYUFDQSxJQUFBRixFQUFBOVcsRUFBQTBMLEtBQUFtSCxFQUFBa0UsYUFDQSxJQUFBRCxFQUFBOVcsRUFBQXlmLE9BQUE1TSxFQUFBbUUsYUFDQSxJQUFBRixFQUFBOVcsRUFBQTRmLFVBQUF2ZixLQUFBd1MsRUFBQXNGLEtBQ0EsSUFBQXJCLEVBQUE5VyxFQUFBMGYsTUFBQXJmLEtBQUF3UyxFQUFBa0UsY0FDQSxJQUFBRCxHQUFBOVcsRUFBQTJmLFFBQUF0ZixLQUFBeWYsRUFBQWpOLElBR0EsUUFBQWlOLEdBQUFqTixHQUlBLElBSEEsR0FBQWphLEdBQUEsS0FDQXNmLEVBQUFyRixFQUFBbUUsYUFBQW5FLEVBQUFzRixJQUVBdEYsRUFBQXNGLElBQUFELEdBQUEsQ0FDQSxHQUFBcEIsR0FBQWpFLEVBQUFtRSxjQUFBLENBRUFwZSxHQUFBLElBQUFrZSxFQUFBakUsRUFBQWtFLGFBQ0EsSUFBQUQsRUFBQWpFLEVBQUFnSyxZQUNBLElBQUEvRixFQUFBakUsRUFBQXVGLGFBQ0EsSUFBQXRCLEVBQUFqRSxFQUFBaUssZUFDQSxJQUFBaEcsRUFBQWpFLEVBQUFtRSxhQUNBLElBQUFGLEVBQUFqRSxFQUFBOEUsY0FDQSxJQUFBYixFQUFBakUsRUFBQXdGLGNBQUEsS0FHQSxNQUFBemYsR0EvQ0EsR0FBQXdtQixHQUFBNW9CLEVBQUEsSUFFQUYsR0FBQUMsUUFBQThvQixFQWlEQUEsRUFBQXJuQixVQUFBa0ksUUFBQSxTQUFBN0ksR0FDQSxHQUFBQSxFQUFBLEdBQUFBLEdBQUFtQixLQUFBb25CLFVBQUF0b0IsT0FBQSxTQUFBZ1MsT0FBQSw4QkFFQTlRLE1BQUEwRSxLQUFBaWIsSUFBQTNmLEtBQUFvbkIsVUFBQXZvQixFQUVBLElBQUE2Z0IsR0FBQTFmLEtBQUEwRSxLQUFBOFosYUFBQXhlLEtBQUEwRSxLQUFBaWIsR0FDQSxXQUFBaUgsR0FBQTVtQixLQUFBMEUsS0FBQWdiLEVBQUExZixLQUFBaW5CLE9BQUFqbkIsS0FBQWtuQixNQUFBbG5CLEtBQUFtbkIsV3ZDZzFHTUksSUFDQSxTQUFVenBCLEVBQVFDLEVBQVNDLEd3QzU0R2pDLFlBTUEsU0FBQTRvQixHQUFBdk0sRUFBQXFGLEVBQUF1SCxFQUFBN2YsRUFBQStXLEdBRUFuZSxLQUFBNEgsY0FDQTVILEtBQUFpbkIsU0FDQWpuQixLQUFBZ0gsS0FBQSxFQUdBaEgsS0FBQTBFLEtBQUEyVixFQUNBcmEsS0FBQXduQixXQUFBLEVBQ0F4bkIsS0FBQWtuQixNQUFBOWYsRUFDQXBILEtBQUFtbkIsUUFBQWhKLEVBRUE5RCxFQUFBK0QsV0FBQU0sRUFBQTFlLEtBQUEwZixHQUdBLFFBQUFoQixHQUFBSixFQUFBNVcsRUFBQTJTLEdBQ0EsR0FBQWlFLEVBQUE1VyxFQUFBNEcsR0FBQStMLEVBQUFtRSxhQUNBLEdBQUFGLEVBQUFtSixFQUFBcE4sRUFBQTNTLEdBQ0EsR0FBQTRXLEVBQUE1VyxFQUFBVixLQUFBcVQsRUFBQW1FLGFBQ0EsR0FBQUYsSUFBQTVXLEVBQUE4ZixVQUFBbk4sRUFBQXNGLEtBR0EsUUFBQThILEdBQUFwTixFQUFBM1MsR0FHQSxJQUZBLEdBQUFnWSxHQUFBckYsRUFBQW1FLGFBQUFuRSxFQUFBc0YsSUFFQXRGLEVBQUFzRixJQUFBRCxHQUFBLENBQ0EsR0FBQXJnQixHQUFBcUksRUFBQXdmLE1BQUE3TSxFQUFBbUUsY0FDQXBlLEVBQUFzSCxFQUFBeWYsUUFBQTlNLEVBQUFtRSxhQUNBOVcsR0FBQUUsV0FBQXZJLEdBQUFlLEdBa0tBLFFBQUFzbkIsR0FBQXhILEdBQ0EsR0FBQXpZLEdBQUF5WSxFQUFBcGhCLE1BRUEsSUFBQTJJLEdBQUEsU0FBQXlZLEVBTUEsUUFIQXlILEdBQ0FDLEVBRkF0SyxLQUlBemUsRUFBQSxFQUFtQkEsRUFBQTRJLEVBQVM1SSxJQUFBLENBQzVCLEdBQUFncEIsR0FBQUMsRUFBQTVILEVBQUFyaEIsR0FDQSxLQUFBZ3BCLElBRUFsYixTQUFBaWIsTUFBQUMsRUFBQSxHQUVBRCxJQUFBQyxFQUFBLEdBQ0FGLEdBQUFySyxFQUFBelYsS0FBQThmLEdBQ0FBLEdBQUF6SCxFQUFBcmhCLEtBR0E4b0IsRUFBQTlmLEtBQUFxWSxFQUFBcmhCLEtBS0EsTUFGQThvQixJQUFBckssRUFBQXpWLEtBQUE4ZixHQUVBckssRUFHQSxRQUFBd0ssR0FBQUMsR0FFQSxPQUFBQyxHQUFBQyxFQURBekssRUFBQSxFQUNBM2UsRUFBQSxFQUFBNEksRUFBQXNnQixFQUFBanBCLE9BQUF5ZSxFQUFBOVYsRUFBQSxFQUEyRDVJLEVBQUE0SSxFQUFTOFYsRUFBQTFlLElBQ3BFbXBCLEVBQUFELEVBQUFscEIsR0FDQW9wQixFQUFBRixFQUFBeEssR0FDQUMsSUFBQXlLLEVBQUE3aUIsRUFBQTRpQixFQUFBNWlCLElBQUE0aUIsRUFBQTNpQixFQUFBNGlCLEVBQUE1aUIsRUFFQSxPQUFBbVksR0FyT0EsR0FBQUUsR0FBQTFmLEVBQUEsSUFFQUYsR0FBQUMsUUFBQTZvQixFQWtDQUEsRUFBQXNCLE9BQUEsMENBRUF0QixFQUFBcG5CLFVBQUEyb0IsYUFBQSxXQUNBLEdBQUE5TixHQUFBcmEsS0FBQTBFLElBQ0EyVixHQUFBc0YsSUFBQTNmLEtBQUF3bkIsU0FVQSxLQVJBLEdBTUF4USxHQU5BMEksRUFBQXJGLEVBQUFtRSxhQUFBbkUsRUFBQXNGLElBQ0F5SSxFQUFBLEVBQ0F0cEIsRUFBQSxFQUNBc0csRUFBQSxFQUNBQyxFQUFBLEVBQ0ErWCxLQUdBL0MsRUFBQXNGLElBQUFELEdBQUEsQ0FDQSxHQUFBNWdCLEdBQUEsR0FDQSxHQUFBdXBCLEdBQUFoTyxFQUFBbUUsWUFDQTRKLEdBQUEsRUFBQUMsRUFDQXZwQixFQUFBdXBCLEdBQUEsRUFLQSxHQUZBdnBCLElBRUEsSUFBQXNwQixHQUFBLElBQUFBLEVBQ0FoakIsR0FBQWlWLEVBQUE4RSxjQUNBOVosR0FBQWdWLEVBQUE4RSxjQUVBLElBQUFpSixJQUNBcFIsR0FBQW9HLEVBQUF2VixLQUFBbVAsR0FDQUEsTUFHQUEsRUFBQW5QLEtBQUEsR0FBQTZWLEdBQUF0WSxFQUFBQyxRQUVTLFFBQUEraUIsRUFRVCxTQUFBdFgsT0FBQSxtQkFBQXNYLEVBTEFwUixJQUNBQSxFQUFBblAsS0FBQW1QLEVBQUEsR0FBQXNSLFVBVUEsTUFGQXRSLElBQUFvRyxFQUFBdlYsS0FBQW1QLEdBRUFvRyxHQUdBd0osRUFBQXBuQixVQUFBK29CLEtBQUEsV0FDQSxHQUFBbE8sR0FBQXJhLEtBQUEwRSxJQUNBMlYsR0FBQXNGLElBQUEzZixLQUFBd25CLFNBWUEsS0FWQSxHQUFBOUgsR0FBQXJGLEVBQUFtRSxhQUFBbkUsRUFBQXNGLElBQ0F5SSxFQUFBLEVBQ0F0cEIsRUFBQSxFQUNBc0csRUFBQSxFQUNBQyxFQUFBLEVBQ0FtakIsRUFBQUMsSUFDQUMsSUFBQUQsS0FDQUUsRUFBQUYsSUFDQUcsSUFBQUgsS0FFQXBPLEVBQUFzRixJQUFBRCxHQUFBLENBQ0EsR0FBQTVnQixHQUFBLEdBQ0EsR0FBQXVwQixHQUFBaE8sRUFBQW1FLFlBQ0E0SixHQUFBLEVBQUFDLEVBQ0F2cEIsRUFBQXVwQixHQUFBLEVBS0EsR0FGQXZwQixJQUVBLElBQUFzcEIsR0FBQSxJQUFBQSxFQUNBaGpCLEdBQUFpVixFQUFBOEUsY0FDQTlaLEdBQUFnVixFQUFBOEUsY0FDQS9aLEVBQUFvakIsTUFBQXBqQixHQUNBQSxFQUFBc2pCLE1BQUF0akIsR0FDQUMsRUFBQXNqQixNQUFBdGpCLEdBQ0FBLEVBQUF1akIsTUFBQXZqQixPQUVTLFFBQUEraUIsRUFDVCxTQUFBdFgsT0FBQSxtQkFBQXNYLEdBSUEsT0FBQUksRUFBQUcsRUFBQUQsRUFBQUUsSUFHQWhDLEVBQUFwbkIsVUFBQW1JLFVBQUEsU0FBQXZDLEVBQUFDLEVBQUFDLEdBUUEsUUFBQXVqQixHQUFBN1IsR0FDQSxPQUFBdUcsR0FBQSxFQUF1QkEsRUFBQXZHLEVBQUFsWSxPQUFpQnllLElBQUEsQ0FDeEMsR0FBQXdDLEdBQUEvSSxFQUFBdUcsR0FBQXFMLEVBQUEsU0FBQTdJLEVBQUExYSxFQUFBeWpCLEdBQUFDLENBQ0EvUixHQUFBdUcsSUFDQSxLQUFBd0MsRUFBQTNhLEVBQUE0akIsR0FBQUQsRUFBQSxJQUNBLElBQUFyTyxLQUFBdU8sR0FBQXZPLEtBQUF3TyxLQUFBeE8sS0FBQXlPLElBQUFQLEVBQUFsTyxLQUFBdU8sR0FBQSxXQVpBLEdBS0FwcUIsR0FBQTBlLEVBTEF3TCxFQUFBL29CLEtBQUFpbkIsT0FBQXZNLEtBQUF3RCxJQUFBLEVBQUE1WSxHQUNBMGpCLEVBQUFocEIsS0FBQWluQixPQUFBN2hCLEVBQ0EwakIsRUFBQTlvQixLQUFBaW5CLE9BQUE1aEIsRUFDQTBXLEVBQUEvYixLQUFBbW9CLGVBQ0FuaEIsRUFBQTRmLEVBQUFzQixNQUFBbG9CLEtBQUFnSCxLQWFBLFFBQUFoSCxLQUFBZ0gsTUFDQSxPQUNBLEdBQUFvaUIsS0FDQSxLQUFBdnFCLEVBQUEsRUFBbUJBLEVBQUFrZCxFQUFBamQsT0FBbUJELElBQ3RDdXFCLEVBQUF2cUIsR0FBQWtkLEVBQUFsZCxHQUFBLEVBRUFrZCxHQUFBcU4sRUFDQVAsRUFBQTlNLEVBQ0EsTUFFQSxRQUNBLElBQUFsZCxFQUFBLEVBQW1CQSxFQUFBa2QsRUFBQWpkLE9BQW1CRCxJQUN0Q2dxQixFQUFBOU0sRUFBQWxkLEdBRUEsTUFFQSxRQUVBLElBREFrZCxFQUFBMkwsRUFBQTNMLEdBQ0FsZCxFQUFBLEVBQW1CQSxFQUFBa2QsRUFBQWpkLE9BQW1CRCxJQUN0QyxJQUFBMGUsRUFBQSxFQUF1QkEsRUFBQXhCLEVBQUFsZCxHQUFBQyxPQUFzQnllLElBQzdDc0wsRUFBQTlNLEVBQUFsZCxHQUFBMGUsSUFNQSxJQUFBeEIsRUFBQWpkLE9BQ0FpZCxJQUFBLEdBRUEvVSxFQUFBLFFBQUFBLENBR0EsSUFBQTBDLElBQ0ExQyxLQUFBLFVBQ0F1VSxVQUNBdlUsT0FDQTBVLFlBQUFLLEdBRUFuVSxXQUFBNUgsS0FBQTRILFdBT0EsT0FKQSxNQUFBNUgsUUFDQTBKLEVBQUE0RSxHQUFBdE8sS0FBQXNPLElBR0E1RSxJeEM0N0dNMmYsSUFDQSxTQUFVdnJCLEVBQVFDLEd5QzVuSHhCLFlBZ0JBLFNBQUEyZixHQUFBdFksRUFBQUMsR0FDQXJGLEtBQUFvRixJQUNBcEYsS0FBQXFGLElBaEJBdkgsRUFBQUMsUUFBQTJmLEVBbUJBQSxFQUFBbGUsV0FPQThvQixNQUFBLFdBQXVCLFVBQUE1SyxHQUFBMWQsS0FBQW9GLEVBQUFwRixLQUFBcUYsSUFRdkJpa0IsSUFBQSxTQUFBdkosR0FBMEIsTUFBQS9mLE1BQUFzb0IsUUFBQWlCLEtBQUF4SixJQVExQnlKLElBQUEsU0FBQXpKLEdBQTBCLE1BQUEvZixNQUFBc29CLFFBQUFtQixLQUFBMUosSUFRMUIySixZQUFBLFNBQUEzSixHQUFpQyxNQUFBL2YsTUFBQXNvQixRQUFBcUIsYUFBQTVKLElBUWpDNkosV0FBQSxTQUFBN0osR0FBaUMsTUFBQS9mLE1BQUFzb0IsUUFBQXVCLFlBQUE5SixJQVFqQytKLEtBQUEsU0FBQTNKLEdBQTBCLE1BQUFuZ0IsTUFBQXNvQixRQUFBeUIsTUFBQTVKLElBUTFCNkosSUFBQSxTQUFBN0osR0FBMEIsTUFBQW5nQixNQUFBc29CLFFBQUEyQixLQUFBOUosSUFRMUIrSixPQUFBLFNBQUE3ZSxHQUEwQixNQUFBckwsTUFBQXNvQixRQUFBNkIsUUFBQTllLElBUzFCK2UsYUFBQSxTQUFBL2UsRUFBQTBVLEdBQWtDLE1BQUEvZixNQUFBc29CLFFBQUErQixjQUFBaGYsRUFBQTBVLElBT2xDdUssUUFBQSxTQUFBQyxHQUEwQixNQUFBdnFCLE1BQUFzb0IsUUFBQWtDLFNBQUFELElBUzFCRSxLQUFBLFdBQXlCLE1BQUF6cUIsTUFBQXNvQixRQUFBb0MsU0FRekJDLEtBQUEsV0FBeUIsTUFBQTNxQixNQUFBc29CLFFBQUFzQyxTQU96QjFPLE1BQUEsV0FBeUIsTUFBQWxjLE1BQUFzb0IsUUFBQXVDLFVBUXpCQyxJQUFBLFdBQ0EsTUFBQXBRLE1BQUFxUSxLQUFBL3FCLEtBQUFvRixFQUFBcEYsS0FBQW9GLEVBQUFwRixLQUFBcUYsRUFBQXJGLEtBQUFxRixJQVNBMmxCLE9BQUEsU0FBQUMsR0FDQSxNQUFBanJCLE1BQUFvRixJQUFBNmxCLEVBQUE3bEIsR0FDQXBGLEtBQUFxRixJQUFBNGxCLEVBQUE1bEIsR0FRQTZsQixLQUFBLFNBQUFuTCxHQUNBLE1BQUFyRixNQUFBcVEsS0FBQS9xQixLQUFBbXJCLFFBQUFwTCxLQVVBb0wsUUFBQSxTQUFBcEwsR0FDQSxHQUFBcUwsR0FBQXJMLEVBQUEzYSxFQUFBcEYsS0FBQW9GLEVBQ0FpbUIsRUFBQXRMLEVBQUExYSxFQUFBckYsS0FBQXFGLENBQ0EsT0FBQStsQixLQUFBQyxLQVFBQyxNQUFBLFdBQ0EsTUFBQTVRLE1BQUE2USxNQUFBdnJCLEtBQUFxRixFQUFBckYsS0FBQW9GLElBUUFvbUIsUUFBQSxTQUFBbGdCLEdBQ0EsTUFBQW9QLE1BQUE2USxNQUFBdnJCLEtBQUFxRixFQUFBaUcsRUFBQWpHLEVBQUFyRixLQUFBb0YsRUFBQWtHLEVBQUFsRyxJQVFBcW1CLFVBQUEsU0FBQW5nQixHQUNBLE1BQUF0TCxNQUFBMHJCLGFBQUFwZ0IsRUFBQWxHLEVBQUFrRyxFQUFBakcsSUFVQXFtQixhQUFBLFNBQUF0bUIsRUFBQUMsR0FDQSxNQUFBcVYsTUFBQTZRLE1BQ0F2ckIsS0FBQW9GLEVBQUFDLEVBQUFyRixLQUFBcUYsRUFBQUQsRUFDQXBGLEtBQUFvRixJQUFBcEYsS0FBQXFGLE1BR0FtbEIsU0FBQSxTQUFBRCxHQUNBLEdBQUFubEIsR0FBQW1sQixFQUFBLEdBQUF2cUIsS0FBQW9GLEVBQUFtbEIsRUFBQSxHQUFBdnFCLEtBQUFxRixFQUNBQSxFQUFBa2xCLEVBQUEsR0FBQXZxQixLQUFBb0YsRUFBQW1sQixFQUFBLEdBQUF2cUIsS0FBQXFGLENBR0EsT0FGQXJGLE1BQUFvRixJQUNBcEYsS0FBQXFGLElBQ0FyRixNQUdBdXBCLEtBQUEsU0FBQXhKLEdBR0EsTUFGQS9mLE1BQUFvRixHQUFBMmEsRUFBQTNhLEVBQ0FwRixLQUFBcUYsR0FBQTBhLEVBQUExYSxFQUNBckYsTUFHQXlwQixLQUFBLFNBQUExSixHQUdBLE1BRkEvZixNQUFBb0YsR0FBQTJhLEVBQUEzYSxFQUNBcEYsS0FBQXFGLEdBQUEwYSxFQUFBMWEsRUFDQXJGLE1BR0ErcEIsTUFBQSxTQUFBNUosR0FHQSxNQUZBbmdCLE1BQUFvRixHQUFBK2EsRUFDQW5nQixLQUFBcUYsR0FBQThhLEVBQ0FuZ0IsTUFHQWlxQixLQUFBLFNBQUE5SixHQUdBLE1BRkFuZ0IsTUFBQW9GLEdBQUErYSxFQUNBbmdCLEtBQUFxRixHQUFBOGEsRUFDQW5nQixNQUdBMnBCLGFBQUEsU0FBQTVKLEdBR0EsTUFGQS9mLE1BQUFvRixHQUFBMmEsRUFBQTNhLEVBQ0FwRixLQUFBcUYsR0FBQTBhLEVBQUExYSxFQUNBckYsTUFHQTZwQixZQUFBLFNBQUE5SixHQUdBLE1BRkEvZixNQUFBb0YsR0FBQTJhLEVBQUEzYSxFQUNBcEYsS0FBQXFGLEdBQUEwYSxFQUFBMWEsRUFDQXJGLE1BR0EwcUIsTUFBQSxXQUVBLE1BREExcUIsTUFBQWlxQixLQUFBanFCLEtBQUE4cUIsT0FDQTlxQixNQUdBNHFCLE1BQUEsV0FDQSxHQUFBdmxCLEdBQUFyRixLQUFBcUYsQ0FHQSxPQUZBckYsTUFBQXFGLEVBQUFyRixLQUFBb0YsRUFDQXBGLEtBQUFvRixHQUFBQyxFQUNBckYsTUFHQW1xQixRQUFBLFNBQUFtQixHQUNBLEdBQUFLLEdBQUFqUixLQUFBaVIsSUFBQUwsR0FDQU0sRUFBQWxSLEtBQUFrUixJQUFBTixHQUNBbG1CLEVBQUF1bUIsRUFBQTNyQixLQUFBb0YsRUFBQXdtQixFQUFBNXJCLEtBQUFxRixFQUNBQSxFQUFBdW1CLEVBQUE1ckIsS0FBQW9GLEVBQUF1bUIsRUFBQTNyQixLQUFBcUYsQ0FHQSxPQUZBckYsTUFBQW9GLElBQ0FwRixLQUFBcUYsSUFDQXJGLE1BR0FxcUIsY0FBQSxTQUFBaUIsRUFBQXZMLEdBQ0EsR0FBQTRMLEdBQUFqUixLQUFBaVIsSUFBQUwsR0FDQU0sRUFBQWxSLEtBQUFrUixJQUFBTixHQUNBbG1CLEVBQUEyYSxFQUFBM2EsRUFBQXVtQixHQUFBM3JCLEtBQUFvRixFQUFBMmEsRUFBQTNhLEdBQUF3bUIsR0FBQTVyQixLQUFBcUYsRUFBQTBhLEVBQUExYSxHQUNBQSxFQUFBMGEsRUFBQTFhLEVBQUF1bUIsR0FBQTVyQixLQUFBb0YsRUFBQTJhLEVBQUEzYSxHQUFBdW1CLEdBQUEzckIsS0FBQXFGLEVBQUEwYSxFQUFBMWEsRUFHQSxPQUZBckYsTUFBQW9GLElBQ0FwRixLQUFBcUYsSUFDQXJGLE1BR0E2cUIsT0FBQSxXQUdBLE1BRkE3cUIsTUFBQW9GLEVBQUFzVixLQUFBd0IsTUFBQWxjLEtBQUFvRixHQUNBcEYsS0FBQXFGLEVBQUFxVixLQUFBd0IsTUFBQWxjLEtBQUFxRixHQUNBckYsT0FlQTBkLEVBQUFtTyxRQUFBLFNBQUF4Z0IsR0FDQSxNQUFBQSxhQUFBcVMsR0FDQXJTLEVBRUEvSixNQUFBK0YsUUFBQWdFLEdBQ0EsR0FBQXFTLEdBQUFyUyxFQUFBLEdBQUFBLEVBQUEsSUFFQUEsSXpDb29ITXlnQixJQUNBLFNBQVVodUIsRUFBUUMsR0FFdkIsWTBDMzdIYyxTQUFTZ3VCLEdBQUtDLEdBQzNCLE1BQVVDLEdBQVYsSUFBd0JELEUxQzQ3SHpCN3NCLE9BQU9DLGVBQWVyQixFQUFTLGNBQzdCcUMsT0FBTyxJQUVUckMsRUFBUUssUTBDaDhIZTJ0QixDQUZ4QixJQUFJRSxHQUFhLGlDMUMyOEhYQyxJQUNBLFNBQVVwdUIsRUFBUUMsRUFBU0MsR0FFaEMsWUFhQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHMkN2OUh4RixRQUFTaXVCLEdBQU9DLEVBQU1DLEdBR3BCLEdBRkFBLEVBQVFBLEdBQVMsR0FFYkEsRUFBUUMsRUFFVixXQURBOW9CLFNBQVFvRCxJQUFJd2xCLEVBSWQsS0FBSSxFQUFBRyxFQUFBbnVCLFNBQVNndUIsR0FDWCxJQUFLLEdBQUl0bUIsS0FBUXNtQixHQUNmNW9CLFFBQVFvRCxJQUFJZCxFQUFNc21CLEVBQUt0bUIsSUFDdkJ0QyxRQUFRZ3BCLE1BQU0xbUIsRUFBTyxNQUFQMGdCLEVBQXNCNEYsRUFBS3RtQixLQUN6Q3FtQixFQUFPQyxFQUFLdG1CLEdBQU91bUIsRUFBUSxHQUMzQjdvQixRQUFRaXBCLGVBR1ZqcEIsU0FBUW9ELElBQUl3bEIsR0FJaEIsUUFBU3RlLEdBQVU0ZSxFQUFRQyxHQUN6QixNQUFPOWUsTUFBS0MsVUFBVTRlLEVBQVEsS0FBTUMsRzNDdTdIckN4dEIsT0FBT0MsZUFBZXJCLEVBQVMsY0FDN0JxQyxPQUFPLElBRVRyQyxFQUFRK1AsVUFBWS9QLEVBQVFvdUIsT0FBU3hmLE1BRXJDLElBQUk2WixHQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVeG9CLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYdW9CLFNBQXlCdm9CLEVBQUkwTixjQUFnQjZhLFFBQVV2b0IsSUFBUXVvQixPQUFPam5CLFVBQVksZUFBa0J0QixJMkNyOUh2UTB1QixFQUFBNXVCLEVBQUEsSzNDeTlIS3V1QixFQUFhdHVCLEVBQXVCMnVCLEcyQ3Y5SHJDTixFQUFZLEczQ3EvSGZ2dUIsRzJDMTlIQ291QixTM0MyOUhEcHVCLEUyQzE5SEMrUCIsImZpbGUiOiJsb2FkLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFsxXSx7XG5cbi8qKiovIDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX0FwcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzM0KTtcblx0XG5cdHZhciBfQXBwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcCk7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyk7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBtYWluID0gbmV3IE1haW4oKTtcblx0ICAgIH07XG5cdH0pKCk7XG5cdFxuXHR2YXIgTWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIE1haW4oKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW4pO1xuXHRcblx0ICAgICAgICB0aGlzLmluaXQoKTtcblx0ICAgICAgICB0aGlzLmFkZEV2ZW50KCk7XG5cdCAgICAgICAgdGhpcy5vbnJlc2l6ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhNYWluLCBbe1xuXHQgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgICAgICAgICB0aGlzLmFwcCA9IG5ldyBfQXBwMi5kZWZhdWx0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FkZEV2ZW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnQoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMub25yZXNpemUuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbmtleXVwLmJpbmQodGhpcykpO1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25rZXlkb3duLmJpbmQodGhpcykpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbnJlc2l6ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9ucmVzaXplKCkge1xuXHQgICAgICAgICAgICB0aGlzLmFwcC5yZXNpemUoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIGZ1bmMge0Z1bmN0aW9ufVxuXHQgICAgICAgICAqIEBwYXJhbSBwYXJhbXNcblx0ICAgICAgICAgKiBAcmV0dXJucyB7aW50ZXJ2YWxGdW5jfVxuXHQgICAgICAgICAqL1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRJbnRlcnZhbEZ1bmN0aW9uJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGVBcmcsIGZ1bmMpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgICAgIHBhcmFtc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGludGVydmFsRnVuYygpIHtcblx0ICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhlQXJnLCBwYXJhbXMpO1xuXHQgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2V5SW50ZXJ2YWxJZCk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmtleUludGVydmFsSWQgPSBzZXRUaW1lb3V0KGludGVydmFsRnVuYy5iaW5kKHRoaXMpLCAyMDApO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWxGdW5jLmJpbmQodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NsZWFySW50ZXJGdW5jdGlvbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFySW50ZXJGdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2V5SW50ZXJ2YWxJZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29ua2V5ZG93bicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9ua2V5ZG93bihldmVudCkge1xuXHQgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuVVA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneScsIC0xKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5ET1dOOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3knLCAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5MRUZUOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3gnLCAtMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUklHSFQ6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneCcsIDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlBBR0VfVVA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5tb3ZlQ2FtZXJhLCAneicsIDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlBBR0VfRE9XTjpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd6JywgLTEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl80OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd5JywgLTAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl82OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd5JywgMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzg6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3gnLCAtMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzI6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3gnLCAwLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNzpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIC0wLjAxKSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMTpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIDAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl85OlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgLTAuMDEpKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8zOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAucm90YXRlV29ybGQsICd6JywgMC4wMSkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNUEFEX0FERDpcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tSW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNUEFEX1NVQlRSQUNUOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21PdXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNUEFEX0VOVEVSOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLnpvb21PdXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzA6XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAucmVzZXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuVzpcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuUzpcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuQTpcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuRDpcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbmtleXVwJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25rZXl1cChldmVudCkge1xuXHQgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuRVNDQVBFOlxuXHQgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuY2xlYXIoKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlNQQUNFOlxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcC5ndWkuY2xvc2VkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLmd1aS5vcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuZ3VpLmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHRcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuVVA6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkRPV046XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LkxFRlQ6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0LlJJR0hUOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5QQUdFX1VQOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5QQUdFX0RPV046XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl80OlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNjpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzg6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl8yOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfNzpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNQkVSXzE6XG5cdCAgICAgICAgICAgICAgICBjYXNlIF9LZXlDb2RlMi5kZWZhdWx0Lk5VTUJFUl85OlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5OVU1CRVJfMzpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNUEFEX0FERDpcblx0ICAgICAgICAgICAgICAgIGNhc2UgX0tleUNvZGUyLmRlZmF1bHQuTlVNUEFEX1NVQlRSQUNUOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5XOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5TOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5BOlxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5EOlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJJbnRlckZ1bmN0aW9uKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgICAgICAgICAgICAgY2FzZSBfS2V5Q29kZTIuZGVmYXVsdC5CQUNLU1BBQ0U6XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cblx0ICAgIHJldHVybiBNYWluO1xuXHR9KCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfYXhpb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNSk7XG5cdFxuXHR2YXIgX2F4aW9zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F4aW9zKTtcblx0XG5cdHZhciBfZ2VvYnVmID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjIpO1xuXHRcblx0dmFyIF9nZW9idWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VvYnVmKTtcblx0XG5cdHZhciBfcGJmID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjUpO1xuXHRcblx0dmFyIF9wYmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGJmKTtcblx0XG5cdHZhciBfcmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzY2KTtcblx0XG5cdHZhciBfcmVxdWVzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXF1ZXN0KTtcblx0XG5cdHZhciBfdGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Nyk7XG5cdFxuXHR2YXIgX3RlbXBsYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RlbXBsYXRlKTtcblx0XG5cdHZhciBfYm9sZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzc1KTtcblx0XG5cdHZhciBfYm9sZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ib2xkKTtcblx0XG5cdHZhciBfZXhwYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzYpO1xuXHRcblx0dmFyIF92ZWN0b3JUaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQvKipcblx0ICog7JWE656YIOyjvOyGjOydmCBwYmbrpbwg7L2U66eM64+E7J2YIOyKpO2DgOydvOydhCDsp4HsoJEg64K066Ck67Cb7JWE7IScIO2MjOyLse2VnCDqsoPqs7wg7Jik7KG07J2YIOqyg+ydhCDrsJvslYTshJwg7ZmV7J24IO2VqeuLiOuLpC5cblx0ICogaHR0cHM6Ly9tYXAubmF2ZXIuY29tL3Y1Lz9jPTE0MTQ5NjcyLjczNzg4MTcsNDQ5MTE5OS43MjE5OTUwLDE1LDAsMCwwLGRoXG5cdCAqIOq3uOumrOqzoCDrsJvqs6Ag7YyM7Iux7ZWY64qUIOu5hOyaqSDqsJzsgrDsnYQg7ZWp64uI64ukLlxuXHQgKi9cblx0Ly8gY29uc3QgeHl6ID0ge3g6IDI3OTUzLCB5OiAxMjcxMSwgejogMTV9O1xuXHQvLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzEyLCB6OiAxNX07XG5cdC8vIGNvbnN0IHh5eiA9IHt4OiAyNzk1NCwgeTogMTI3MTQsIHo6IDE1fTtcblx0Ly8gY29uc3QgeHl6ID0ge3g6IDI3OTUyLCB5OiAxMjcxNCwgejogMTV9O1xuXHQvLyDqt7jrprDtjKnthqDrpqxcblx0dmFyIHh5eiA9IHsgeDogMjc5NTMsIHk6IDEyNzEzLCB6OiAxNSB9O1xuXHR2YXIgdXJscyA9IHtcblx0ICBidXM6ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmIvd210cy9idXMvZDJlMzY0YzktYjc1ZS00ZmQ3LTgwMjAtYzRiMjZmODJiOWNlL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcblx0ICBwb2lfd2ViOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZiL3dtdHMvcG9pX3dlYi84ZmU2ODgzZS01NTI1LTQ1ZjgtOGY1NS01ZTMwYmM0OTgxZjEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuXHQgIHBvaTRvc206ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmJwYy93bXRzL29zbV9uYXZlcl9wb2kvNTY1M2U3NTctOWJmMS00YTJlLWIyMGYtODZiYjRjMGI5OTEyL2dldFRpbGUve3h9L3t5fS97en0vcGJmJyxcblx0ICBuYXZlcjRvc206ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9udmJwYy93bXRzL29zbV9uYXZlcl9kYXRhL2dldE1ldGFkYXRhJyxcblx0ICBjY3R2OiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9jY3R2L2FiNTBiMjZjLTg0MmQtNGJlNS04YjBjLTQ2MDE5ZjVlNzlhMS9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG5cdCAgb3pvbmU6ICdodHRwczovL21hcC5wc3RhdGljLm5ldC9vem9uZS9wYmYvZ2VvanNvbi9QT0k/JyArICd4PScgKyB4eXoueCArICcmJyArICd5PScgKyB4eXoueSArICcgJicgKyAnej0nICsgeHl6LnogKyAnJicgKyAnbmFtZT1vc21fbmF2ZXJfcG9pJicgKyAndmVyc2lvbkNvZGU9NTY1M2U3NTctOWJmMS00YTJlLWIyMGYtODZiYjRjMGI5OTEyJicgKyAncGl4ZWxSYXRpbz0yJicgKyAnaW1hZ2VUeXBlPXNwcml0ZSYnICsgJ2xhbmd1YWdlPWtvJicgKyAnbWFwVHlwZT1OT1JNQUwmJyArICdxdWFsaXR5PW5vcm1hbCdcblx0fTtcblx0XG5cdGZvciAodmFyIHByb3AgaW4gdXJscykge1xuXHQgIHVybHNbcHJvcF0gPSAoMCwgX3RlbXBsYXRlMi5kZWZhdWx0KSh1cmxzW3Byb3BdLCB4eXopO1xuXHR9XG5cdFxuXHR2YXIgQXBwID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIEFwcCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuXHRcblx0ICAgIC8vIHRoaXMudGVzdFBiZih1cmxzLmJ1cywgJ2J1cycpO1xuXHQgICAgLy8gdGhpcy50ZXN0UGJmKHVybHMuY2N0diwgJ2NjdHYnKTtcblx0ICAgIHRoaXMudGVzdFBiZih1cmxzLmNjdHYsICdjY3R2Jyk7XG5cdCAgICB0aGlzLnRlc3RQYmYodXJscy5wb2lfd2ViLCAnbmF2ZXI0b3NtJyk7XG5cdCAgICB0aGlzLnRlc3RQYmYodXJscy5wb2k0b3NtLCAncG9pNG9zbScpO1xuXHQgICAgdGhpcy50ZXN0T3pvbmUodXJscy5vem9uZSwgJ296b25lJyk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQXBwLCBbe1xuXHQgICAga2V5OiAncGFyc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKCkge1xuXHQgICAgICAvLyBjb25zdCBwYmYgPSBuZXcgUGJmKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSk7XG5cdCAgICAgIC8vIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShwYmYpO1xuXHQgICAgICAvLyBjb25zdCB0aWxlID0gbmV3IFZlY3RvclRpbGUobmV3IFByb3RvQnVmKGJ1ZmZlcikpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Rlc3RQYmYnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRlc3RQYmYodXJsLCB0aW1lTGFiZWwpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIGNvbnNvbGUudGltZSgoMCwgX2JvbGQyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1Qjg1Q1xcdUI0REMnKSk7XG5cdCAgICAgICgwLCBfcmVxdWVzdDIuZGVmYXVsdCkoe1xuXHQgICAgICAgIHVybDogdXJsLFxuXHQgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuXHQgICAgICB9KS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0ICAgICAgICBjb25zb2xlLnRpbWVFbmQoKDAsIF9ib2xkMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIFxcdUI4NUNcXHVCNERDJykpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZSgoMCwgX2JvbGQyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgcGJmIFxcdUQzMENcXHVDMkYxJykpO1xuXHQgICAgICAgIHZhciB0aWxlID0gbmV3IF92ZWN0b3JUaWxlLlZlY3RvclRpbGUobmV3IF9wYmYyLmRlZmF1bHQoYnVmZmVyKSk7XG5cdCAgICAgICAgY29uc29sZS50aW1lRW5kKCgwLCBfYm9sZDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBwYmYgXFx1RDMwQ1xcdUMyRjEnKSk7XG5cdCAgICAgICAgLy8gY29uc29sZS5sb2coc3RyaW5naWZ5KHRpbGUsIDIpKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyh0aWxlKTtcblx0ICAgICAgICBjb25zb2xlLnRpbWUoKDAsIF9ib2xkMi5kZWZhdWx0KSh0aW1lTGFiZWwgKyAnIFxcdUQ1M0NcXHVDQ0QwIFxcdUMwRERcXHVDMTMxJykpO1xuXHQgICAgICAgIHZhciBjb2xsZWN0aW9uID0gX3RoaXMuZ2V0RmVhdHVyZXModGlsZSk7XG5cdCAgICAgICAgY29uc29sZS50aW1lRW5kKCgwLCBfYm9sZDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndGVzdE96b25lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0T3pvbmUodXJsLCB0aW1lTGFiZWwpIHtcblx0ICAgICAgY29uc29sZS50aW1lKCgwLCBfYm9sZDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBcXHVCODVDXFx1QjREQycpKTtcblx0ICAgICAgKDAsIF9yZXF1ZXN0Mi5kZWZhdWx0KSh7XG5cdCAgICAgICAgdXJsOiB1cmwsXG5cdCAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG5cdCAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2JvbGQyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgXFx1Qjg1Q1xcdUI0REMnKSk7XG5cdCAgICAgICAgY29uc29sZS50aW1lKCgwLCBfYm9sZDIuZGVmYXVsdCkodGltZUxhYmVsICsgJyBwYmYgXFx1RDMwQ1xcdUMyRjEgXFx1QkMwRiBcXHVENTNDXFx1Q0NEMCBcXHVDMEREXFx1QzEzMScpKTtcblx0XG5cdCAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSB7XG5cdCAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuXHQgICAgICAgICAgZmVhdHVyZXM6IFtdXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY29sbGVjdGlvbiA9IF9nZW9idWYyLmRlZmF1bHQuZGVjb2RlKG5ldyBfcGJmMi5kZWZhdWx0KGJ1ZmZlcikpO1xuXHQgICAgICAgIGNvbnNvbGUudGltZUVuZCgoMCwgX2JvbGQyLmRlZmF1bHQpKHRpbWVMYWJlbCArICcgcGJmIFxcdUQzMENcXHVDMkYxIFxcdUJDMEYgXFx1RDUzQ1xcdUNDRDAgXFx1QzBERFxcdUMxMzEnKSk7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uKTtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RmVhdHVyZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZlYXR1cmVzKHRpbGUpIHtcblx0ICAgICAgdmFyIGNvbGxlY3Rpb24gPSB7XG5cdCAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcblx0ICAgICAgICBmZWF0dXJlczogW11cblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBsYXllcnMgPSBPYmplY3Qua2V5cyh0aWxlLmxheWVycyk7XG5cdFxuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGF5ZXJzKSkge1xuXHQgICAgICAgIGxheWVycyA9IFtsYXllcnNdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBjb25zb2xlLmxvZygnbGF5ZXJzICgnICsgbGF5ZXJzLmxlbmd0aCArICcpJyk7XG5cdCAgICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcklEKSB7XG5cdCAgICAgICAgdmFyIGxheWVyID0gdGlsZS5sYXllcnNbbGF5ZXJJRF07XG5cdFxuXHQgICAgICAgIHZhciBsZW4gPSBsYXllci5sZW5ndGg7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcblx0ICAgICAgICAgIHZhciBmZWF0dXJlID0gX2V4dGVuZHMoe30sIGxheWVyLmZlYXR1cmUoaSkudG9HZW9KU09OKHh5ei54LCB4eXoueSwgeHl6LnopKTtcblx0XG5cdCAgICAgICAgICBpZiAobGVuID4gMCkge1xuXHQgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMubGF5ZXIgPSBsYXllcklEO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgZmVhdHVyZSk7XG5cdCAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmVhdHVyZScsIEpTT04uc3RyaW5naWZ5KGZlYXR1cmUsIG51bGwsIDIpKTtcblx0ICAgICAgICAgIGNvbGxlY3Rpb24uZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVzaXplJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7fVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEFwcDtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQXBwO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0dmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cdHZhciBBeGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQwKTtcblx0dmFyIG1lcmdlQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTgpO1xuXHR2YXIgZGVmYXVsdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nik7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG5cdCAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuXHQgIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuXHQgIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXHRcblx0ICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuXHQgIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblx0XG5cdCAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG5cdCAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblx0XG5cdCAgcmV0dXJuIGluc3RhbmNlO1xuXHR9XG5cdFxuXHQvLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcblx0dmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXHRcblx0Ly8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5cdGF4aW9zLkF4aW9zID0gQXhpb3M7XG5cdFxuXHQvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5cdGF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuXHQgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhheGlvcy5kZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcblx0fTtcblx0XG5cdC8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuXHRheGlvcy5DYW5jZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG5cdGF4aW9zLkNhbmNlbFRva2VuID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjApO1xuXHRheGlvcy5pc0NhbmNlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ1KTtcblx0XG5cdC8vIEV4cG9zZSBhbGwvc3ByZWFkXG5cdGF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuXHQgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cdH07XG5cdGF4aW9zLnNwcmVhZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cdFxuXHQvLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcblx0bW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzOCk7XG5cdHZhciBpc0J1ZmZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzM5KTtcblx0XG5cdC8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXHRcblx0Ly8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3Ncblx0XG5cdHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuXHQgIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcblx0ICB2YXIgcmVzdWx0O1xuXHQgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcblx0ICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3Rcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0RhdGUodmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2Jcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3Rcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG5cdCAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3Rcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG5cdCAqL1xuXHRmdW5jdGlvbiB0cmltKHN0cikge1xuXHQgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcblx0ICpcblx0ICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cblx0ICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuXHQgKlxuXHQgKiB3ZWIgd29ya2Vyczpcblx0ICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG5cdCAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG5cdCAqXG5cdCAqIHJlYWN0LW5hdGl2ZTpcblx0ICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcblx0ICogbmF0aXZlc2NyaXB0XG5cdCAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcblx0ICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gKFxuXHQgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcblx0ICApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG5cdCAqXG5cdCAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3Npbmdcblx0ICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG5cdCAqXG5cdCAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG5cdCAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cblx0ICovXG5cdGZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuXHQgIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuXHQgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdFxuXHQgIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuXHQgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuXHQgICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG5cdCAgICBvYmogPSBbb2JqXTtcblx0ICB9XG5cdFxuXHQgIGlmIChpc0FycmF5KG9iaikpIHtcblx0ICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG5cdCAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG5cdCAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuXHQgKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cblx0ICpcblx0ICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cblx0ICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuXHQgKlxuXHQgKiBFeGFtcGxlOlxuXHQgKlxuXHQgKiBgYGBqc1xuXHQgKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG5cdCAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuXHQgKiBgYGBcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuXHQgKi9cblx0ZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG5cdCAgdmFyIHJlc3VsdCA9IHt9O1xuXHQgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG5cdCAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuXHQgICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG5cdCAqIHRvIG9yaWdpbmFsIG9iamVjdHMgaXMga2VwdC5cblx0ICpcblx0ICogQHNlZSBtZXJnZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2Vcblx0ICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWVwTWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG5cdCAgdmFyIHJlc3VsdCA9IHt9O1xuXHQgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG5cdCAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuXHQgICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2Uoe30sIHZhbCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXN1bHRba2V5XSA9IHZhbDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcblx0ICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG5cdCAqL1xuXHRmdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuXHQgIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcblx0ICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYVtrZXldID0gdmFsO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBhO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBpc0FycmF5OiBpc0FycmF5LFxuXHQgIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG5cdCAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuXHQgIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG5cdCAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuXHQgIGlzU3RyaW5nOiBpc1N0cmluZyxcblx0ICBpc051bWJlcjogaXNOdW1iZXIsXG5cdCAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuXHQgIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcblx0ICBpc0RhdGU6IGlzRGF0ZSxcblx0ICBpc0ZpbGU6IGlzRmlsZSxcblx0ICBpc0Jsb2I6IGlzQmxvYixcblx0ICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuXHQgIGlzU3RyZWFtOiBpc1N0cmVhbSxcblx0ICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG5cdCAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuXHQgIGZvckVhY2g6IGZvckVhY2gsXG5cdCAgbWVyZ2U6IG1lcmdlLFxuXHQgIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuXHQgIGV4dGVuZDogZXh0ZW5kLFxuXHQgIHRyaW06IHRyaW1cblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuXHQgIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMzk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyohXG5cdCAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcblx0ICpcblx0ICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cblx0ICogQGxpY2Vuc2UgIE1JVFxuXHQgKi9cblx0XG5cdC8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcblx0Ly8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG5cdCAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcblx0fVxuXHRcblx0Ly8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cblx0ZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcblx0ICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcblx0fVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHR2YXIgYnVpbGRVUkwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MSk7XG5cdHZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Mik7XG5cdHZhciBkaXNwYXRjaFJlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Myk7XG5cdHZhciBtZXJnZUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU4KTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3Ncblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG5cdCAqL1xuXHRmdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuXHQgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcblx0ICB0aGlzLmludGVyY2VwdG9ycyA9IHtcblx0ICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcblx0ICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogRGlzcGF0Y2ggYSByZXF1ZXN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuXHQgKi9cblx0QXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuXHQgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuXHQgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcblx0ICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0ICAgIGNvbmZpZy51cmwgPSBhcmd1bWVudHNbMF07XG5cdCAgfSBlbHNlIHtcblx0ICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcblx0ICB9XG5cdFxuXHQgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cdCAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QgPyBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCkgOiAnZ2V0Jztcblx0XG5cdCAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuXHQgIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG5cdCAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblx0XG5cdCAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG5cdCAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuXHQgIH0pO1xuXHRcblx0ICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuXHQgICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcblx0ICB9KTtcblx0XG5cdCAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuXHQgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBwcm9taXNlO1xuXHR9O1xuXHRcblx0QXhpb3MucHJvdG90eXBlLmdldFVyaSA9IGZ1bmN0aW9uIGdldFVyaShjb25maWcpIHtcblx0ICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXHQgIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcblx0fTtcblx0XG5cdC8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xuXHR1dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcblx0ICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXHQgIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG5cdCAgICAgIG1ldGhvZDogbWV0aG9kLFxuXHQgICAgICB1cmw6IHVybFxuXHQgICAgfSkpO1xuXHQgIH07XG5cdH0pO1xuXHRcblx0dXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcblx0ICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXHQgIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG5cdCAgICAgIG1ldGhvZDogbWV0aG9kLFxuXHQgICAgICB1cmw6IHVybCxcblx0ICAgICAgZGF0YTogZGF0YVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdGZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcblx0ICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG5cdCAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG5cdCAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG5cdCAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cblx0ICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cblx0ICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuXHQgICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuXHQgICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuXHQgKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuXHQgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuXHQgIGlmICghcGFyYW1zKSB7XG5cdCAgICByZXR1cm4gdXJsO1xuXHQgIH1cblx0XG5cdCAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG5cdCAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcblx0ICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG5cdCAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG5cdCAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBwYXJ0cyA9IFtdO1xuXHRcblx0ICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcblx0ICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuXHQgICAgICAgIGtleSA9IGtleSArICdbXSc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFsID0gW3ZhbF07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcblx0ICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG5cdCAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcblx0ICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcblx0ICB9XG5cdFxuXHQgIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG5cdCAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG5cdCAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcblx0ICB9XG5cdFxuXHQgIHJldHVybiB1cmw7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHRmdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG5cdCAgdGhpcy5oYW5kbGVycyA9IFtdO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG5cdCAqXG5cdCAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcblx0ICovXG5cdEludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcblx0ICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuXHQgICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG5cdCAgICByZWplY3RlZDogcmVqZWN0ZWRcblx0ICB9KTtcblx0ICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuXHQgKlxuXHQgKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG5cdCAqL1xuXHRJbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcblx0ICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcblx0ICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcblx0ICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcblx0ICpcblx0ICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcblx0ICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG5cdCAqL1xuXHRJbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG5cdCAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG5cdCAgICBpZiAoaCAhPT0gbnVsbCkge1xuXHQgICAgICBmbihoKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHR2YXIgdHJhbnNmb3JtRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ0KTtcblx0dmFyIGlzQ2FuY2VsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDUpO1xuXHR2YXIgZGVmYXVsdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nik7XG5cdHZhciBpc0Fic29sdXRlVVJMID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTYpO1xuXHR2YXIgY29tYmluZVVSTHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Nyk7XG5cdFxuXHQvKipcblx0ICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cblx0ICovXG5cdGZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG5cdCAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuXHQgICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcblx0ICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cdFxuXHQgIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcblx0ICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcblx0ICAgIGNvbmZpZy51cmwgPSBjb21iaW5lVVJMcyhjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG5cdCAgfVxuXHRcblx0ICAvLyBFbnN1cmUgaGVhZGVycyBleGlzdFxuXHQgIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cdFxuXHQgIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcblx0ICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG5cdCAgICBjb25maWcuZGF0YSxcblx0ICAgIGNvbmZpZy5oZWFkZXJzLFxuXHQgICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3Rcblx0ICApO1xuXHRcblx0ICAvLyBGbGF0dGVuIGhlYWRlcnNcblx0ICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuXHQgICAgY29uZmlnLmhlYWRlcnMuY29tbW9uIHx8IHt9LFxuXHQgICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG5cdCAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuXHQgICk7XG5cdFxuXHQgIHV0aWxzLmZvckVhY2goXG5cdCAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcblx0ICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuXHQgICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcblx0ICAgIH1cblx0ICApO1xuXHRcblx0ICB2YXIgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXI7XG5cdFxuXHQgIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cdFxuXHQgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcblx0ICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuXHQgICAgICByZXNwb25zZS5kYXRhLFxuXHQgICAgICByZXNwb25zZS5oZWFkZXJzLFxuXHQgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2Vcblx0ICAgICk7XG5cdFxuXHQgICAgcmV0dXJuIHJlc3BvbnNlO1xuXHQgIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcblx0ICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuXHQgICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cdFxuXHQgICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuXHQgICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuXHQgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcblx0ICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuXHQgICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMsXG5cdCAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2Vcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG5cdCAgfSk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcblx0ICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2Vcblx0ICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuXHQgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG5cdCAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG5cdCAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuXHQgICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcblx0ICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM0Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0dmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OCk7XG5cdFxuXHR2YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG5cdCAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcblx0ICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuXHQgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuXHQgIHZhciBhZGFwdGVyO1xuXHQgIC8vIE9ubHkgTm9kZS5KUyBoYXMgYSBwcm9jZXNzIHZhcmlhYmxlIHRoYXQgaXMgb2YgW1tDbGFzc11dIHByb2Nlc3Ncblx0ICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG5cdCAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG5cdCAgICBhZGFwdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDkpO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuXHQgICAgYWRhcHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ5KTtcblx0ICB9XG5cdCAgcmV0dXJuIGFkYXB0ZXI7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0cyA9IHtcblx0ICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXHRcblx0ICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG5cdCAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdBY2NlcHQnKTtcblx0ICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuXHQgICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcblx0ICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuXHQgICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuXHQgICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuXHQgICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcblx0ICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG5cdCAgICApIHtcblx0ICAgICAgcmV0dXJuIGRhdGE7XG5cdCAgICB9XG5cdCAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcblx0ICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuXHQgICAgfVxuXHQgICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG5cdCAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcblx0ICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcblx0ICAgIH1cblx0ICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuXHQgICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuXHQgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0YTtcblx0ICB9XSxcblx0XG5cdCAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG5cdCAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cblx0ICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcblx0ICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGE7XG5cdCAgfV0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuXHQgICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG5cdCAgICovXG5cdCAgdGltZW91dDogMCxcblx0XG5cdCAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcblx0ICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cdFxuXHQgIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXHRcblx0ICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG5cdCAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZGVmYXVsdHMuaGVhZGVycyA9IHtcblx0ICBjb21tb246IHtcblx0ICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuXHQgIH1cblx0fTtcblx0XG5cdHV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcblx0ICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcblx0fSk7XG5cdFxuXHR1dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuXHQgIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcblx0fSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMzQ3KSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdHByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblx0XG5cdHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuXHQgIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuXHQgICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuXHQgICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuXHQgICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQ5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM3KTtcblx0dmFyIHNldHRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUwKTtcblx0dmFyIGJ1aWxkVVJMID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDEpO1xuXHR2YXIgcGFyc2VIZWFkZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTMpO1xuXHR2YXIgaXNVUkxTYW1lT3JpZ2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTQpO1xuXHR2YXIgY3JlYXRlRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuXHQgICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cdFxuXHQgICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG5cdCAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcblx0ICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cblx0ICAgIGlmIChjb25maWcuYXV0aCkge1xuXHQgICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcblx0ICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG5cdCAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblx0XG5cdCAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuXHQgICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cdFxuXHQgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuXHQgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuXHQgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcblx0ICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcblx0ICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcblx0ICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuXHQgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG5cdCAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcblx0ICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcblx0ICAgICAgdmFyIHJlc3BvbnNlID0ge1xuXHQgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcblx0ICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuXHQgICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcblx0ICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG5cdCAgICAgICAgY29uZmlnOiBjb25maWcsXG5cdCAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXHRcblx0ICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuXHQgICAgICByZXF1ZXN0ID0gbnVsbDtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuXHQgICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24gaGFuZGxlQWJvcnQoKSB7XG5cdCAgICAgIGlmICghcmVxdWVzdCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cdFxuXHQgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG5cdCAgICAgIHJlcXVlc3QgPSBudWxsO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG5cdCAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcblx0ICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG5cdCAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuXHQgICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblx0XG5cdCAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3Rcblx0ICAgICAgcmVxdWVzdCA9IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEhhbmRsZSB0aW1lb3V0XG5cdCAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG5cdCAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuXHQgICAgICAgIHJlcXVlc3QpKTtcblx0XG5cdCAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3Rcblx0ICAgICAgcmVxdWVzdCA9IG51bGw7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuXHQgICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG5cdCAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuXHQgICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcblx0ICAgICAgdmFyIGNvb2tpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NSk7XG5cdFxuXHQgICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcblx0ICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cblx0ICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG5cdCAgICAgICAgdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuXHQgICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuXHQgICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG5cdCAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcblx0ICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcblx0ICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuXHQgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcblx0ICAgIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG5cdCAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG5cdCAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cblx0ICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuXHQgICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcblx0ICAgICAgICAgIHRocm93IGU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuXHQgICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuXHQgICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuXHQgICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG5cdCAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cblx0ICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuXHQgICAgICAgIGlmICghcmVxdWVzdCkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuXHQgICAgICAgIHJlamVjdChjYW5jZWwpO1xuXHQgICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3Rcblx0ICAgICAgICByZXF1ZXN0ID0gbnVsbDtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFNlbmQgdGhlIHJlcXVlc3Rcblx0ICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG5cdCAgfSk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY3JlYXRlRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MSk7XG5cdFxuXHQvKipcblx0ICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cblx0ICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcblx0ICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG5cdCAgaWYgKCF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG5cdCAgICByZXNvbHZlKHJlc3BvbnNlKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuXHQgICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuXHQgICAgICByZXNwb25zZS5jb25maWcsXG5cdCAgICAgIG51bGwsXG5cdCAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG5cdCAgICAgIHJlc3BvbnNlXG5cdCAgICApKTtcblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZW5oYW5jZUVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG5cdCAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHQgIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG5cdCAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuXHQgIGlmIChjb2RlKSB7XG5cdCAgICBlcnJvci5jb2RlID0gY29kZTtcblx0ICB9XG5cdFxuXHQgIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuXHQgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG5cdCAgZXJyb3IuaXNBeGlvc0Vycm9yID0gdHJ1ZTtcblx0XG5cdCAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAvLyBTdGFuZGFyZFxuXHQgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG5cdCAgICAgIG5hbWU6IHRoaXMubmFtZSxcblx0ICAgICAgLy8gTWljcm9zb2Z0XG5cdCAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuXHQgICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuXHQgICAgICAvLyBNb3ppbGxhXG5cdCAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuXHQgICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG5cdCAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG5cdCAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuXHQgICAgICAvLyBBeGlvc1xuXHQgICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuXHQgICAgICBjb2RlOiB0aGlzLmNvZGVcblx0ICAgIH07XG5cdCAgfTtcblx0ICByZXR1cm4gZXJyb3I7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHQvLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuXHQvLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5cdHZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcblx0ICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuXHQgICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcblx0ICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG5cdCAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcblx0XTtcblx0XG5cdC8qKlxuXHQgKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG5cdCAqXG5cdCAqIGBgYFxuXHQgKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuXHQgKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cblx0ICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuXHQgKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuXHQgKiBgYGBcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuXHQgIHZhciBwYXJzZWQgPSB7fTtcblx0ICB2YXIga2V5O1xuXHQgIHZhciB2YWw7XG5cdCAgdmFyIGk7XG5cdFxuXHQgIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cdFxuXHQgIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG5cdCAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG5cdCAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXHRcblx0ICAgIGlmIChrZXkpIHtcblx0ICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuXHQgICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBwYXJzZWQ7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChcblx0ICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblx0XG5cdCAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG5cdCAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG5cdCAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuXHQgICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cdCAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0ICAgICAgdmFyIG9yaWdpblVSTDtcblx0XG5cdCAgICAgIC8qKlxuXHQgICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcblx0ICAgICpcblx0ICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuXHQgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuXHQgICAgKi9cblx0ICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcblx0ICAgICAgICB2YXIgaHJlZiA9IHVybDtcblx0XG5cdCAgICAgICAgaWYgKG1zaWUpIHtcblx0ICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG5cdCAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblx0ICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cdFxuXHQgICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcblx0ICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG5cdCAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuXHQgICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuXHQgICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcblx0ICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcblx0ICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG5cdCAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG5cdCAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcblx0ICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblx0XG5cdCAgICAgIC8qKlxuXHQgICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuXHQgICAgKlxuXHQgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3Rcblx0ICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuXHQgICAgKi9cblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG5cdCAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcblx0ICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG5cdCAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG5cdCAgICAgIH07XG5cdCAgICB9KSgpIDpcblx0XG5cdCAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cblx0ICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH07XG5cdCAgICB9KSgpXG5cdCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM1NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IChcblx0ICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblx0XG5cdCAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG5cdCAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcblx0ICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcblx0ICAgICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblx0XG5cdCAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcblx0ICAgICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuXHQgICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcblx0ICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG5cdCAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcblx0ICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG5cdCAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcblx0ICAgICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfSkoKSA6XG5cdFxuXHQgIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cblx0ICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG5cdCAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG5cdCAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuXHQgICAgICB9O1xuXHQgICAgfSkoKVxuXHQpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG5cdCAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuXHQgIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuXHQgIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuXHQgIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG5cdCAgcmV0dXJuIHJlbGF0aXZlVVJMXG5cdCAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuXHQgICAgOiBiYXNlVVJMO1xuXHR9O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuXHRcblx0LyoqXG5cdCAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3Rcblx0ICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcblx0ICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0ICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcblx0ICB2YXIgY29uZmlnID0ge307XG5cdFxuXHQgIHV0aWxzLmZvckVhY2goWyd1cmwnLCAnbWV0aG9kJywgJ3BhcmFtcycsICdkYXRhJ10sIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuXHQgICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICB1dGlscy5mb3JFYWNoKFsnaGVhZGVycycsICdhdXRoJywgJ3Byb3h5J10sIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuXHQgICAgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzJbcHJvcF0pKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG5cdCAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzFbcHJvcF0pKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHV0aWxzLmZvckVhY2goW1xuXHQgICAgJ2Jhc2VVUkwnLCAndHJhbnNmb3JtUmVxdWVzdCcsICd0cmFuc2Zvcm1SZXNwb25zZScsICdwYXJhbXNTZXJpYWxpemVyJyxcblx0ICAgICd0aW1lb3V0JywgJ3dpdGhDcmVkZW50aWFscycsICdhZGFwdGVyJywgJ3Jlc3BvbnNlVHlwZScsICd4c3JmQ29va2llTmFtZScsXG5cdCAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLCAnbWF4Q29udGVudExlbmd0aCcsXG5cdCAgICAndmFsaWRhdGVTdGF0dXMnLCAnbWF4UmVkaXJlY3RzJywgJ2h0dHBBZ2VudCcsICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJyxcblx0ICAgICdzb2NrZXRQYXRoJ1xuXHQgIF0sIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuXHQgICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGNvbmZpZztcblx0fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzU5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cblx0ICpcblx0ICogQGNsYXNzXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG5cdCAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxuXHRcblx0Q2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHQgIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xuXHR9O1xuXHRcblx0Q2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIENhbmNlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzU5KTtcblx0XG5cdC8qKlxuXHQgKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuXHQgKlxuXHQgKiBAY2xhc3Ncblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcblx0ICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgcmVzb2x2ZVByb21pc2U7XG5cdCAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcblx0ICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcblx0ICB9KTtcblx0XG5cdCAgdmFyIHRva2VuID0gdGhpcztcblx0ICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuXHQgICAgaWYgKHRva2VuLnJlYXNvbikge1xuXHQgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG5cdCAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cblx0ICovXG5cdENhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcblx0ICBpZiAodGhpcy5yZWFzb24pIHtcblx0ICAgIHRocm93IHRoaXMucmVhc29uO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG5cdCAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG5cdCAqL1xuXHRDYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG5cdCAgdmFyIGNhbmNlbDtcblx0ICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuXHQgICAgY2FuY2VsID0gYztcblx0ICB9KTtcblx0ICByZXR1cm4ge1xuXHQgICAgdG9rZW46IHRva2VuLFxuXHQgICAgY2FuY2VsOiBjYW5jZWxcblx0ICB9O1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzYxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuXHQgKlxuXHQgKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuXHQgKlxuXHQgKiAgYGBganNcblx0ICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cblx0ICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuXHQgKiAgZi5hcHBseShudWxsLCBhcmdzKTtcblx0ICogIGBgYFxuXHQgKlxuXHQgKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cblx0ICpcblx0ICogIGBgYGpzXG5cdCAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG5cdCAqICBgYGBcblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcblx0ICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLmVuY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYzKTtcblx0ZXhwb3J0cy5kZWNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVuY29kZTtcblx0XG5cdHZhciBrZXlzLCBrZXlzTnVtLCBrZXlzQXJyLCBkaW0sIGUsXG5cdCAgICBtYXhQcmVjaXNpb24gPSAxZTY7XG5cdFxuXHR2YXIgZ2VvbWV0cnlUeXBlcyA9IHtcblx0ICAgICdQb2ludCc6IDAsXG5cdCAgICAnTXVsdGlQb2ludCc6IDEsXG5cdCAgICAnTGluZVN0cmluZyc6IDIsXG5cdCAgICAnTXVsdGlMaW5lU3RyaW5nJzogMyxcblx0ICAgICdQb2x5Z29uJzogNCxcblx0ICAgICdNdWx0aVBvbHlnb24nOiA1LFxuXHQgICAgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IDZcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGVuY29kZShvYmosIHBiZikge1xuXHQgICAga2V5cyA9IHt9O1xuXHQgICAga2V5c0FyciA9IFtdO1xuXHQgICAga2V5c051bSA9IDA7XG5cdCAgICBkaW0gPSAwO1xuXHQgICAgZSA9IDE7XG5cdFxuXHQgICAgYW5hbHl6ZShvYmopO1xuXHRcblx0ICAgIGUgPSBNYXRoLm1pbihlLCBtYXhQcmVjaXNpb24pO1xuXHQgICAgdmFyIHByZWNpc2lvbiA9IE1hdGguY2VpbChNYXRoLmxvZyhlKSAvIE1hdGguTE4xMCk7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTdHJpbmdGaWVsZCgxLCBrZXlzQXJyW2ldKTtcblx0ICAgIGlmIChkaW0gIT09IDIpIHBiZi53cml0ZVZhcmludEZpZWxkKDIsIGRpbSk7XG5cdCAgICBpZiAocHJlY2lzaW9uICE9PSA2KSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCBwcmVjaXNpb24pO1xuXHRcblx0ICAgIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykgcGJmLndyaXRlTWVzc2FnZSg0LCB3cml0ZUZlYXR1cmVDb2xsZWN0aW9uLCBvYmopO1xuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlJykgcGJmLndyaXRlTWVzc2FnZSg1LCB3cml0ZUZlYXR1cmUsIG9iaik7XG5cdCAgICBlbHNlIHBiZi53cml0ZU1lc3NhZ2UoNiwgd3JpdGVHZW9tZXRyeSwgb2JqKTtcblx0XG5cdCAgICBrZXlzID0gbnVsbDtcblx0XG5cdCAgICByZXR1cm4gcGJmLmZpbmlzaCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbmFseXplKG9iaikge1xuXHQgICAgdmFyIGksIGtleTtcblx0XG5cdCAgICBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSBhbmFseXplKG9iai5mZWF0dXJlc1tpXSk7XG5cdFxuXHQgICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG5cdCAgICAgICAgaWYgKG9iai5nZW9tZXRyeSAhPT0gbnVsbCkgYW5hbHl6ZShvYmouZ2VvbWV0cnkpO1xuXHQgICAgICAgIGZvciAoa2V5IGluIG9iai5wcm9wZXJ0aWVzKSBzYXZlS2V5KGtleSk7XG5cdFxuXHQgICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ1BvaW50JykgYW5hbHl6ZVBvaW50KG9iai5jb29yZGluYXRlcyk7XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ011bHRpUG9pbnQnKSBhbmFseXplUG9pbnRzKG9iai5jb29yZGluYXRlcyk7XG5cdCAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmdlb21ldHJpZXMubGVuZ3RoOyBpKyspIGFuYWx5emUob2JqLmdlb21ldHJpZXNbaV0pO1xuXHQgICAgfVxuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdMaW5lU3RyaW5nJykgYW5hbHl6ZVBvaW50cyhvYmouY29vcmRpbmF0ZXMpO1xuXHQgICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdQb2x5Z29uJyB8fCBvYmoudHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGFuYWx5emVNdWx0aUxpbmUob2JqLmNvb3JkaW5hdGVzKTtcblx0ICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnTXVsdGlQb2x5Z29uJykge1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmouY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIGFuYWx5emVNdWx0aUxpbmUob2JqLmNvb3JkaW5hdGVzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGtleSBpbiBvYmopIHtcblx0ICAgICAgICBpZiAoIWlzU3BlY2lhbEtleShrZXksIG9iai50eXBlKSkgc2F2ZUtleShrZXkpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhbmFseXplTXVsdGlMaW5lKGNvb3Jkcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIGFuYWx5emVQb2ludHMoY29vcmRzW2ldKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYW5hbHl6ZVBvaW50cyhjb29yZHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSBhbmFseXplUG9pbnQoY29vcmRzW2ldKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYW5hbHl6ZVBvaW50KHBvaW50KSB7XG5cdCAgICBkaW0gPSBNYXRoLm1heChkaW0sIHBvaW50Lmxlbmd0aCk7XG5cdFxuXHQgICAgLy8gZmluZCBtYXggcHJlY2lzaW9uXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgd2hpbGUgKE1hdGgucm91bmQocG9pbnRbaV0gKiBlKSAvIGUgIT09IHBvaW50W2ldICYmIGUgPCBtYXhQcmVjaXNpb24pIGUgKj0gMTA7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhdmVLZXkoa2V5KSB7XG5cdCAgICBpZiAoa2V5c1trZXldID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBrZXlzQXJyLnB1c2goa2V5KTtcblx0ICAgICAgICBrZXlzW2tleV0gPSBrZXlzTnVtKys7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlRmVhdHVyZUNvbGxlY3Rpb24ob2JqLCBwYmYpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxLCB3cml0ZUZlYXR1cmUsIG9iai5mZWF0dXJlc1tpXSk7XG5cdCAgICB9XG5cdCAgICB3cml0ZVByb3BzKG9iaiwgcGJmLCB0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVGZWF0dXJlKGZlYXR1cmUsIHBiZikge1xuXHQgICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkgIT09IG51bGwpIHBiZi53cml0ZU1lc3NhZ2UoMSwgd3JpdGVHZW9tZXRyeSwgZmVhdHVyZS5nZW9tZXRyeSk7XG5cdFxuXHQgICAgaWYgKGZlYXR1cmUuaWQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgZmVhdHVyZS5pZCA9PT0gJ251bWJlcicgJiYgZmVhdHVyZS5pZCAlIDEgPT09IDApIHBiZi53cml0ZVNWYXJpbnRGaWVsZCgxMiwgZmVhdHVyZS5pZCk7XG5cdCAgICAgICAgZWxzZSBwYmYud3JpdGVTdHJpbmdGaWVsZCgxMSwgZmVhdHVyZS5pZCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykgd3JpdGVQcm9wcyhmZWF0dXJlLnByb3BlcnRpZXMsIHBiZik7XG5cdCAgICB3cml0ZVByb3BzKGZlYXR1cmUsIHBiZiwgdHJ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlR2VvbWV0cnkoZ2VvbSwgcGJmKSB7XG5cdCAgICBwYmYud3JpdGVWYXJpbnRGaWVsZCgxLCBnZW9tZXRyeVR5cGVzW2dlb20udHlwZV0pO1xuXHRcblx0ICAgIHZhciBjb29yZHMgPSBnZW9tLmNvb3JkaW5hdGVzO1xuXHRcblx0ICAgIGlmIChnZW9tLnR5cGUgPT09ICdQb2ludCcpIHdyaXRlUG9pbnQoY29vcmRzLCBwYmYpO1xuXHQgICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnTXVsdGlQb2ludCcpIHdyaXRlTGluZShjb29yZHMsIHBiZiwgdHJ1ZSk7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdMaW5lU3RyaW5nJykgd3JpdGVMaW5lKGNvb3JkcywgcGJmKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHdyaXRlTXVsdGlMaW5lKGNvb3JkcywgcGJmKTtcblx0ICAgIGVsc2UgaWYgKGdlb20udHlwZSA9PT0gJ1BvbHlnb24nKSB3cml0ZU11bHRpTGluZShjb29yZHMsIHBiZiwgdHJ1ZSk7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB3cml0ZU11bHRpUG9seWdvbihjb29yZHMsIHBiZik7XG5cdCAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tLmdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHBiZi53cml0ZU1lc3NhZ2UoNCwgd3JpdGVHZW9tZXRyeSwgZ2VvbS5nZW9tZXRyaWVzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICB3cml0ZVByb3BzKGdlb20sIHBiZiwgdHJ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlUHJvcHMocHJvcHMsIHBiZiwgaXNDdXN0b20pIHtcblx0ICAgIHZhciBpbmRleGVzID0gW10sXG5cdCAgICAgICAgdmFsdWVJbmRleCA9IDA7XG5cdFxuXHQgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG5cdCAgICAgICAgaWYgKGlzQ3VzdG9tICYmIGlzU3BlY2lhbEtleShrZXksIHByb3BzLnR5cGUpKSB7XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwYmYud3JpdGVNZXNzYWdlKDEzLCB3cml0ZVZhbHVlLCBwcm9wc1trZXldKTtcblx0ICAgICAgICBpbmRleGVzLnB1c2goa2V5c1trZXldKTtcblx0ICAgICAgICBpbmRleGVzLnB1c2godmFsdWVJbmRleCsrKTtcblx0ICAgIH1cblx0ICAgIHBiZi53cml0ZVBhY2tlZFZhcmludChpc0N1c3RvbSA/IDE1IDogMTQsIGluZGV4ZXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZVZhbHVlKHZhbHVlLCBwYmYpIHtcblx0ICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuXHRcblx0ICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXHRcblx0ICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykgcGJmLndyaXRlU3RyaW5nRmllbGQoMSwgdmFsdWUpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Jvb2xlYW4nKSBwYmYud3JpdGVCb29sZWFuRmllbGQoNSwgdmFsdWUpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDYsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgIGlmICh2YWx1ZSAlIDEgIT09IDApIHBiZi53cml0ZURvdWJsZUZpZWxkKDIsIHZhbHVlKTtcblx0ICAgICAgICBlbHNlIGlmICh2YWx1ZSA+PSAwKSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCB2YWx1ZSk7XG5cdCAgICAgICAgZWxzZSBwYmYud3JpdGVWYXJpbnRGaWVsZCg0LCAtdmFsdWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZVBvaW50KHBvaW50LCBwYmYpIHtcblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltOyBpKyspIGNvb3Jkcy5wdXNoKE1hdGgucm91bmQocG9pbnRbaV0gKiBlKSk7XG5cdCAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlTGluZShsaW5lLCBwYmYpIHtcblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmUpO1xuXHQgICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZU11bHRpTGluZShsaW5lcywgcGJmLCBjbG9zZWQpIHtcblx0ICAgIHZhciBsZW4gPSBsaW5lcy5sZW5ndGgsXG5cdCAgICAgICAgaTtcblx0ICAgIGlmIChsZW4gIT09IDEpIHtcblx0ICAgICAgICB2YXIgbGVuZ3RocyA9IFtdO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgbGVuZ3Rocy5wdXNoKGxpbmVzW2ldLmxlbmd0aCAtIChjbG9zZWQgPyAxIDogMCkpO1xuXHQgICAgICAgIHBiZi53cml0ZVBhY2tlZFZhcmludCgyLCBsZW5ndGhzKTtcblx0ICAgICAgICAvLyBUT0RPIGZhc3RlciB3aXRoIGN1c3RvbSB3cml0ZU1lc3NhZ2U/XG5cdCAgICB9XG5cdCAgICB2YXIgY29vcmRzID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmVzW2ldLCBjbG9zZWQpO1xuXHQgICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZU11bHRpUG9seWdvbihwb2x5Z29ucywgcGJmKSB7XG5cdCAgICB2YXIgbGVuID0gcG9seWdvbnMubGVuZ3RoLFxuXHQgICAgICAgIGksIGo7XG5cdCAgICBpZiAobGVuICE9PSAxIHx8IHBvbHlnb25zWzBdLmxlbmd0aCAhPT0gMSkge1xuXHQgICAgICAgIHZhciBsZW5ndGhzID0gW2xlbl07XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIGxlbmd0aHMucHVzaChwb2x5Z29uc1tpXS5sZW5ndGgpO1xuXHQgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcG9seWdvbnNbaV0ubGVuZ3RoOyBqKyspIGxlbmd0aHMucHVzaChwb2x5Z29uc1tpXVtqXS5sZW5ndGggLSAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcGJmLndyaXRlUGFja2VkVmFyaW50KDIsIGxlbmd0aHMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjb29yZHMgPSBbXTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgcG9wdWxhdGVMaW5lKGNvb3JkcywgcG9seWdvbnNbaV1bal0sIHRydWUpO1xuXHQgICAgfVxuXHQgICAgcGJmLndyaXRlUGFja2VkU1ZhcmludCgzLCBjb29yZHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lLCBjbG9zZWQpIHtcblx0ICAgIHZhciBpLCBqLFxuXHQgICAgICAgIGxlbiA9IGxpbmUubGVuZ3RoIC0gKGNsb3NlZCA/IDEgOiAwKSxcblx0ICAgICAgICBzdW0gPSBuZXcgQXJyYXkoZGltKTtcblx0ICAgIGZvciAoaiA9IDA7IGogPCBkaW07IGorKykgc3VtW2pdID0gMDtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGZvciAoaiA9IDA7IGogPCBkaW07IGorKykge1xuXHQgICAgICAgICAgICB2YXIgbiA9IE1hdGgucm91bmQobGluZVtpXVtqXSAqIGUpIC0gc3VtW2pdO1xuXHQgICAgICAgICAgICBjb29yZHMucHVzaChuKTtcblx0ICAgICAgICAgICAgc3VtW2pdICs9IG47XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NwZWNpYWxLZXkoa2V5LCB0eXBlKSB7XG5cdCAgICBpZiAoa2V5ID09PSAndHlwZScpIHJldHVybiB0cnVlO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdmZWF0dXJlcycpIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlID09PSAnRmVhdHVyZScpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSAnaWQnIHx8IGtleSA9PT0gJ3Byb3BlcnRpZXMnIHx8IGtleSA9PT0gJ2dlb21ldHJ5JykgcmV0dXJuIHRydWU7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gJ2dlb21ldHJpZXMnKSByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY29vcmRpbmF0ZXMnKSByZXR1cm4gdHJ1ZTtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBkZWNvZGU7XG5cdFxuXHR2YXIga2V5cywgdmFsdWVzLCBsZW5ndGhzLCBkaW0sIGU7XG5cdFxuXHR2YXIgZ2VvbWV0cnlUeXBlcyA9IFtcblx0ICAgICdQb2ludCcsICdNdWx0aVBvaW50JywgJ0xpbmVTdHJpbmcnLCAnTXVsdGlMaW5lU3RyaW5nJyxcblx0ICAgICdQb2x5Z29uJywgJ011bHRpUG9seWdvbicsICdHZW9tZXRyeUNvbGxlY3Rpb24nXTtcblx0XG5cdGZ1bmN0aW9uIGRlY29kZShwYmYpIHtcblx0ICAgIGRpbSA9IDI7XG5cdCAgICBlID0gTWF0aC5wb3coMTAsIDYpO1xuXHQgICAgbGVuZ3RocyA9IG51bGw7XG5cdFxuXHQgICAga2V5cyA9IFtdO1xuXHQgICAgdmFsdWVzID0gW107XG5cdCAgICB2YXIgb2JqID0gcGJmLnJlYWRGaWVsZHMocmVhZERhdGFGaWVsZCwge30pO1xuXHQgICAga2V5cyA9IG51bGw7XG5cdFxuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZERhdGFGaWVsZCh0YWcsIG9iaiwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAxKSBrZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDIpIGRpbSA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDMpIGUgPSBNYXRoLnBvdygxMCwgcGJmLnJlYWRWYXJpbnQoKSk7XG5cdFxuXHQgICAgZWxzZSBpZiAodGFnID09PSA0KSByZWFkRmVhdHVyZUNvbGxlY3Rpb24ocGJmLCBvYmopO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSA1KSByZWFkRmVhdHVyZShwYmYsIG9iaik7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDYpIHJlYWRHZW9tZXRyeShwYmYsIG9iaik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRGZWF0dXJlQ29sbGVjdGlvbihwYmYsIG9iaikge1xuXHQgICAgb2JqLnR5cGUgPSAnRmVhdHVyZUNvbGxlY3Rpb24nO1xuXHQgICAgb2JqLmZlYXR1cmVzID0gW107XG5cdCAgICByZXR1cm4gcGJmLnJlYWRNZXNzYWdlKHJlYWRGZWF0dXJlQ29sbGVjdGlvbkZpZWxkLCBvYmopO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkRmVhdHVyZShwYmYsIGZlYXR1cmUpIHtcblx0ICAgIGZlYXR1cmUudHlwZSA9ICdGZWF0dXJlJztcblx0ICAgIHZhciBmID0gcGJmLnJlYWRNZXNzYWdlKHJlYWRGZWF0dXJlRmllbGQsIGZlYXR1cmUpO1xuXHQgICAgaWYgKCFmLmhhc093blByb3BlcnR5KCdnZW9tZXRyeScpKSBmLmdlb21ldHJ5ID0gbnVsbDtcblx0ICAgIHJldHVybiBmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkR2VvbWV0cnkocGJmLCBnZW9tKSB7XG5cdCAgICByZXR1cm4gcGJmLnJlYWRNZXNzYWdlKHJlYWRHZW9tZXRyeUZpZWxkLCBnZW9tKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQodGFnLCBvYmosIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMSkgb2JqLmZlYXR1cmVzLnB1c2gocmVhZEZlYXR1cmUocGJmLCB7fSkpO1xuXHRcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMTUpIHJlYWRQcm9wcyhwYmYsIG9iaik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRGZWF0dXJlRmllbGQodGFnLCBmZWF0dXJlLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT09IDEpIGZlYXR1cmUuZ2VvbWV0cnkgPSByZWFkR2VvbWV0cnkocGJmLCB7fSk7XG5cdFxuXHQgICAgZWxzZSBpZiAodGFnID09PSAxMSkgZmVhdHVyZS5pZCA9IHBiZi5yZWFkU3RyaW5nKCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDEyKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRTVmFyaW50KCk7XG5cdFxuXHQgICAgZWxzZSBpZiAodGFnID09PSAxMykgdmFsdWVzLnB1c2gocmVhZFZhbHVlKHBiZikpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxNCkgZmVhdHVyZS5wcm9wZXJ0aWVzID0gcmVhZFByb3BzKHBiZiwge30pO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZmVhdHVyZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRHZW9tZXRyeUZpZWxkKHRhZywgZ2VvbSwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAxKSBnZW9tLnR5cGUgPSBnZW9tZXRyeVR5cGVzW3BiZi5yZWFkVmFyaW50KCldO1xuXHRcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgbGVuZ3RocyA9IHBiZi5yZWFkUGFja2VkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDMpIHJlYWRDb29yZHMoZ2VvbSwgcGJmLCBnZW9tLnR5cGUpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSA0KSB7XG5cdCAgICAgICAgZ2VvbS5nZW9tZXRyaWVzID0gZ2VvbS5nZW9tZXRyaWVzIHx8IFtdO1xuXHQgICAgICAgIGdlb20uZ2VvbWV0cmllcy5wdXNoKHJlYWRHZW9tZXRyeShwYmYsIHt9KSk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDE1KSByZWFkUHJvcHMocGJmLCBnZW9tKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZENvb3JkcyhnZW9tLCBwYmYsIHR5cGUpIHtcblx0ICAgIGlmICh0eXBlID09PSAnUG9pbnQnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZFBvaW50KHBiZik7XG5cdCAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTGluZShwYmYsIHRydWUpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZExpbmUocGJmKTtcblx0ICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpTGluZShwYmYpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ1BvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpTGluZShwYmYsIHRydWUpO1xuXHQgICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUG9seWdvbicpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTXVsdGlQb2x5Z29uKHBiZik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRWYWx1ZShwYmYpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcblx0ICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdFxuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcGJmLnJlYWRWYXJpbnQoKSxcblx0ICAgICAgICAgICAgdGFnID0gdmFsID4+IDM7XG5cdFxuXHQgICAgICAgIGlmICh0YWcgPT09IDEpIHZhbHVlID0gcGJmLnJlYWRTdHJpbmcoKTtcblx0ICAgICAgICBlbHNlIGlmICh0YWcgPT09IDIpIHZhbHVlID0gcGJmLnJlYWREb3VibGUoKTtcblx0ICAgICAgICBlbHNlIGlmICh0YWcgPT09IDMpIHZhbHVlID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgICAgICBlbHNlIGlmICh0YWcgPT09IDQpIHZhbHVlID0gLXBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICAgICAgZWxzZSBpZiAodGFnID09PSA1KSB2YWx1ZSA9IHBiZi5yZWFkQm9vbGVhbigpO1xuXHQgICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNikgdmFsdWUgPSBKU09OLnBhcnNlKHBiZi5yZWFkU3RyaW5nKCkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkUHJvcHMocGJmLCBwcm9wcykge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXHQgICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHByb3BzW2tleXNbcGJmLnJlYWRWYXJpbnQoKV1dID0gdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuXHQgICAgdmFsdWVzID0gW107XG5cdCAgICByZXR1cm4gcHJvcHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRQb2ludChwYmYpIHtcblx0ICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcblx0ICAgICAgICBjb29yZHMgPSBbXTtcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSBjb29yZHMucHVzaChwYmYucmVhZFNWYXJpbnQoKSAvIGUpO1xuXHQgICAgcmV0dXJuIGNvb3Jkcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW4sIGNsb3NlZCkge1xuXHQgICAgdmFyIGkgPSAwLFxuXHQgICAgICAgIGNvb3JkcyA9IFtdLFxuXHQgICAgICAgIHAsIGQ7XG5cdFxuXHQgICAgdmFyIHByZXZQID0gW107XG5cdCAgICBmb3IgKGQgPSAwOyBkIDwgZGltOyBkKyspIHByZXZQW2RdID0gMDtcblx0XG5cdCAgICB3aGlsZSAobGVuID8gaSA8IGxlbiA6IHBiZi5wb3MgPCBlbmQpIHtcblx0ICAgICAgICBwID0gW107XG5cdCAgICAgICAgZm9yIChkID0gMDsgZCA8IGRpbTsgZCsrKSB7XG5cdCAgICAgICAgICAgIHByZXZQW2RdICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHQgICAgICAgICAgICBwW2RdID0gcHJldlBbZF0gLyBlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb29yZHMucHVzaChwKTtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICBpZiAoY2xvc2VkKSBjb29yZHMucHVzaChjb29yZHNbMF0pO1xuXHRcblx0ICAgIHJldHVybiBjb29yZHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRMaW5lKHBiZikge1xuXHQgICAgcmV0dXJuIHJlYWRMaW5lUGFydChwYmYsIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZE11bHRpTGluZShwYmYsIGNsb3NlZCkge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXHQgICAgaWYgKCFsZW5ndGhzKSByZXR1cm4gW3JlYWRMaW5lUGFydChwYmYsIGVuZCwgbnVsbCwgY2xvc2VkKV07XG5cdFxuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhzLmxlbmd0aDsgaSsrKSBjb29yZHMucHVzaChyZWFkTGluZVBhcnQocGJmLCBlbmQsIGxlbmd0aHNbaV0sIGNsb3NlZCkpO1xuXHQgICAgbGVuZ3RocyA9IG51bGw7XG5cdCAgICByZXR1cm4gY29vcmRzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkTXVsdGlQb2x5Z29uKHBiZikge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXHQgICAgaWYgKCFsZW5ndGhzKSByZXR1cm4gW1tyZWFkTGluZVBhcnQocGJmLCBlbmQsIG51bGwsIHRydWUpXV07XG5cdFxuXHQgICAgdmFyIGNvb3JkcyA9IFtdO1xuXHQgICAgdmFyIGogPSAxO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhzWzBdOyBpKyspIHtcblx0ICAgICAgICB2YXIgcmluZ3MgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbmd0aHNbal07IGsrKykgcmluZ3MucHVzaChyZWFkTGluZVBhcnQocGJmLCBlbmQsIGxlbmd0aHNbaiArIDEgKyBrXSwgdHJ1ZSkpO1xuXHQgICAgICAgIGogKz0gbGVuZ3Roc1tqXSArIDE7XG5cdCAgICAgICAgY29vcmRzLnB1c2gocmluZ3MpO1xuXHQgICAgfVxuXHQgICAgbGVuZ3RocyA9IG51bGw7XG5cdCAgICByZXR1cm4gY29vcmRzO1xuXHR9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBiZjtcblx0XG5cdHZhciBpZWVlNzU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzEpO1xuXHRcblx0ZnVuY3Rpb24gUGJmKGJ1Zikge1xuXHQgICAgdGhpcy5idWYgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KGJ1ZikgPyBidWYgOiBuZXcgVWludDhBcnJheShidWYgfHwgMCk7XG5cdCAgICB0aGlzLnBvcyA9IDA7XG5cdCAgICB0aGlzLnR5cGUgPSAwO1xuXHQgICAgdGhpcy5sZW5ndGggPSB0aGlzLmJ1Zi5sZW5ndGg7XG5cdH1cblx0XG5cdFBiZi5WYXJpbnQgID0gMDsgLy8gdmFyaW50OiBpbnQzMiwgaW50NjQsIHVpbnQzMiwgdWludDY0LCBzaW50MzIsIHNpbnQ2NCwgYm9vbCwgZW51bVxuXHRQYmYuRml4ZWQ2NCA9IDE7IC8vIDY0LWJpdDogZG91YmxlLCBmaXhlZDY0LCBzZml4ZWQ2NFxuXHRQYmYuQnl0ZXMgICA9IDI7IC8vIGxlbmd0aC1kZWxpbWl0ZWQ6IHN0cmluZywgYnl0ZXMsIGVtYmVkZGVkIG1lc3NhZ2VzLCBwYWNrZWQgcmVwZWF0ZWQgZmllbGRzXG5cdFBiZi5GaXhlZDMyID0gNTsgLy8gMzItYml0OiBmbG9hdCwgZml4ZWQzMiwgc2ZpeGVkMzJcblx0XG5cdHZhciBTSElGVF9MRUZUXzMyID0gKDEgPDwgMTYpICogKDEgPDwgMTYpLFxuXHQgICAgU0hJRlRfUklHSFRfMzIgPSAxIC8gU0hJRlRfTEVGVF8zMjtcblx0XG5cdFBiZi5wcm90b3R5cGUgPSB7XG5cdFxuXHQgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5idWYgPSBudWxsO1xuXHQgICAgfSxcblx0XG5cdCAgICAvLyA9PT0gUkVBRElORyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcblx0ICAgIHJlYWRGaWVsZHM6IGZ1bmN0aW9uKHJlYWRGaWVsZCwgcmVzdWx0LCBlbmQpIHtcblx0ICAgICAgICBlbmQgPSBlbmQgfHwgdGhpcy5sZW5ndGg7XG5cdFxuXHQgICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkge1xuXHQgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5yZWFkVmFyaW50KCksXG5cdCAgICAgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMyxcblx0ICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnR5cGUgPSB2YWwgJiAweDc7XG5cdCAgICAgICAgICAgIHJlYWRGaWVsZCh0YWcsIHJlc3VsdCwgdGhpcyk7XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHN0YXJ0UG9zKSB0aGlzLnNraXAodmFsKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZE1lc3NhZ2U6IGZ1bmN0aW9uKHJlYWRGaWVsZCwgcmVzdWx0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZpZWxkcyhyZWFkRmllbGQsIHJlc3VsdCwgdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRGaXhlZDMyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZFNGaXhlZDMyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcmVhZEludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gNDtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICAvLyA2NC1iaXQgaW50IGhhbmRsaW5nIGlzIGJhc2VkIG9uIGdpdGh1Yi5jb20vZHB3L25vZGUtYnVmZmVyLW1vcmUtaW50cyAoTUlULWxpY2Vuc2VkKVxuXHRcblx0ICAgIHJlYWRGaXhlZDY0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gODtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkU0ZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZEZsb2F0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVhZERvdWJsZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA4O1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRWYXJpbnQ6IGZ1bmN0aW9uKGlzU2lnbmVkKSB7XG5cdCAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmLFxuXHQgICAgICAgICAgICB2YWwsIGI7XG5cdFxuXHQgICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCAgPSAgYiAmIDB4N2Y7ICAgICAgICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG5cdCAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgNzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcblx0ICAgICAgICBiID0gYnVmW3RoaXMucG9zKytdOyB2YWwgfD0gKGIgJiAweDdmKSA8PCAxNDsgaWYgKGIgPCAweDgwKSByZXR1cm4gdmFsO1xuXHQgICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDIxOyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG5cdCAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvc107ICAgdmFsIHw9IChiICYgMHgwZikgPDwgMjg7XG5cdFxuXHQgICAgICAgIHJldHVybiByZWFkVmFyaW50UmVtYWluZGVyKHZhbCwgaXNTaWduZWQsIHRoaXMpO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkVmFyaW50NjQ6IGZ1bmN0aW9uKCkgeyAvLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHYyLjAuMVxuXHQgICAgICAgIHJldHVybiB0aGlzLnJlYWRWYXJpbnQodHJ1ZSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRTVmFyaW50OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgbnVtID0gdGhpcy5yZWFkVmFyaW50KCk7XG5cdCAgICAgICAgcmV0dXJuIG51bSAlIDIgPT09IDEgPyAobnVtICsgMSkgLyAtMiA6IG51bSAvIDI7IC8vIHppZ3phZyBlbmNvZGluZ1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkQm9vbGVhbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpO1xuXHQgICAgfSxcblx0XG5cdCAgICByZWFkU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZW5kID0gdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyxcblx0ICAgICAgICAgICAgc3RyID0gcmVhZFV0ZjgodGhpcy5idWYsIHRoaXMucG9zLCBlbmQpO1xuXHQgICAgICAgIHRoaXMucG9zID0gZW5kO1xuXHQgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWRCeXRlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG5cdCAgICAgICAgICAgIGJ1ZmZlciA9IHRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLCBlbmQpO1xuXHQgICAgICAgIHRoaXMucG9zID0gZW5kO1xuXHQgICAgICAgIHJldHVybiBidWZmZXI7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8vIHZlcmJvc2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM7IGRvZXNuJ3QgYWZmZWN0IGd6aXBwZWQgc2l6ZVxuXHRcblx0ICAgIHJlYWRQYWNrZWRWYXJpbnQ6IGZ1bmN0aW9uKGFyciwgaXNTaWduZWQpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRTVmFyaW50OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkQm9vbGVhbjogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZEZsb2F0OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWREb3VibGU6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHQgICAgcmVhZFBhY2tlZFNGaXhlZDMyOiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcblx0ICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcblx0ICAgICAgICBhcnIgPSBhcnIgfHwgW107XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSxcblx0ICAgIHJlYWRQYWNrZWRGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cdCAgICByZWFkUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO1xuXHQgICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuXHQgICAgICAgIGFyciA9IGFyciB8fCBbXTtcblx0ICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO1xuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXHRcblx0ICAgIHNraXA6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHZhciB0eXBlID0gdmFsICYgMHg3O1xuXHQgICAgICAgIGlmICh0eXBlID09PSBQYmYuVmFyaW50KSB3aGlsZSAodGhpcy5idWZbdGhpcy5wb3MrK10gPiAweDdmKSB7fVxuXHQgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5CeXRlcykgdGhpcy5wb3MgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuXHQgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5GaXhlZDMyKSB0aGlzLnBvcyArPSA0O1xuXHQgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5GaXhlZDY0KSB0aGlzLnBvcyArPSA4O1xuXHQgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIHR5cGU6ICcgKyB0eXBlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLy8gPT09IFdSSVRJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XG5cdCAgICB3cml0ZVRhZzogZnVuY3Rpb24odGFnLCB0eXBlKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludCgodGFnIDw8IDMpIHwgdHlwZSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlYWxsb2M6IGZ1bmN0aW9uKG1pbikge1xuXHQgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAxNjtcblx0XG5cdCAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRoaXMucG9zICsgbWluKSBsZW5ndGggKj0gMjtcblx0XG5cdCAgICAgICAgaWYgKGxlbmd0aCAhPT0gdGhpcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG5cdCAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5idWYpO1xuXHQgICAgICAgICAgICB0aGlzLmJ1ZiA9IGJ1Zjtcblx0ICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5wb3M7XG5cdCAgICAgICAgdGhpcy5wb3MgPSAwO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheSgwLCB0aGlzLmxlbmd0aCk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlRml4ZWQzMjogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlU0ZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcblx0ICAgICAgICB0aGlzLnBvcyArPSA0O1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZUZpeGVkNjQ6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg4KTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIE1hdGguZmxvb3IodmFsICogU0hJRlRfUklHSFRfMzIpLCB0aGlzLnBvcyArIDQpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlU0ZpeGVkNjQ6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHRoaXMucmVhbGxvYyg4KTtcblx0ICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuXHQgICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIE1hdGguZmxvb3IodmFsICogU0hJRlRfUklHSFRfMzIpLCB0aGlzLnBvcyArIDQpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB2YWwgPSArdmFsIHx8IDA7XG5cdFxuXHQgICAgICAgIGlmICh2YWwgPiAweGZmZmZmZmYgfHwgdmFsIDwgMCkge1xuXHQgICAgICAgICAgICB3cml0ZUJpZ1ZhcmludCh2YWwsIHRoaXMpO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG5cdFxuXHQgICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAgICAgICAgIHZhbCAmIDB4N2YgIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuXHQgICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuXHQgICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuXHQgICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAodmFsID4+PiA3KSAmIDB4N2Y7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlU1ZhcmludDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludCh2YWwgPCAwID8gLXZhbCAqIDIgLSAxIDogdmFsICogMik7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlQm9vbGVhbjogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludChCb29sZWFuKHZhbCkpO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgc3RyID0gU3RyaW5nKHN0cik7XG5cdCAgICAgICAgdGhpcy5yZWFsbG9jKHN0ci5sZW5ndGggKiA0KTtcblx0XG5cdCAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IHN0cmluZyBsZW5ndGhcblx0XG5cdCAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG5cdCAgICAgICAgLy8gd3JpdGUgdGhlIHN0cmluZyBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cblx0ICAgICAgICB0aGlzLnBvcyA9IHdyaXRlVXRmOCh0aGlzLmJ1Ziwgc3RyLCB0aGlzLnBvcyk7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cdFxuXHQgICAgICAgIGlmIChsZW4gPj0gMHg4MCkgbWFrZVJvb21Gb3JFeHRyYUxlbmd0aChzdGFydFBvcywgbGVuLCB0aGlzKTtcblx0XG5cdCAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cblx0ICAgICAgICB0aGlzLnBvcyA9IHN0YXJ0UG9zIC0gMTtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZUZsb2F0OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG5cdCAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlRG91YmxlOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MoOCk7XG5cdCAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuXHQgICAgICAgIHRoaXMucG9zICs9IDg7XG5cdCAgICB9LFxuXHRcblx0ICAgIHdyaXRlQnl0ZXM6IGZ1bmN0aW9uKGJ1ZmZlcikge1xuXHQgICAgICAgIHZhciBsZW4gPSBidWZmZXIubGVuZ3RoO1xuXHQgICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcblx0ICAgICAgICB0aGlzLnJlYWxsb2MobGVuKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9IGJ1ZmZlcltpXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgd3JpdGVSYXdNZXNzYWdlOiBmdW5jdGlvbihmbiwgb2JqKSB7XG5cdCAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IG1lc3NhZ2UgbGVuZ3RoXG5cdFxuXHQgICAgICAgIC8vIHdyaXRlIHRoZSBtZXNzYWdlIGRpcmVjdGx5IHRvIHRoZSBidWZmZXIgYW5kIHNlZSBob3cgbXVjaCB3YXMgd3JpdHRlblxuXHQgICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuXHQgICAgICAgIGZuKG9iaiwgdGhpcyk7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cdFxuXHQgICAgICAgIGlmIChsZW4gPj0gMHg4MCkgbWFrZVJvb21Gb3JFeHRyYUxlbmd0aChzdGFydFBvcywgbGVuLCB0aGlzKTtcblx0XG5cdCAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cblx0ICAgICAgICB0aGlzLnBvcyA9IHN0YXJ0UG9zIC0gMTtcblx0ICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG5cdCAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uKHRhZywgZm4sIG9iaikge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuXHQgICAgICAgIHRoaXMud3JpdGVSYXdNZXNzYWdlKGZuLCBvYmopO1xuXHQgICAgfSxcblx0XG5cdCAgICB3cml0ZVBhY2tlZFZhcmludDogICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFZhcmludCwgYXJyKTsgICB9LFxuXHQgICAgd3JpdGVQYWNrZWRTVmFyaW50OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTVmFyaW50LCBhcnIpOyAgfSxcblx0ICAgIHdyaXRlUGFja2VkQm9vbGVhbjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkQm9vbGVhbiwgYXJyKTsgIH0sXG5cdCAgICB3cml0ZVBhY2tlZEZsb2F0OiAgICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZsb2F0LCBhcnIpOyAgICB9LFxuXHQgICAgd3JpdGVQYWNrZWREb3VibGU6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWREb3VibGUsIGFycik7ICAgfSxcblx0ICAgIHdyaXRlUGFja2VkRml4ZWQzMjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRml4ZWQzMiwgYXJyKTsgIH0sXG5cdCAgICB3cml0ZVBhY2tlZFNGaXhlZDMyOiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDMyLCBhcnIpOyB9LFxuXHQgICAgd3JpdGVQYWNrZWRGaXhlZDY0OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDY0LCBhcnIpOyAgfSxcblx0ICAgIHdyaXRlUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkNjQsIGFycik7IH0sXG5cdFxuXHQgICAgd3JpdGVCeXRlc0ZpZWxkOiBmdW5jdGlvbih0YWcsIGJ1ZmZlcikge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuXHQgICAgICAgIHRoaXMud3JpdGVCeXRlcyhidWZmZXIpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQzMik7XG5cdCAgICAgICAgdGhpcy53cml0ZUZpeGVkMzIodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZVNGaXhlZDMyRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcblx0ICAgICAgICB0aGlzLndyaXRlU0ZpeGVkMzIodmFsKTtcblx0ICAgIH0sXG5cdCAgICB3cml0ZUZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuXHQgICAgICAgIHRoaXMud3JpdGVGaXhlZDY0KHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVTRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG5cdCAgICAgICAgdGhpcy53cml0ZVNGaXhlZDY0KHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVWYXJpbnRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludCh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlU1ZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuXHQgICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcblx0ICAgICAgICB0aGlzLndyaXRlU1ZhcmludCh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlU3RyaW5nRmllbGQ6IGZ1bmN0aW9uKHRhZywgc3RyKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5CeXRlcyk7XG5cdCAgICAgICAgdGhpcy53cml0ZVN0cmluZyhzdHIpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlRmxvYXRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcblx0ICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuXHQgICAgICAgIHRoaXMud3JpdGVGbG9hdCh2YWwpO1xuXHQgICAgfSxcblx0ICAgIHdyaXRlRG91YmxlRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcblx0ICAgICAgICB0aGlzLndyaXRlRG91YmxlKHZhbCk7XG5cdCAgICB9LFxuXHQgICAgd3JpdGVCb29sZWFuRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG5cdCAgICAgICAgdGhpcy53cml0ZVZhcmludEZpZWxkKHRhZywgQm9vbGVhbih2YWwpKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJlYWRWYXJpbnRSZW1haW5kZXIobCwgcywgcCkge1xuXHQgICAgdmFyIGJ1ZiA9IHAuYnVmLFxuXHQgICAgICAgIGgsIGI7XG5cdFxuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCAgPSAoYiAmIDB4NzApID4+IDQ7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAzOyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTA7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHQgICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDE3OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcblx0ICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAyNDsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cdCAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHgwMSkgPDwgMzE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXHRcblx0ICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFBhY2tlZEVuZChwYmYpIHtcblx0ICAgIHJldHVybiBwYmYudHlwZSA9PT0gUGJmLkJ5dGVzID9cblx0ICAgICAgICBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyA6IHBiZi5wb3MgKyAxO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b051bShsb3csIGhpZ2gsIGlzU2lnbmVkKSB7XG5cdCAgICBpZiAoaXNTaWduZWQpIHtcblx0ICAgICAgICByZXR1cm4gaGlnaCAqIDB4MTAwMDAwMDAwICsgKGxvdyA+Pj4gMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICgoaGlnaCA+Pj4gMCkgKiAweDEwMDAwMDAwMCkgKyAobG93ID4+PiAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnQodmFsLCBwYmYpIHtcblx0ICAgIHZhciBsb3csIGhpZ2g7XG5cdFxuXHQgICAgaWYgKHZhbCA+PSAwKSB7XG5cdCAgICAgICAgbG93ICA9ICh2YWwgJSAweDEwMDAwMDAwMCkgfCAwO1xuXHQgICAgICAgIGhpZ2ggPSAodmFsIC8gMHgxMDAwMDAwMDApIHwgMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbG93ICA9IH4oLXZhbCAlIDB4MTAwMDAwMDAwKTtcblx0ICAgICAgICBoaWdoID0gfigtdmFsIC8gMHgxMDAwMDAwMDApO1xuXHRcblx0ICAgICAgICBpZiAobG93IF4gMHhmZmZmZmZmZikge1xuXHQgICAgICAgICAgICBsb3cgPSAobG93ICsgMSkgfCAwO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGxvdyA9IDA7XG5cdCAgICAgICAgICAgIGhpZ2ggPSAoaGlnaCArIDEpIHwgMDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHZhbCA+PSAweDEwMDAwMDAwMDAwMDAwMDAwIHx8IHZhbCA8IC0weDEwMDAwMDAwMDAwMDAwMDAwKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHaXZlbiB2YXJpbnQgZG9lc25cXCd0IGZpdCBpbnRvIDEwIGJ5dGVzJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcGJmLnJlYWxsb2MoMTApO1xuXHRcblx0ICAgIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKTtcblx0ICAgIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUJpZ1ZhcmludExvdyhsb3csIGhpZ2gsIHBiZikge1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdID0gbG93ICYgMHg3ZiB8IDB4ODA7IGxvdyA+Pj49IDc7XG5cdCAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuXHQgICAgcGJmLmJ1ZltwYmYucG9zKytdID0gbG93ICYgMHg3ZiB8IDB4ODA7IGxvdyA+Pj49IDc7XG5cdCAgICBwYmYuYnVmW3BiZi5wb3NdICAgPSBsb3cgJiAweDdmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKSB7XG5cdCAgICB2YXIgbHNiID0gKGhpZ2ggJiAweDA3KSA8PCA0O1xuXHRcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSB8PSBsc2IgICAgICAgICB8ICgoaGlnaCA+Pj49IDMpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcblx0ICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3Zjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZVJvb21Gb3JFeHRyYUxlbmd0aChzdGFydFBvcywgbGVuLCBwYmYpIHtcblx0ICAgIHZhciBleHRyYUxlbiA9XG5cdCAgICAgICAgbGVuIDw9IDB4M2ZmZiA/IDEgOlxuXHQgICAgICAgIGxlbiA8PSAweDFmZmZmZiA/IDIgOlxuXHQgICAgICAgIGxlbiA8PSAweGZmZmZmZmYgPyAzIDogTWF0aC5mbG9vcihNYXRoLmxvZyhsZW4pIC8gKE1hdGguTE4yICogNykpO1xuXHRcblx0ICAgIC8vIGlmIDEgYnl0ZSBpc24ndCBlbm91Z2ggZm9yIGVuY29kaW5nIG1lc3NhZ2UgbGVuZ3RoLCBzaGlmdCB0aGUgZGF0YSB0byB0aGUgcmlnaHRcblx0ICAgIHBiZi5yZWFsbG9jKGV4dHJhTGVuKTtcblx0ICAgIGZvciAodmFyIGkgPSBwYmYucG9zIC0gMTsgaSA+PSBzdGFydFBvczsgaS0tKSBwYmYuYnVmW2kgKyBleHRyYUxlbl0gPSBwYmYuYnVmW2ldO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZFZhcmludChhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVWYXJpbnQoYXJyW2ldKTsgICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkU1ZhcmludChhcnIsIHBiZikgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZVNWYXJpbnQoYXJyW2ldKTsgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRGbG9hdChhcnIsIHBiZikgICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRmxvYXQoYXJyW2ldKTsgICAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZERvdWJsZShhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVEb3VibGUoYXJyW2ldKTsgICB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkQm9vbGVhbihhcnIsIHBiZikgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZUJvb2xlYW4oYXJyW2ldKTsgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDMyKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQzMihhcnJbaV0pOyAgfVxuXHRmdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDMyKGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQzMihhcnJbaV0pOyB9XG5cdGZ1bmN0aW9uIHdyaXRlUGFja2VkRml4ZWQ2NChhcnIsIHBiZikgIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHBiZi53cml0ZUZpeGVkNjQoYXJyW2ldKTsgIH1cblx0ZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NChhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkNjQoYXJyW2ldKTsgfVxuXHRcblx0Ly8gQnVmZmVyIGNvZGUgYmVsb3cgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlciwgTUlULWxpY2Vuc2VkXG5cdFxuXHRmdW5jdGlvbiByZWFkVUludDMyKGJ1ZiwgcG9zKSB7XG5cdCAgICByZXR1cm4gKChidWZbcG9zXSkgfFxuXHQgICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuXHQgICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG5cdCAgICAgICAgKGJ1Zltwb3MgKyAzXSAqIDB4MTAwMDAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdyaXRlSW50MzIoYnVmLCB2YWwsIHBvcykge1xuXHQgICAgYnVmW3Bvc10gPSB2YWw7XG5cdCAgICBidWZbcG9zICsgMV0gPSAodmFsID4+PiA4KTtcblx0ICAgIGJ1Zltwb3MgKyAyXSA9ICh2YWwgPj4+IDE2KTtcblx0ICAgIGJ1Zltwb3MgKyAzXSA9ICh2YWwgPj4+IDI0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEludDMyKGJ1ZiwgcG9zKSB7XG5cdCAgICByZXR1cm4gKChidWZbcG9zXSkgfFxuXHQgICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuXHQgICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG5cdCAgICAgICAgKGJ1Zltwb3MgKyAzXSA8PCAyNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRVdGY4KGJ1ZiwgcG9zLCBlbmQpIHtcblx0ICAgIHZhciBzdHIgPSAnJztcblx0ICAgIHZhciBpID0gcG9zO1xuXHRcblx0ICAgIHdoaWxlIChpIDwgZW5kKSB7XG5cdCAgICAgICAgdmFyIGIwID0gYnVmW2ldO1xuXHQgICAgICAgIHZhciBjID0gbnVsbDsgLy8gY29kZXBvaW50XG5cdCAgICAgICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPVxuXHQgICAgICAgICAgICBiMCA+IDB4RUYgPyA0IDpcblx0ICAgICAgICAgICAgYjAgPiAweERGID8gMyA6XG5cdCAgICAgICAgICAgIGIwID4gMHhCRiA/IDIgOiAxO1xuXHRcblx0ICAgICAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPiBlbmQpIGJyZWFrO1xuXHRcblx0ICAgICAgICB2YXIgYjEsIGIyLCBiMztcblx0XG5cdCAgICAgICAgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDEpIHtcblx0ICAgICAgICAgICAgaWYgKGIwIDwgMHg4MCkge1xuXHQgICAgICAgICAgICAgICAgYyA9IGIwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAyKSB7XG5cdCAgICAgICAgICAgIGIxID0gYnVmW2kgKyAxXTtcblx0ICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gKGIwICYgMHgxRikgPDwgMHg2IHwgKGIxICYgMHgzRik7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDMpIHtcblx0ICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuXHQgICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG5cdCAgICAgICAgICAgIGlmICgoYjEgJiAweEMwKSA9PT0gMHg4MCAmJiAoYjIgJiAweEMwKSA9PT0gMHg4MCkge1xuXHQgICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHhDIHwgKGIxICYgMHgzRikgPDwgMHg2IHwgKGIyICYgMHgzRik7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGRiB8fCAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERGRkYpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDQpIHtcblx0ICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuXHQgICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG5cdCAgICAgICAgICAgIGIzID0gYnVmW2kgKyAzXTtcblx0ICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwICYmIChiMyAmIDB4QzApID09PSAweDgwKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweDEyIHwgKGIxICYgMHgzRikgPDwgMHhDIHwgKGIyICYgMHgzRikgPDwgMHg2IHwgKGIzICYgMHgzRik7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA8PSAweEZGRkYgfHwgYyA+PSAweDExMDAwMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoYyA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjID0gMHhGRkZEO1xuXHQgICAgICAgICAgICBieXRlc1BlclNlcXVlbmNlID0gMTtcblx0XG5cdCAgICAgICAgfSBlbHNlIGlmIChjID4gMHhGRkZGKSB7XG5cdCAgICAgICAgICAgIGMgLT0gMHgxMDAwMDtcblx0ICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdCAgICAgICAgICAgIGMgPSAweERDMDAgfCBjICYgMHgzRkY7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcblx0ICAgICAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0cjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd3JpdGVVdGY4KGJ1Ziwgc3RyLCBwb3MpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBjLCBsZWFkOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpOyAvLyBjb2RlIHBvaW50XG5cdFxuXHQgICAgICAgIGlmIChjID4gMHhEN0ZGICYmIGMgPCAweEUwMDApIHtcblx0ICAgICAgICAgICAgaWYgKGxlYWQpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjIDwgMHhEQzAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG5cdCAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG5cdCAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBsZWFkIC0gMHhEODAwIDw8IDEwIHwgYyAtIDB4REMwMCB8IDB4MTAwMDA7XG5cdCAgICAgICAgICAgICAgICAgICAgbGVhZCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYyA+IDB4REJGRiB8fCAoaSArIDEgPT09IHN0ci5sZW5ndGgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG5cdCAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGxlYWQpIHtcblx0ICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG5cdCAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuXHQgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcblx0ICAgICAgICAgICAgbGVhZCA9IG51bGw7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoYyA8IDB4ODApIHtcblx0ICAgICAgICAgICAgYnVmW3BvcysrXSA9IGM7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuXHQgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2IHwgMHhDMDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjIDwgMHgxMDAwMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyB8IDB4RTA7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4MTIgfCAweEYwO1xuXHQgICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyAmIDB4M0YgfCAweDgwO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2ICYgMHgzRiB8IDB4ODA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgJiAweDNGIHwgMHg4MDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcG9zO1xuXHR9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM2Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSByZXF1ZXN0O1xuXHRcblx0dmFyIF9heGlvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM1KTtcblx0XG5cdHZhciBfYXhpb3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXhpb3MpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHJlcXVlc3QoX3JlZikge1xuXHQgIHZhciB1cmwgPSBfcmVmLnVybCxcblx0ICAgICAgX3JlZiRyZXNwb25zZVR5cGUgPSBfcmVmLnJlc3BvbnNlVHlwZSxcblx0ICAgICAgcmVzcG9uc2VUeXBlID0gX3JlZiRyZXNwb25zZVR5cGUgPT09IHVuZGVmaW5lZCA/ICdqc29uJyA6IF9yZWYkcmVzcG9uc2VUeXBlO1xuXHRcblx0ICB2YXIgZmV0Y2hEYXRhID0gZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xuXHQgICAgcmV0dXJuICgwLCBfYXhpb3MyLmRlZmF1bHQpKHtcblx0ICAgICAgdXJsOiB1cmwsXG5cdCAgICAgIHJlc3BvbnNlVHlwZTogcmVzcG9uc2VUeXBlXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikge1xuXHQgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cdFxuXHQgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdCAgcmV0dXJuIGZldGNoRGF0YSgpO1xuXHR9XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNjc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHRlbXBsYXRlO1xuXHR2YXIgdGVtcGxhdGVSZSA9IC9cXHsgKihbXFx3Xy1dKykgKlxcfS9nO1xuXHRcblx0Ly8gQGZ1bmN0aW9uIHRlbXBsYXRlKHN0cjogU3RyaW5nLCBkYXRhOiBPYmplY3QpOiBTdHJpbmdcblx0Ly8gU2ltcGxlIHRlbXBsYXRpbmcgZmFjaWxpdHksIGFjY2VwdHMgYSB0ZW1wbGF0ZSBzdHJpbmcgb2YgdGhlIGZvcm0gYCdIZWxsbyB7YX0sIHtifSdgXG5cdC8vIGFuZCBhIGRhdGEgb2JqZWN0IGxpa2UgYHthOiAnZm9vJywgYjogJ2Jhcid9YCwgcmV0dXJucyBldmFsdWF0ZWQgc3RyaW5nXG5cdC8vIGAoJ0hlbGxvIGZvbywgYmFyJylgLiBZb3UgY2FuIGFsc28gc3BlY2lmeSBmdW5jdGlvbnMgaW5zdGVhZCBvZiBzdHJpbmdzIGZvclxuXHQvLyBkYXRhIHZhbHVlcyDigJQgdGhleSB3aWxsIGJlIGV2YWx1YXRlZCBwYXNzaW5nIGBkYXRhYCBhcyBhbiBhcmd1bWVudC5cblx0ZnVuY3Rpb24gdGVtcGxhdGUoc3RyLCBkYXRhKSB7XG5cdCAgcmV0dXJuIHN0ci5yZXBsYWNlKHRlbXBsYXRlUmUsIGZ1bmN0aW9uIChzdHIsIGtleSkge1xuXHQgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xuXHRcblx0ICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICcgKyBzdHIpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZShkYXRhKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9KTtcblx0fVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzY5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaXNPYmplY3Q7XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzb2JqZWN0L2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuXHQgIHJldHVybiB2YWwgIT0gbnVsbCAmJiAodHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsKSkgPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkodmFsKSA9PT0gZmFsc2U7XG5cdH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0bW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZUZlYXR1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG5cdG1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzcxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBWZWN0b3JUaWxlTGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGU7XG5cdFxuXHRmdW5jdGlvbiBWZWN0b3JUaWxlKHBiZiwgZW5kKSB7XG5cdCAgICB0aGlzLmxheWVycyA9IHBiZi5yZWFkRmllbGRzKHJlYWRUaWxlLCB7fSwgZW5kKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZFRpbGUodGFnLCBsYXllcnMsIHBiZikge1xuXHQgICAgaWYgKHRhZyA9PT0gMykge1xuXHQgICAgICAgIHZhciBsYXllciA9IG5ldyBWZWN0b3JUaWxlTGF5ZXIocGJmLCBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyk7XG5cdCAgICAgICAgaWYgKGxheWVyLmxlbmd0aCkgbGF5ZXJzW2xheWVyLm5hbWVdID0gbGF5ZXI7XG5cdCAgICB9XG5cdH1cblx0XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM3Mjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVmVjdG9yVGlsZUZlYXR1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblx0XG5cdGZ1bmN0aW9uIFZlY3RvclRpbGVMYXllcihwYmYsIGVuZCkge1xuXHQgICAgLy8gUHVibGljXG5cdCAgICB0aGlzLnZlcnNpb24gPSAxO1xuXHQgICAgdGhpcy5uYW1lID0gbnVsbDtcblx0ICAgIHRoaXMuZXh0ZW50ID0gNDA5Njtcblx0ICAgIHRoaXMubGVuZ3RoID0gMDtcblx0XG5cdCAgICAvLyBQcml2YXRlXG5cdCAgICB0aGlzLl9wYmYgPSBwYmY7XG5cdCAgICB0aGlzLl9rZXlzID0gW107XG5cdCAgICB0aGlzLl92YWx1ZXMgPSBbXTtcblx0ICAgIHRoaXMuX2ZlYXR1cmVzID0gW107XG5cdFxuXHQgICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXHRcblx0ICAgIHRoaXMubGVuZ3RoID0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkTGF5ZXIodGFnLCBsYXllciwgcGJmKSB7XG5cdCAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT09IDEpIGxheWVyLm5hbWUgPSBwYmYucmVhZFN0cmluZygpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSA1KSBsYXllci5leHRlbnQgPSBwYmYucmVhZFZhcmludCgpO1xuXHQgICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgbGF5ZXIuX2tleXMucHVzaChwYmYucmVhZFN0cmluZygpKTtcblx0ICAgIGVsc2UgaWYgKHRhZyA9PT0gNCkgbGF5ZXIuX3ZhbHVlcy5wdXNoKHJlYWRWYWx1ZU1lc3NhZ2UocGJmKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRWYWx1ZU1lc3NhZ2UocGJmKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBudWxsLFxuXHQgICAgICAgIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXHRcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgdmFyIHRhZyA9IHBiZi5yZWFkVmFyaW50KCkgPj4gMztcblx0XG5cdCAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcblx0ICAgICAgICAgICAgdGFnID09PSAyID8gcGJmLnJlYWRGbG9hdCgpIDpcblx0ICAgICAgICAgICAgdGFnID09PSAzID8gcGJmLnJlYWREb3VibGUoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gNSA/IHBiZi5yZWFkVmFyaW50KCkgOlxuXHQgICAgICAgICAgICB0YWcgPT09IDYgPyBwYmYucmVhZFNWYXJpbnQoKSA6XG5cdCAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH1cblx0XG5cdC8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5cdFZlY3RvclRpbGVMYXllci5wcm90b3R5cGUuZmVhdHVyZSA9IGZ1bmN0aW9uKGkpIHtcblx0ICAgIGlmIChpIDwgMCB8fCBpID49IHRoaXMuX2ZlYXR1cmVzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHMnKTtcblx0XG5cdCAgICB0aGlzLl9wYmYucG9zID0gdGhpcy5fZmVhdHVyZXNbaV07XG5cdFxuXHQgICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuXHQgICAgcmV0dXJuIG5ldyBWZWN0b3JUaWxlRmVhdHVyZSh0aGlzLl9wYmYsIGVuZCwgdGhpcy5leHRlbnQsIHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcyk7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM3Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3NCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVGZWF0dXJlO1xuXHRcblx0ZnVuY3Rpb24gVmVjdG9yVGlsZUZlYXR1cmUocGJmLCBlbmQsIGV4dGVudCwga2V5cywgdmFsdWVzKSB7XG5cdCAgICAvLyBQdWJsaWNcblx0ICAgIHRoaXMucHJvcGVydGllcyA9IHt9O1xuXHQgICAgdGhpcy5leHRlbnQgPSBleHRlbnQ7XG5cdCAgICB0aGlzLnR5cGUgPSAwO1xuXHRcblx0ICAgIC8vIFByaXZhdGVcblx0ICAgIHRoaXMuX3BiZiA9IHBiZjtcblx0ICAgIHRoaXMuX2dlb21ldHJ5ID0gLTE7XG5cdCAgICB0aGlzLl9rZXlzID0ga2V5cztcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcblx0XG5cdCAgICBwYmYucmVhZEZpZWxkcyhyZWFkRmVhdHVyZSwgdGhpcywgZW5kKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVhZEZlYXR1cmUodGFnLCBmZWF0dXJlLCBwYmYpIHtcblx0ICAgIGlmICh0YWcgPT0gMSkgZmVhdHVyZS5pZCA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT0gMikgcmVhZFRhZyhwYmYsIGZlYXR1cmUpO1xuXHQgICAgZWxzZSBpZiAodGFnID09IDMpIGZlYXR1cmUudHlwZSA9IHBiZi5yZWFkVmFyaW50KCk7XG5cdCAgICBlbHNlIGlmICh0YWcgPT0gNCkgZmVhdHVyZS5fZ2VvbWV0cnkgPSBwYmYucG9zO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWFkVGFnKHBiZiwgZmVhdHVyZSkge1xuXHQgICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXHRcblx0ICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IGZlYXR1cmUuX2tleXNbcGJmLnJlYWRWYXJpbnQoKV0sXG5cdCAgICAgICAgICAgIHZhbHVlID0gZmVhdHVyZS5fdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuXHQgICAgICAgIGZlYXR1cmUucHJvcGVydGllc1trZXldID0gdmFsdWU7XG5cdCAgICB9XG5cdH1cblx0XG5cdFZlY3RvclRpbGVGZWF0dXJlLnR5cGVzID0gWydVbmtub3duJywgJ1BvaW50JywgJ0xpbmVTdHJpbmcnLCAnUG9seWdvbiddO1xuXHRcblx0VmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLmxvYWRHZW9tZXRyeSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcblx0ICAgIHBiZi5wb3MgPSB0aGlzLl9nZW9tZXRyeTtcblx0XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG5cdCAgICAgICAgY21kID0gMSxcblx0ICAgICAgICBsZW5ndGggPSAwLFxuXHQgICAgICAgIHggPSAwLFxuXHQgICAgICAgIHkgPSAwLFxuXHQgICAgICAgIGxpbmVzID0gW10sXG5cdCAgICAgICAgbGluZTtcblx0XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuXHQgICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgICAgICAgICAgY21kID0gY21kTGVuICYgMHg3O1xuXHQgICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGxlbmd0aC0tO1xuXHRcblx0ICAgICAgICBpZiAoY21kID09PSAxIHx8IGNtZCA9PT0gMikge1xuXHQgICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHQgICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGNtZCA9PT0gMSkgeyAvLyBtb3ZlVG9cblx0ICAgICAgICAgICAgICAgIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuXHQgICAgICAgICAgICAgICAgbGluZSA9IFtdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBsaW5lLnB1c2gobmV3IFBvaW50KHgsIHkpKTtcblx0XG5cdCAgICAgICAgfSBlbHNlIGlmIChjbWQgPT09IDcpIHtcblx0XG5cdCAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwbmlrLXZlY3Rvci10aWxlL2lzc3Vlcy85MFxuXHQgICAgICAgICAgICBpZiAobGluZSkge1xuXHQgICAgICAgICAgICAgICAgbGluZS5wdXNoKGxpbmVbMF0uY2xvbmUoKSk7IC8vIGNsb3NlUG9seWdvblxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcblx0XG5cdCAgICByZXR1cm4gbGluZXM7XG5cdH07XG5cdFxuXHRWZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUuYmJveCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcblx0ICAgIHBiZi5wb3MgPSB0aGlzLl9nZW9tZXRyeTtcblx0XG5cdCAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG5cdCAgICAgICAgY21kID0gMSxcblx0ICAgICAgICBsZW5ndGggPSAwLFxuXHQgICAgICAgIHggPSAwLFxuXHQgICAgICAgIHkgPSAwLFxuXHQgICAgICAgIHgxID0gSW5maW5pdHksXG5cdCAgICAgICAgeDIgPSAtSW5maW5pdHksXG5cdCAgICAgICAgeTEgPSBJbmZpbml0eSxcblx0ICAgICAgICB5MiA9IC1JbmZpbml0eTtcblx0XG5cdCAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuXHQgICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuXHQgICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcblx0ICAgICAgICAgICAgY21kID0gY21kTGVuICYgMHg3O1xuXHQgICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGxlbmd0aC0tO1xuXHRcblx0ICAgICAgICBpZiAoY21kID09PSAxIHx8IGNtZCA9PT0gMikge1xuXHQgICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHQgICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXHQgICAgICAgICAgICBpZiAoeCA8IHgxKSB4MSA9IHg7XG5cdCAgICAgICAgICAgIGlmICh4ID4geDIpIHgyID0geDtcblx0ICAgICAgICAgICAgaWYgKHkgPCB5MSkgeTEgPSB5O1xuXHQgICAgICAgICAgICBpZiAoeSA+IHkyKSB5MiA9IHk7XG5cdFxuXHQgICAgICAgIH0gZWxzZSBpZiAoY21kICE9PSA3KSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyXTtcblx0fTtcblx0XG5cdFZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbih4LCB5LCB6KSB7XG5cdCAgICB2YXIgc2l6ZSA9IHRoaXMuZXh0ZW50ICogTWF0aC5wb3coMiwgeiksXG5cdCAgICAgICAgeDAgPSB0aGlzLmV4dGVudCAqIHgsXG5cdCAgICAgICAgeTAgPSB0aGlzLmV4dGVudCAqIHksXG5cdCAgICAgICAgY29vcmRzID0gdGhpcy5sb2FkR2VvbWV0cnkoKSxcblx0ICAgICAgICB0eXBlID0gVmVjdG9yVGlsZUZlYXR1cmUudHlwZXNbdGhpcy50eXBlXSxcblx0ICAgICAgICBpLCBqO1xuXHRcblx0ICAgIGZ1bmN0aW9uIHByb2plY3QobGluZSkge1xuXHQgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICB2YXIgcCA9IGxpbmVbal0sIHkyID0gMTgwIC0gKHAueSArIHkwKSAqIDM2MCAvIHNpemU7XG5cdCAgICAgICAgICAgIGxpbmVbal0gPSBbXG5cdCAgICAgICAgICAgICAgICAocC54ICsgeDApICogMzYwIC8gc2l6ZSAtIDE4MCxcblx0ICAgICAgICAgICAgICAgIDM2MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4oTWF0aC5leHAoeTIgKiBNYXRoLlBJIC8gMTgwKSkgLSA5MFxuXHQgICAgICAgICAgICBdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuXHQgICAgY2FzZSAxOlxuXHQgICAgICAgIHZhciBwb2ludHMgPSBbXTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHBvaW50c1tpXSA9IGNvb3Jkc1tpXVswXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29vcmRzID0gcG9pbnRzO1xuXHQgICAgICAgIHByb2plY3QoY29vcmRzKTtcblx0ICAgICAgICBicmVhaztcblx0XG5cdCAgICBjYXNlIDI6XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGJyZWFrO1xuXHRcblx0ICAgIGNhc2UgMzpcblx0ICAgICAgICBjb29yZHMgPSBjbGFzc2lmeVJpbmdzKGNvb3Jkcyk7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzW2ldLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXVtqXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNvb3Jkcy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICBjb29yZHMgPSBjb29yZHNbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHR5cGUgPSAnTXVsdGknICsgdHlwZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVzdWx0ID0ge1xuXHQgICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuXHQgICAgICAgIGdlb21ldHJ5OiB7XG5cdCAgICAgICAgICAgIHR5cGU6IHR5cGUsXG5cdCAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHNcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoJ2lkJyBpbiB0aGlzKSB7XG5cdCAgICAgICAgcmVzdWx0LmlkID0gdGhpcy5pZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0Ly8gY2xhc3NpZmllcyBhbiBhcnJheSBvZiByaW5ncyBpbnRvIHBvbHlnb25zIHdpdGggb3V0ZXIgcmluZ3MgYW5kIGhvbGVzXG5cdFxuXHRmdW5jdGlvbiBjbGFzc2lmeVJpbmdzKHJpbmdzKSB7XG5cdCAgICB2YXIgbGVuID0gcmluZ3MubGVuZ3RoO1xuXHRcblx0ICAgIGlmIChsZW4gPD0gMSkgcmV0dXJuIFtyaW5nc107XG5cdFxuXHQgICAgdmFyIHBvbHlnb25zID0gW10sXG5cdCAgICAgICAgcG9seWdvbixcblx0ICAgICAgICBjY3c7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHZhciBhcmVhID0gc2lnbmVkQXJlYShyaW5nc1tpXSk7XG5cdCAgICAgICAgaWYgKGFyZWEgPT09IDApIGNvbnRpbnVlO1xuXHRcblx0ICAgICAgICBpZiAoY2N3ID09PSB1bmRlZmluZWQpIGNjdyA9IGFyZWEgPCAwO1xuXHRcblx0ICAgICAgICBpZiAoY2N3ID09PSBhcmVhIDwgMCkge1xuXHQgICAgICAgICAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcblx0ICAgICAgICAgICAgcG9seWdvbiA9IFtyaW5nc1tpXV07XG5cdFxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBvbHlnb24ucHVzaChyaW5nc1tpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHBvbHlnb24pIHBvbHlnb25zLnB1c2gocG9seWdvbik7XG5cdFxuXHQgICAgcmV0dXJuIHBvbHlnb25zO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaWduZWRBcmVhKHJpbmcpIHtcblx0ICAgIHZhciBzdW0gPSAwO1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJpbmcubGVuZ3RoLCBqID0gbGVuIC0gMSwgcDEsIHAyOyBpIDwgbGVuOyBqID0gaSsrKSB7XG5cdCAgICAgICAgcDEgPSByaW5nW2ldO1xuXHQgICAgICAgIHAyID0gcmluZ1tqXTtcblx0ICAgICAgICBzdW0gKz0gKHAyLnggLSBwMS54KSAqIChwMS55ICsgcDIueSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gc3VtO1xuXHR9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM3NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBvaW50O1xuXHRcblx0LyoqXG5cdCAqIEEgc3RhbmRhbG9uZSBwb2ludCBnZW9tZXRyeSB3aXRoIHVzZWZ1bCBhY2Nlc3NvciwgY29tcGFyaXNvbiwgYW5kXG5cdCAqIG1vZGlmaWNhdGlvbiBtZXRob2RzLlxuXHQgKlxuXHQgKiBAY2xhc3MgUG9pbnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggdGhlIHgtY29vcmRpbmF0ZS4gdGhpcyBjb3VsZCBiZSBsb25naXR1ZGUgb3Igc2NyZWVuXG5cdCAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZS4gdGhpcyBjb3VsZCBiZSBsYXRpdHVkZSBvciBzY3JlZW5cblx0ICogcGl4ZWxzLCBvciBhbnkgb3RoZXIgc29ydCBvZiB1bml0LlxuXHQgKiBAZXhhbXBsZVxuXHQgKiB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoLTc3LCAzOCk7XG5cdCAqL1xuXHRmdW5jdGlvbiBQb2ludCh4LCB5KSB7XG5cdCAgICB0aGlzLnggPSB4O1xuXHQgICAgdGhpcy55ID0geTtcblx0fVxuXHRcblx0UG9pbnQucHJvdG90eXBlID0ge1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2xvbmUgdGhpcyBwb2ludCwgcmV0dXJuaW5nIGEgbmV3IHBvaW50IHRoYXQgY2FuIGJlIG1vZGlmaWVkXG5cdCAgICAgKiB3aXRob3V0IGFmZmVjdGluZyB0aGUgb2xkIG9uZS5cblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSB0aGUgY2xvbmVcblx0ICAgICAqL1xuXHQgICAgY2xvbmU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFkZCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gYW5vdGhlciBwb2ludCxcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgYWRkOiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQocCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTdWJ0cmFjdCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gZnJvbSBwb2ludCxcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgc3ViOiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIocCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG5cdCAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIG11bHRCeVBvaW50OiAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KHApOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgZGl2QnlQb2ludDogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludChwKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3Rvcixcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3Jcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgbXVsdDogICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGspOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3Rvcixcblx0ICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuXHQgICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3Jcblx0ICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgZGl2OiAgICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoayk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgdGhlIDAsIDAgb3JpZ2luIGJ5IGFuIGFuZ2xlIGEsXG5cdCAgICAgKiBnaXZlbiBpbiByYWRpYW5zXG5cdCAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG5cdCAgICAgKi9cblx0ICAgIHJvdGF0ZTogIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKGEpOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUm90YXRlIHRoaXMgcG9pbnQgYXJvdW5kIHAgcG9pbnQgYnkgYW4gYW5nbGUgYSxcblx0ICAgICAqIGdpdmVuIGluIHJhZGlhbnNcblx0ICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgUG9pbnQgdG8gcm90YXRlIGFyb3VuZFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICByb3RhdGVBcm91bmQ6ICBmdW5jdGlvbihhLHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKGEscCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50IGJ5IGEgNHgxIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuXHQgICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuXHQgICAgICovXG5cdCAgICBtYXRNdWx0OiBmdW5jdGlvbihtKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQobSk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDYWxjdWxhdGUgdGhpcyBwb2ludCBidXQgYXMgYSB1bml0IHZlY3RvciBmcm9tIDAsIDAsIG1lYW5pbmdcblx0ICAgICAqIHRoYXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHJlc3VsdGluZyBwb2ludCB0byB0aGUgMCwgMFxuXHQgICAgICogY29vcmRpbmF0ZSB3aWxsIGJlIGVxdWFsIHRvIDEgYW5kIHRoZSBhbmdsZSBmcm9tIHRoZSByZXN1bHRpbmdcblx0ICAgICAqIHBvaW50IHRvIHRoZSAwLCAwIGNvb3JkaW5hdGUgd2lsbCBiZSB0aGUgc2FtZSBhcyBiZWZvcmUuXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gdW5pdCB2ZWN0b3IgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgdW5pdDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKTsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbXB1dGUgYSBwZXJwZW5kaWN1bGFyIHBvaW50LCB3aGVyZSB0aGUgbmV3IHkgY29vcmRpbmF0ZVxuXHQgICAgICogaXMgdGhlIG9sZCB4IGNvb3JkaW5hdGUgYW5kIHRoZSBuZXcgeCBjb29yZGluYXRlIGlzIHRoZSBvbGQgeVxuXHQgICAgICogY29vcmRpbmF0ZSBtdWx0aXBsaWVkIGJ5IC0xXG5cdCAgICAgKiBAcmV0dXJuIHtQb2ludH0gcGVycGVuZGljdWxhciBwb2ludFxuXHQgICAgICovXG5cdCAgICBwZXJwOiAgICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpOyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGlzIHBvaW50IHdpdGggdGhlIHggJiB5IGNvb3JkaW5hdGVzXG5cdCAgICAgKiByb3VuZGVkIHRvIGludGVnZXJzLlxuXHQgICAgICogQHJldHVybiB7UG9pbnR9IHJvdW5kZWQgcG9pbnRcblx0ICAgICAqL1xuXHQgICAgcm91bmQ6ICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm4gdGhlIG1hZ2l0dWRlIG9mIHRoaXMgcG9pbnQ6IHRoaXMgaXMgdGhlIEV1Y2xpZGVhblxuXHQgICAgICogZGlzdGFuY2UgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQncyB4IGFuZCB5XG5cdCAgICAgKiBjb29yZGluYXRlcy5cblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gbWFnbml0dWRlXG5cdCAgICAgKi9cblx0ICAgIG1hZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEp1ZGdlIHdoZXRoZXIgdGhpcyBwb2ludCBpcyBlcXVhbCB0byBhbm90aGVyIHBvaW50LCByZXR1cm5pbmdcblx0ICAgICAqIHRydWUgb3IgZmFsc2UuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBvdGhlciB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBvaW50cyBhcmUgZXF1YWxcblx0ICAgICAqL1xuXHQgICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyLnggJiZcblx0ICAgICAgICAgICAgICAgdGhpcy55ID09PSBvdGhlci55O1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcblx0ICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIGRpc3Q6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcihwKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCxcblx0ICAgICAqIHdpdGhvdXQgdGhlIHNxdWFyZSByb290IHN0ZXAuIFVzZWZ1bCBpZiB5b3UncmUgY29tcGFyaW5nXG5cdCAgICAgKiByZWxhdGl2ZSBkaXN0YW5jZXMuXG5cdCAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuXHQgICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuXHQgICAgICovXG5cdCAgICBkaXN0U3FyOiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdmFyIGR4ID0gcC54IC0gdGhpcy54LFxuXHQgICAgICAgICAgICBkeSA9IHAueSAtIHRoaXMueTtcblx0ICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCwgaW4gcmFkaWFuc1xuXHQgICAgICogY29vcmRpbmF0ZXMuXG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG5cdCAgICAgKi9cblx0ICAgIGFuZ2xlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuXHQgICAgICogQHBhcmFtIHtQb2ludH0gYiB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcblx0ICAgICAqL1xuXHQgICAgYW5nbGVUbzogZnVuY3Rpb24oYikge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSAtIGIueSwgdGhpcy54IC0gYi54KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuXHQgICAgICogQHBhcmFtIHtQb2ludH0gYiB0aGUgb3RoZXIgcG9pbnRcblx0ICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcblx0ICAgICAqL1xuXHQgICAgYW5nbGVXaXRoOiBmdW5jdGlvbihiKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGIueCwgYi55KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLypcblx0ICAgICAqIEZpbmQgdGhlIGFuZ2xlIG9mIHRoZSB0d28gdmVjdG9ycywgc29sdmluZyB0aGUgZm9ybXVsYSBmb3Jcblx0ICAgICAqIHRoZSBjcm9zcyBwcm9kdWN0IGEgeCBiID0gfGF8fGJ8c2luKM64KSBmb3IgzrguXG5cdCAgICAgKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlXG5cdCAgICAgKiBAcGFyYW0ge051bWJlcn0geSB0aGUgeS1jb29yZGluYXRlXG5cdCAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBhbmdsZSBpbiByYWRpYW5zXG5cdCAgICAgKi9cblx0ICAgIGFuZ2xlV2l0aFNlcDogZnVuY3Rpb24oeCwgeSkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmF0YW4yKFxuXHQgICAgICAgICAgICB0aGlzLnggKiB5IC0gdGhpcy55ICogeCxcblx0ICAgICAgICAgICAgdGhpcy54ICogeCArIHRoaXMueSAqIHkpO1xuXHQgICAgfSxcblx0XG5cdCAgICBfbWF0TXVsdDogZnVuY3Rpb24obSkge1xuXHQgICAgICAgIHZhciB4ID0gbVswXSAqIHRoaXMueCArIG1bMV0gKiB0aGlzLnksXG5cdCAgICAgICAgICAgIHkgPSBtWzJdICogdGhpcy54ICsgbVszXSAqIHRoaXMueTtcblx0ICAgICAgICB0aGlzLnggPSB4O1xuXHQgICAgICAgIHRoaXMueSA9IHk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9hZGQ6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICB0aGlzLnggKz0gcC54O1xuXHQgICAgICAgIHRoaXMueSArPSBwLnk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9zdWI6IGZ1bmN0aW9uKHApIHtcblx0ICAgICAgICB0aGlzLnggLT0gcC54O1xuXHQgICAgICAgIHRoaXMueSAtPSBwLnk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9tdWx0OiBmdW5jdGlvbihrKSB7XG5cdCAgICAgICAgdGhpcy54ICo9IGs7XG5cdCAgICAgICAgdGhpcy55ICo9IGs7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIF9kaXY6IGZ1bmN0aW9uKGspIHtcblx0ICAgICAgICB0aGlzLnggLz0gaztcblx0ICAgICAgICB0aGlzLnkgLz0gaztcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX211bHRCeVBvaW50OiBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdGhpcy54ICo9IHAueDtcblx0ICAgICAgICB0aGlzLnkgKj0gcC55O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfZGl2QnlQb2ludDogZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHRoaXMueCAvPSBwLng7XG5cdCAgICAgICAgdGhpcy55IC89IHAueTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3VuaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuX2Rpdih0aGlzLm1hZygpKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3BlcnA6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB5ID0gdGhpcy55O1xuXHQgICAgICAgIHRoaXMueSA9IHRoaXMueDtcblx0ICAgICAgICB0aGlzLnggPSAteTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3JvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcblx0ICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuXHQgICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSksXG5cdCAgICAgICAgICAgIHggPSBjb3MgKiB0aGlzLnggLSBzaW4gKiB0aGlzLnksXG5cdCAgICAgICAgICAgIHkgPSBzaW4gKiB0aGlzLnggKyBjb3MgKiB0aGlzLnk7XG5cdCAgICAgICAgdGhpcy54ID0geDtcblx0ICAgICAgICB0aGlzLnkgPSB5O1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICBfcm90YXRlQXJvdW5kOiBmdW5jdGlvbihhbmdsZSwgcCkge1xuXHQgICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG5cdCAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcblx0ICAgICAgICAgICAgeCA9IHAueCArIGNvcyAqICh0aGlzLnggLSBwLngpIC0gc2luICogKHRoaXMueSAtIHAueSksXG5cdCAgICAgICAgICAgIHkgPSBwLnkgKyBzaW4gKiAodGhpcy54IC0gcC54KSArIGNvcyAqICh0aGlzLnkgLSBwLnkpO1xuXHQgICAgICAgIHRoaXMueCA9IHg7XG5cdCAgICAgICAgdGhpcy55ID0geTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgX3JvdW5kOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG5cdCAgICAgICAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbnN0cnVjdCBhIHBvaW50IGZyb20gYW4gYXJyYXkgaWYgbmVjZXNzYXJ5LCBvdGhlcndpc2UgaWYgdGhlIGlucHV0XG5cdCAqIGlzIGFscmVhZHkgYSBQb2ludCwgb3IgYW4gdW5rbm93biB0eXBlLCByZXR1cm4gaXQgdW5jaGFuZ2VkXG5cdCAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPnxQb2ludHwqfSBhIGFueSBraW5kIG9mIGlucHV0IHZhbHVlXG5cdCAqIEByZXR1cm4ge1BvaW50fSBjb25zdHJ1Y3RlZCBwb2ludCwgb3IgcGFzc2VkLXRocm91Z2ggdmFsdWUuXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIHRoaXNcblx0ICogdmFyIHBvaW50ID0gUG9pbnQuY29udmVydChbMCwgMV0pO1xuXHQgKiAvLyBpcyBlcXVpdmFsZW50IHRvXG5cdCAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgwLCAxKTtcblx0ICovXG5cdFBvaW50LmNvbnZlcnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgaWYgKGEgaW5zdGFuY2VvZiBQb2ludCkge1xuXHQgICAgICAgIHJldHVybiBhO1xuXHQgICAgfVxuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFBvaW50KGFbMF0sIGFbMV0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGE7XG5cdH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDM3NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gYm9sZDtcblx0dmFyIGJvbGRQcmVmaXggPSAn4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4pao4paoICc7XG5cdFxuXHRmdW5jdGlvbiBib2xkKGxhYmVsKSB7XG5cdCAgcmV0dXJuIGJvbGRQcmVmaXggKyAnICcgKyBsYWJlbDtcblx0fVxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzc2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuZXhwYW5kID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9pc29iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcblx0XG5cdHZhciBfaXNvYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNvYmplY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBNQVhfREVQVEggPSAxMDA7XG5cdFxuXHRmdW5jdGlvbiBleHBhbmQoaXRlbSwgZGVwdGgpIHtcblx0ICBkZXB0aCA9IGRlcHRoIHx8IDMwO1xuXHRcblx0ICBpZiAoZGVwdGggPiBNQVhfREVQVEgpIHtcblx0ICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgaWYgKCgwLCBfaXNvYmplY3QyLmRlZmF1bHQpKGl0ZW0pKSB7XG5cdCAgICBmb3IgKHZhciBwcm9wIGluIGl0ZW0pIHtcblx0ICAgICAgY29uc29sZS5sb2cocHJvcCwgaXRlbVtwcm9wXSk7XG5cdCAgICAgIGNvbnNvbGUuZ3JvdXAocHJvcCArICcgOiAnICsgX3R5cGVvZihpdGVtW3Byb3BdKSk7XG5cdCAgICAgIGV4cGFuZChpdGVtW3Byb3BdLCBkZXB0aCArIDEpO1xuXHQgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdCwgc3BhY2UpIHtcblx0ICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0LCBudWxsLCBzcGFjZSk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZXhwYW5kID0gZXhwYW5kO1xuXHRleHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcblxuLyoqKi8gfSlcblxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxvYWQuanMiLCJpbXBvcnQgJ2JhYmVsLXBvbHlmaWxsJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vLi4vLi4vc3JjL2NvbnN0cy9LZXlDb2RlJztcblxuXG4oZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYWluID0gbmV3IE1haW4oKTtcbiAgICB9XG59KCkpO1xuXG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICAgICAgdGhpcy5vbnJlc2l6ZSgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuYXBwID0gbmV3IEFwcCgpO1xuICAgIH1cblxuICAgIGFkZEV2ZW50KCkge1xuICAgICAgICB3aW5kb3cub25yZXNpemUgPSB0aGlzLm9ucmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25rZXl1cC5iaW5kKHRoaXMpKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9ua2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBvbnJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5hcHAucmVzaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnVuYyB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEByZXR1cm5zIHtpbnRlcnZhbEZ1bmN9XG4gICAgICovXG4gICAgZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGVBcmcsIGZ1bmMsIC4uLnBhcmFtcykge1xuICAgICAgICBmdW5jdGlvbiBpbnRlcnZhbEZ1bmMoKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGx5KHRoZUFyZywgcGFyYW1zKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtleUludGVydmFsSWQpO1xuICAgICAgICAgICAgdGhpcy5rZXlJbnRlcnZhbElkID0gc2V0VGltZW91dChpbnRlcnZhbEZ1bmMuYmluZCh0aGlzKSwgMjAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlcnZhbEZ1bmMuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjbGVhckludGVyRnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtleUludGVydmFsSWQpO1xuICAgIH1cblxuICAgIG9ua2V5ZG93bihldmVudCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5VUDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd5JywgLTEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuRE9XTjpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd5JywgMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5MRUZUOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3gnLCAtMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5SSUdIVDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd4JywgMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5QQUdFX1VQOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJ2YWxGdW5jdGlvbih0aGlzLmFwcCwgdGhpcy5hcHAubW92ZUNhbWVyYSwgJ3onLCAxKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlBBR0VfRE9XTjpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLm1vdmVDYW1lcmEsICd6JywgLTEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzQ6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3knLCAtMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNjpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneScsIDAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzg6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3gnLCAtMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMjpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneCcsIDAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzc6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAtMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMTpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIDAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzk6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbnRlcnZhbEZ1bmN0aW9uKHRoaXMuYXBwLCB0aGlzLmFwcC5yb3RhdGVXb3JsZCwgJ3onLCAtMC4wMSkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMzpcbiAgICAgICAgICAgICAgICB0aGlzLmdldEludGVydmFsRnVuY3Rpb24odGhpcy5hcHAsIHRoaXMuYXBwLnJvdGF0ZVdvcmxkLCAneicsIDAuMDEpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNUEFEX0FERDpcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tSW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1QQURfU1VCVFJBQ1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHAuem9vbU91dCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTVBBRF9FTlRFUjpcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC56b29tT3V0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTlVNQkVSXzA6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHAucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5XOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlM6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuQTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5EOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25rZXl1cChldmVudCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5FU0NBUEU6XG4gICAgICAgICAgICAgICAgY29uc29sZS5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuU1BBQ0U6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBwLmd1aS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAuZ3VpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLmd1aS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlVQOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLkRPV046XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuTEVGVDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5SSUdIVDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5QQUdFX1VQOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlBBR0VfRE9XTjpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNjpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfODpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMjpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfNzpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMTpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfOTpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1CRVJfMzpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5OVU1QQURfQUREOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLk5VTVBBRF9TVUJUUkFDVDpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5XOlxuICAgICAgICAgICAgY2FzZSBLZXlDb2RlLlM6XG4gICAgICAgICAgICBjYXNlIEtleUNvZGUuQTpcbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5EOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJJbnRlckZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgS2V5Q29kZS5CQUNLU1BBQ0U6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWFwL3BiZi9sb2FkL2luZGV4LmpzIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBnZW9idWYgZnJvbSAnZ2VvYnVmJztcbmltcG9ydCBQYmYgZnJvbSAncGJmJztcbmltcG9ydCBQcm90b0J1ZiBmcm9tICdwYmYnO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vLi4vLi4vc3JjL25ldC9yZXF1ZXN0JztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuLi8uLi8uLi9zcmMvc3RyaW5nL3RlbXBsYXRlJztcbmltcG9ydCBib2xkIGZyb20gJy4uLy4uLy4uL3NyYy9jb25zb2xlL2JvbGQnO1xuaW1wb3J0IHsgZXhwYW5kLCBzdHJpbmdpZnkgfSBmcm9tICcuLi8uLi8uLi9zcmMvY29uc29sZS9leHBhbmQnO1xuaW1wb3J0IHsgVmVjdG9yVGlsZSB9IGZyb20gJ0BtYXBib3gvdmVjdG9yLXRpbGUnO1xuXG4vKipcbiAqIOyVhOuemCDso7zshozsnZggcGJm66W8IOy9lOunjOuPhOydmCDsiqTtg4DsnbzsnYQg7KeB7KCRIOuCtOugpOuwm+yVhOyEnCDtjIzsi7HtlZwg6rKD6rO8IOyYpOyhtOydmCDqsoPsnYQg67Cb7JWE7IScIO2ZleyduCDtlanri4jri6QuXG4gKiBodHRwczovL21hcC5uYXZlci5jb20vdjUvP2M9MTQxNDk2NzIuNzM3ODgxNyw0NDkxMTk5LjcyMTk5NTAsMTUsMCwwLDAsZGhcbiAqIOq3uOumrOqzoCDrsJvqs6Ag7YyM7Iux7ZWY64qUIOu5hOyaqSDqsJzsgrDsnYQg7ZWp64uI64ukLlxuICovXG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTMsIHk6IDEyNzExLCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzEyLCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTQsIHk6IDEyNzE0LCB6OiAxNX07XG4vLyBjb25zdCB4eXogPSB7eDogMjc5NTIsIHk6IDEyNzE0LCB6OiAxNX07XG4vLyDqt7jrprDtjKnthqDrpqxcbmNvbnN0IHh5eiA9IHt4OiAyNzk1MywgeTogMTI3MTMsIHo6IDE1fTtcbmNvbnN0IHVybHMgPSB7XG4gIGJ1czogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252Yi93bXRzL2J1cy9kMmUzNjRjOS1iNzVlLTRmZDctODAyMC1jNGIyNmY4MmI5Y2UvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBwb2lfd2ViOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZiL3dtdHMvcG9pX3dlYi84ZmU2ODgzZS01NTI1LTQ1ZjgtOGY1NS01ZTMwYmM0OTgxZjEvZ2V0VGlsZS97eH0ve3l9L3t6fS9wYmYnLFxuICBwb2k0b3NtOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9vc21fbmF2ZXJfcG9pLzU2NTNlNzU3LTliZjEtNGEyZS1iMjBmLTg2YmI0YzBiOTkxMi9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG4gIG5hdmVyNG9zbTogJ2h0dHBzOi8vbWFwLnBzdGF0aWMubmV0L252YnBjL3dtdHMvb3NtX25hdmVyX2RhdGEvZ2V0TWV0YWRhdGEnLFxuICBjY3R2OiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvbnZicGMvd210cy9jY3R2L2FiNTBiMjZjLTg0MmQtNGJlNS04YjBjLTQ2MDE5ZjVlNzlhMS9nZXRUaWxlL3t4fS97eX0ve3p9L3BiZicsXG4gIG96b25lOiAnaHR0cHM6Ly9tYXAucHN0YXRpYy5uZXQvb3pvbmUvcGJmL2dlb2pzb24vUE9JPycgK1xuICAgICd4PScgKyB4eXoueCArICcmJyArXG4gICAgJ3k9JyArIHh5ei55ICsgJyAmJyArXG4gICAgJ3o9JyArIHh5ei56ICsgJyYnICtcbiAgICAnbmFtZT1vc21fbmF2ZXJfcG9pJicgK1xuICAgICd2ZXJzaW9uQ29kZT01NjUzZTc1Ny05YmYxLTRhMmUtYjIwZi04NmJiNGMwYjk5MTImJyArXG4gICAgJ3BpeGVsUmF0aW89MiYnICtcbiAgICAnaW1hZ2VUeXBlPXNwcml0ZSYnICtcbiAgICAnbGFuZ3VhZ2U9a28mJyArXG4gICAgJ21hcFR5cGU9Tk9STUFMJicgK1xuICAgICdxdWFsaXR5PW5vcm1hbCdcbn07XG5cbmZvciAoY29uc3QgcHJvcCBpbiB1cmxzKSB7XG4gIHVybHNbcHJvcF0gPSB0ZW1wbGF0ZSh1cmxzW3Byb3BdLCB4eXopO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyB0aGlzLnRlc3RQYmYodXJscy5idXMsICdidXMnKTtcbiAgICAvLyB0aGlzLnRlc3RQYmYodXJscy5jY3R2LCAnY2N0dicpO1xuICAgIHRoaXMudGVzdFBiZih1cmxzLmNjdHYsICdjY3R2Jyk7XG4gICAgdGhpcy50ZXN0UGJmKHVybHMucG9pX3dlYiwgJ25hdmVyNG9zbScpO1xuICAgIHRoaXMudGVzdFBiZih1cmxzLnBvaTRvc20sICdwb2k0b3NtJyk7XG4gICAgdGhpcy50ZXN0T3pvbmUodXJscy5vem9uZSwgJ296b25lJyk7XG4gIH1cblxuICBwYXJzZSgpIHtcbiAgICAvLyBjb25zdCBwYmYgPSBuZXcgUGJmKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSk7XG4gICAgLy8gY29uc3QgdGlsZSA9IG5ldyBWZWN0b3JUaWxlKHBiZik7XG4gICAgLy8gY29uc3QgdGlsZSA9IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b0J1ZihidWZmZXIpKTtcbiAgfVxuXG4gIHRlc3RQYmYodXJsLCB0aW1lTGFiZWwpIHtcbiAgICBjb25zb2xlLnRpbWUoYm9sZChgJHt0aW1lTGFiZWx9IOuhnOuTnGApKTtcbiAgICByZXF1ZXN0KHtcbiAgICAgIHVybCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICB9KS50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoYm9sZChgJHt0aW1lTGFiZWx9IOuhnOuTnGApKTtcbiAgICAgIGNvbnNvbGUudGltZShib2xkKGAke3RpbWVMYWJlbH0gcGJmIO2MjOyLsWApKTtcbiAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVmVjdG9yVGlsZShuZXcgUHJvdG9CdWYoYnVmZmVyKSk7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoYm9sZChgJHt0aW1lTGFiZWx9IHBiZiDtjIzsi7FgKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzdHJpbmdpZnkodGlsZSwgMikpO1xuICAgICAgY29uc29sZS5sb2codGlsZSk7XG4gICAgICBjb25zb2xlLnRpbWUoYm9sZChgJHt0aW1lTGFiZWx9IO2UvOyzkCDsg53shLFgKSk7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5nZXRGZWF0dXJlcyh0aWxlKTtcbiAgICAgIGNvbnNvbGUudGltZUVuZChib2xkKGAke3RpbWVMYWJlbH0g7ZS87LOQIOyDneyEsWApKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlcycsIGNvbGxlY3Rpb24uZmVhdHVyZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgdGVzdE96b25lKHVybCwgdGltZUxhYmVsKSB7XG4gICAgY29uc29sZS50aW1lKGJvbGQoYCR7dGltZUxhYmVsfSDroZzrk5xgKSk7XG4gICAgcmVxdWVzdCh7XG4gICAgICB1cmwsXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsXG4gICAgfSkudGhlbihidWZmZXIgPT4ge1xuICAgICAgY29uc29sZS50aW1lRW5kKGJvbGQoYCR7dGltZUxhYmVsfSDroZzrk5xgKSk7XG4gICAgICBjb25zb2xlLnRpbWUoYm9sZChgJHt0aW1lTGFiZWx9IHBiZiDtjIzsi7Eg67CPIO2UvOyzkCDsg53shLFgKSk7XG5cbiAgICAgIGxldCBjb2xsZWN0aW9uID0ge1xuICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICBmZWF0dXJlczogW11cbiAgICAgIH07XG5cbiAgICAgIGNvbGxlY3Rpb24gPSBnZW9idWYuZGVjb2RlKG5ldyBQcm90b0J1ZihidWZmZXIpKTtcbiAgICAgIGNvbnNvbGUudGltZUVuZChib2xkKGAke3RpbWVMYWJlbH0gcGJmIO2MjOyLsSDrsI8g7ZS87LOQIOyDneyEsWApKTtcbiAgICAgIGNvbnNvbGUubG9nKCdjb2xsZWN0aW9uJywgY29sbGVjdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygnZmVhdHVyZXMnLCBjb2xsZWN0aW9uLmZlYXR1cmVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZlYXR1cmVzKHRpbGUpIHtcbiAgICBsZXQgY29sbGVjdGlvbiA9IHtcbiAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICBmZWF0dXJlczogW11cbiAgICB9O1xuXG4gICAgbGV0IGxheWVycyA9IE9iamVjdC5rZXlzKHRpbGUubGF5ZXJzKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICBsYXllcnMgPSBbbGF5ZXJzXTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgbGF5ZXJzICgke2xheWVycy5sZW5ndGh9KWApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcklEKSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IHRpbGUubGF5ZXJzW2xheWVySURdO1xuXG4gICAgICBjb25zdCBsZW4gPSBsYXllci5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IHtcbiAgICAgICAgICAuLi5sYXllci5mZWF0dXJlKGkpLnRvR2VvSlNPTih4eXoueCwgeHl6LnksIHh5ei56KVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzLmxheWVyID0gbGF5ZXJJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgZmVhdHVyZSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmZWF0dXJlJywgSlNPTi5zdHJpbmdpZnkoZmVhdHVyZSwgbnVsbCwgMikpO1xuICAgICAgICBjb2xsZWN0aW9uLmZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWFwL3BiZi9sb2FkL0FwcC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2F4aW9zLmpzXG4vLyBtb2R1bGUgaWQgPSAzMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG4gKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG4gKlxuICogQHNlZSBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gMzM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzLWJ1ZmZlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kID8gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpIDogJ2dldCc7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvQXhpb3MuanNcbi8vIG1vZHVsZSBpZCA9IDM0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qc1xuLy8gbW9kdWxlIGlkID0gMzQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanNcbi8vIG1vZHVsZSBpZCA9IDM0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgLy8gT25seSBOb2RlLkpTIGhhcyBhIHByb2Nlc3MgdmFyaWFibGUgdGhhdCBpcyBvZiBbW0NsYXNzXV0gcHJvY2Vzc1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvZGVmYXVsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDM0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvY3JlYXRlRXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgYnJvd3NlciByZXF1ZXN0IGNhbmNlbGxhdGlvbiAoYXMgb3Bwb3NlZCB0byBhIG1hbnVhbCBjYW5jZWxsYXRpb24pXG4gICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24gaGFuZGxlQWJvcnQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanNcbi8vIG1vZHVsZSBpZCA9IDM0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMzUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cblxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgZXJyb3IuaXNBeGlvc0Vycm9yID0gdHJ1ZTtcblxuICBlcnJvci50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgIH07XG4gIH07XG4gIHJldHVybiBlcnJvcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDM1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qc1xuLy8gbW9kdWxlIGlkID0gMzU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanNcbi8vIG1vZHVsZSBpZCA9IDM1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHV0aWxzLmZvckVhY2goWyd1cmwnLCAnbWV0aG9kJywgJ3BhcmFtcycsICdkYXRhJ10sIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB1dGlscy5mb3JFYWNoKFsnaGVhZGVycycsICdhdXRoJywgJ3Byb3h5J10sIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goW1xuICAgICdiYXNlVVJMJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLCAnbWF4Q29udGVudExlbmd0aCcsXG4gICAgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLCAnaHR0cHNBZ2VudCcsICdjYW5jZWxUb2tlbicsXG4gICAgJ3NvY2tldFBhdGgnXG4gIF0sIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qc1xuLy8gbW9kdWxlIGlkID0gMzU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qc1xuLy8gbW9kdWxlIGlkID0gMzYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5lbmNvZGUgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuZXhwb3J0cy5kZWNvZGUgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2dlb2J1Zi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlbmNvZGU7XG5cbnZhciBrZXlzLCBrZXlzTnVtLCBrZXlzQXJyLCBkaW0sIGUsXG4gICAgbWF4UHJlY2lzaW9uID0gMWU2O1xuXG52YXIgZ2VvbWV0cnlUeXBlcyA9IHtcbiAgICAnUG9pbnQnOiAwLFxuICAgICdNdWx0aVBvaW50JzogMSxcbiAgICAnTGluZVN0cmluZyc6IDIsXG4gICAgJ011bHRpTGluZVN0cmluZyc6IDMsXG4gICAgJ1BvbHlnb24nOiA0LFxuICAgICdNdWx0aVBvbHlnb24nOiA1LFxuICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiA2XG59O1xuXG5mdW5jdGlvbiBlbmNvZGUob2JqLCBwYmYpIHtcbiAgICBrZXlzID0ge307XG4gICAga2V5c0FyciA9IFtdO1xuICAgIGtleXNOdW0gPSAwO1xuICAgIGRpbSA9IDA7XG4gICAgZSA9IDE7XG5cbiAgICBhbmFseXplKG9iaik7XG5cbiAgICBlID0gTWF0aC5taW4oZSwgbWF4UHJlY2lzaW9uKTtcbiAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5jZWlsKE1hdGgubG9nKGUpIC8gTWF0aC5MTjEwKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0Fyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU3RyaW5nRmllbGQoMSwga2V5c0FycltpXSk7XG4gICAgaWYgKGRpbSAhPT0gMikgcGJmLndyaXRlVmFyaW50RmllbGQoMiwgZGltKTtcbiAgICBpZiAocHJlY2lzaW9uICE9PSA2KSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCBwcmVjaXNpb24pO1xuXG4gICAgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSBwYmYud3JpdGVNZXNzYWdlKDQsIHdyaXRlRmVhdHVyZUNvbGxlY3Rpb24sIG9iaik7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdGZWF0dXJlJykgcGJmLndyaXRlTWVzc2FnZSg1LCB3cml0ZUZlYXR1cmUsIG9iaik7XG4gICAgZWxzZSBwYmYud3JpdGVNZXNzYWdlKDYsIHdyaXRlR2VvbWV0cnksIG9iaik7XG5cbiAgICBrZXlzID0gbnVsbDtcblxuICAgIHJldHVybiBwYmYuZmluaXNoKCk7XG59XG5cbmZ1bmN0aW9uIGFuYWx5emUob2JqKSB7XG4gICAgdmFyIGksIGtleTtcblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSBhbmFseXplKG9iai5mZWF0dXJlc1tpXSk7XG5cbiAgICB9IGVsc2UgaWYgKG9iai50eXBlID09PSAnRmVhdHVyZScpIHtcbiAgICAgICAgaWYgKG9iai5nZW9tZXRyeSAhPT0gbnVsbCkgYW5hbHl6ZShvYmouZ2VvbWV0cnkpO1xuICAgICAgICBmb3IgKGtleSBpbiBvYmoucHJvcGVydGllcykgc2F2ZUtleShrZXkpO1xuXG4gICAgfSBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ1BvaW50JykgYW5hbHl6ZVBvaW50KG9iai5jb29yZGluYXRlcyk7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdNdWx0aVBvaW50JykgYW5hbHl6ZVBvaW50cyhvYmouY29vcmRpbmF0ZXMpO1xuICAgIGVsc2UgaWYgKG9iai50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmdlb21ldHJpZXMubGVuZ3RoOyBpKyspIGFuYWx5emUob2JqLmdlb21ldHJpZXNbaV0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBhbmFseXplUG9pbnRzKG9iai5jb29yZGluYXRlcyk7XG4gICAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdQb2x5Z29uJyB8fCBvYmoudHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGFuYWx5emVNdWx0aUxpbmUob2JqLmNvb3JkaW5hdGVzKTtcbiAgICBlbHNlIGlmIChvYmoudHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iai5jb29yZGluYXRlcy5sZW5ndGg7IGkrKykgYW5hbHl6ZU11bHRpTGluZShvYmouY29vcmRpbmF0ZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICBpZiAoIWlzU3BlY2lhbEtleShrZXksIG9iai50eXBlKSkgc2F2ZUtleShrZXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYW5hbHl6ZU11bHRpTGluZShjb29yZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykgYW5hbHl6ZVBvaW50cyhjb29yZHNbaV0pO1xufVxuXG5mdW5jdGlvbiBhbmFseXplUG9pbnRzKGNvb3Jkcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSBhbmFseXplUG9pbnQoY29vcmRzW2ldKTtcbn1cblxuZnVuY3Rpb24gYW5hbHl6ZVBvaW50KHBvaW50KSB7XG4gICAgZGltID0gTWF0aC5tYXgoZGltLCBwb2ludC5sZW5ndGgpO1xuXG4gICAgLy8gZmluZCBtYXggcHJlY2lzaW9uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludC5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoTWF0aC5yb3VuZChwb2ludFtpXSAqIGUpIC8gZSAhPT0gcG9pbnRbaV0gJiYgZSA8IG1heFByZWNpc2lvbikgZSAqPSAxMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVLZXkoa2V5KSB7XG4gICAgaWYgKGtleXNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleXNBcnIucHVzaChrZXkpO1xuICAgICAgICBrZXlzW2tleV0gPSBrZXlzTnVtKys7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUZlYXR1cmVDb2xsZWN0aW9uKG9iaiwgcGJmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxLCB3cml0ZUZlYXR1cmUsIG9iai5mZWF0dXJlc1tpXSk7XG4gICAgfVxuICAgIHdyaXRlUHJvcHMob2JqLCBwYmYsIHRydWUpO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZlYXR1cmUoZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkgIT09IG51bGwpIHBiZi53cml0ZU1lc3NhZ2UoMSwgd3JpdGVHZW9tZXRyeSwgZmVhdHVyZS5nZW9tZXRyeSk7XG5cbiAgICBpZiAoZmVhdHVyZS5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZmVhdHVyZS5pZCA9PT0gJ251bWJlcicgJiYgZmVhdHVyZS5pZCAlIDEgPT09IDApIHBiZi53cml0ZVNWYXJpbnRGaWVsZCgxMiwgZmVhdHVyZS5pZCk7XG4gICAgICAgIGVsc2UgcGJmLndyaXRlU3RyaW5nRmllbGQoMTEsIGZlYXR1cmUuaWQpO1xuICAgIH1cblxuICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHdyaXRlUHJvcHMoZmVhdHVyZS5wcm9wZXJ0aWVzLCBwYmYpO1xuICAgIHdyaXRlUHJvcHMoZmVhdHVyZSwgcGJmLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVHZW9tZXRyeShnZW9tLCBwYmYpIHtcbiAgICBwYmYud3JpdGVWYXJpbnRGaWVsZCgxLCBnZW9tZXRyeVR5cGVzW2dlb20udHlwZV0pO1xuXG4gICAgdmFyIGNvb3JkcyA9IGdlb20uY29vcmRpbmF0ZXM7XG5cbiAgICBpZiAoZ2VvbS50eXBlID09PSAnUG9pbnQnKSB3cml0ZVBvaW50KGNvb3JkcywgcGJmKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvaW50Jykgd3JpdGVMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdMaW5lU3RyaW5nJykgd3JpdGVMaW5lKGNvb3JkcywgcGJmKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSB3cml0ZU11bHRpTGluZShjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnUG9seWdvbicpIHdyaXRlTXVsdGlMaW5lKGNvb3JkcywgcGJmLCB0cnVlKTtcbiAgICBlbHNlIGlmIChnZW9tLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB3cml0ZU11bHRpUG9seWdvbihjb29yZHMsIHBiZik7XG4gICAgZWxzZSBpZiAoZ2VvbS50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb20uZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykgcGJmLndyaXRlTWVzc2FnZSg0LCB3cml0ZUdlb21ldHJ5LCBnZW9tLmdlb21ldHJpZXNbaV0pO1xuICAgIH1cblxuICAgIHdyaXRlUHJvcHMoZ2VvbSwgcGJmLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQcm9wcyhwcm9wcywgcGJmLCBpc0N1c3RvbSkge1xuICAgIHZhciBpbmRleGVzID0gW10sXG4gICAgICAgIHZhbHVlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChpc0N1c3RvbSAmJiBpc1NwZWNpYWxLZXkoa2V5LCBwcm9wcy50eXBlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcGJmLndyaXRlTWVzc2FnZSgxMywgd3JpdGVWYWx1ZSwgcHJvcHNba2V5XSk7XG4gICAgICAgIGluZGV4ZXMucHVzaChrZXlzW2tleV0pO1xuICAgICAgICBpbmRleGVzLnB1c2godmFsdWVJbmRleCsrKTtcbiAgICB9XG4gICAgcGJmLndyaXRlUGFja2VkVmFyaW50KGlzQ3VzdG9tID8gMTUgOiAxNCwgaW5kZXhlcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFsdWUodmFsdWUsIHBiZikge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIHZhbHVlKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHBiZi53cml0ZUJvb2xlYW5GaWVsZCg1LCB2YWx1ZSk7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDYsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHZhbHVlICUgMSAhPT0gMCkgcGJmLndyaXRlRG91YmxlRmllbGQoMiwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmICh2YWx1ZSA+PSAwKSBwYmYud3JpdGVWYXJpbnRGaWVsZCgzLCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgcGJmLndyaXRlVmFyaW50RmllbGQoNCwgLXZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9pbnQocG9pbnQsIHBiZikge1xuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSBjb29yZHMucHVzaChNYXRoLnJvdW5kKHBvaW50W2ldICogZSkpO1xuICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVMaW5lKGxpbmUsIHBiZikge1xuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBwb3B1bGF0ZUxpbmUoY29vcmRzLCBsaW5lKTtcbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTXVsdGlMaW5lKGxpbmVzLCBwYmYsIGNsb3NlZCkge1xuICAgIHZhciBsZW4gPSBsaW5lcy5sZW5ndGgsXG4gICAgICAgIGk7XG4gICAgaWYgKGxlbiAhPT0gMSkge1xuICAgICAgICB2YXIgbGVuZ3RocyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIGxlbmd0aHMucHVzaChsaW5lc1tpXS5sZW5ndGggLSAoY2xvc2VkID8gMSA6IDApKTtcbiAgICAgICAgcGJmLndyaXRlUGFja2VkVmFyaW50KDIsIGxlbmd0aHMpO1xuICAgICAgICAvLyBUT0RPIGZhc3RlciB3aXRoIGN1c3RvbSB3cml0ZU1lc3NhZ2U/XG4gICAgfVxuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmVzW2ldLCBjbG9zZWQpO1xuICAgIHBiZi53cml0ZVBhY2tlZFNWYXJpbnQoMywgY29vcmRzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVNdWx0aVBvbHlnb24ocG9seWdvbnMsIHBiZikge1xuICAgIHZhciBsZW4gPSBwb2x5Z29ucy5sZW5ndGgsXG4gICAgICAgIGksIGo7XG4gICAgaWYgKGxlbiAhPT0gMSB8fCBwb2x5Z29uc1swXS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdmFyIGxlbmd0aHMgPSBbbGVuXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGhzLnB1c2gocG9seWdvbnNbaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgbGVuZ3Rocy5wdXNoKHBvbHlnb25zW2ldW2pdLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHBiZi53cml0ZVBhY2tlZFZhcmludCgyLCBsZW5ndGhzKTtcbiAgICB9XG5cbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBwb2x5Z29uc1tpXS5sZW5ndGg7IGorKykgcG9wdWxhdGVMaW5lKGNvb3JkcywgcG9seWdvbnNbaV1bal0sIHRydWUpO1xuICAgIH1cbiAgICBwYmYud3JpdGVQYWNrZWRTVmFyaW50KDMsIGNvb3Jkcyk7XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlTGluZShjb29yZHMsIGxpbmUsIGNsb3NlZCkge1xuICAgIHZhciBpLCBqLFxuICAgICAgICBsZW4gPSBsaW5lLmxlbmd0aCAtIChjbG9zZWQgPyAxIDogMCksXG4gICAgICAgIHN1bSA9IG5ldyBBcnJheShkaW0pO1xuICAgIGZvciAoaiA9IDA7IGogPCBkaW07IGorKykgc3VtW2pdID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpbTsgaisrKSB7XG4gICAgICAgICAgICB2YXIgbiA9IE1hdGgucm91bmQobGluZVtpXVtqXSAqIGUpIC0gc3VtW2pdO1xuICAgICAgICAgICAgY29vcmRzLnB1c2gobik7XG4gICAgICAgICAgICBzdW1bal0gKz0gbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTcGVjaWFsS2V5KGtleSwgdHlwZSkge1xuICAgIGlmIChrZXkgPT09ICd0eXBlJykgcmV0dXJuIHRydWU7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnZmVhdHVyZXMnKSByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdGZWF0dXJlJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnaWQnIHx8IGtleSA9PT0gJ3Byb3BlcnRpZXMnIHx8IGtleSA9PT0gJ2dlb21ldHJ5JykgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoa2V5ID09PSAnZ2VvbWV0cmllcycpIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY29vcmRpbmF0ZXMnKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZ2VvYnVmL2VuY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMzYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBkZWNvZGU7XG5cbnZhciBrZXlzLCB2YWx1ZXMsIGxlbmd0aHMsIGRpbSwgZTtcblxudmFyIGdlb21ldHJ5VHlwZXMgPSBbXG4gICAgJ1BvaW50JywgJ011bHRpUG9pbnQnLCAnTGluZVN0cmluZycsICdNdWx0aUxpbmVTdHJpbmcnLFxuICAgICdQb2x5Z29uJywgJ011bHRpUG9seWdvbicsICdHZW9tZXRyeUNvbGxlY3Rpb24nXTtcblxuZnVuY3Rpb24gZGVjb2RlKHBiZikge1xuICAgIGRpbSA9IDI7XG4gICAgZSA9IE1hdGgucG93KDEwLCA2KTtcbiAgICBsZW5ndGhzID0gbnVsbDtcblxuICAgIGtleXMgPSBbXTtcbiAgICB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgb2JqID0gcGJmLnJlYWRGaWVsZHMocmVhZERhdGFGaWVsZCwge30pO1xuICAgIGtleXMgPSBudWxsO1xuXG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcmVhZERhdGFGaWVsZCh0YWcsIG9iaiwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkga2V5cy5wdXNoKHBiZi5yZWFkU3RyaW5nKCkpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgZGltID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGUgPSBNYXRoLnBvdygxMCwgcGJmLnJlYWRWYXJpbnQoKSk7XG5cbiAgICBlbHNlIGlmICh0YWcgPT09IDQpIHJlYWRGZWF0dXJlQ29sbGVjdGlvbihwYmYsIG9iaik7XG4gICAgZWxzZSBpZiAodGFnID09PSA1KSByZWFkRmVhdHVyZShwYmYsIG9iaik7XG4gICAgZWxzZSBpZiAodGFnID09PSA2KSByZWFkR2VvbWV0cnkocGJmLCBvYmopO1xufVxuXG5mdW5jdGlvbiByZWFkRmVhdHVyZUNvbGxlY3Rpb24ocGJmLCBvYmopIHtcbiAgICBvYmoudHlwZSA9ICdGZWF0dXJlQ29sbGVjdGlvbic7XG4gICAgb2JqLmZlYXR1cmVzID0gW107XG4gICAgcmV0dXJuIHBiZi5yZWFkTWVzc2FnZShyZWFkRmVhdHVyZUNvbGxlY3Rpb25GaWVsZCwgb2JqKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmUocGJmLCBmZWF0dXJlKSB7XG4gICAgZmVhdHVyZS50eXBlID0gJ0ZlYXR1cmUnO1xuICAgIHZhciBmID0gcGJmLnJlYWRNZXNzYWdlKHJlYWRGZWF0dXJlRmllbGQsIGZlYXR1cmUpO1xuICAgIGlmICghZi5oYXNPd25Qcm9wZXJ0eSgnZ2VvbWV0cnknKSkgZi5nZW9tZXRyeSA9IG51bGw7XG4gICAgcmV0dXJuIGY7XG59XG5cbmZ1bmN0aW9uIHJlYWRHZW9tZXRyeShwYmYsIGdlb20pIHtcbiAgICByZXR1cm4gcGJmLnJlYWRNZXNzYWdlKHJlYWRHZW9tZXRyeUZpZWxkLCBnZW9tKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmVDb2xsZWN0aW9uRmllbGQodGFnLCBvYmosIHBiZikge1xuICAgIGlmICh0YWcgPT09IDEpIG9iai5mZWF0dXJlcy5wdXNoKHJlYWRGZWF0dXJlKHBiZiwge30pKTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDE1KSByZWFkUHJvcHMocGJmLCBvYmopO1xufVxuXG5mdW5jdGlvbiByZWFkRmVhdHVyZUZpZWxkKHRhZywgZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkgZmVhdHVyZS5nZW9tZXRyeSA9IHJlYWRHZW9tZXRyeShwYmYsIHt9KTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFN0cmluZygpO1xuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTIpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFNWYXJpbnQoKTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMTMpIHZhbHVlcy5wdXNoKHJlYWRWYWx1ZShwYmYpKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDE0KSBmZWF0dXJlLnByb3BlcnRpZXMgPSByZWFkUHJvcHMocGJmLCB7fSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZmVhdHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRHZW9tZXRyeUZpZWxkKHRhZywgZ2VvbSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PT0gMSkgZ2VvbS50eXBlID0gZ2VvbWV0cnlUeXBlc1twYmYucmVhZFZhcmludCgpXTtcblxuICAgIGVsc2UgaWYgKHRhZyA9PT0gMikgbGVuZ3RocyA9IHBiZi5yZWFkUGFja2VkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAzKSByZWFkQ29vcmRzKGdlb20sIHBiZiwgZ2VvbS50eXBlKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDQpIHtcbiAgICAgICAgZ2VvbS5nZW9tZXRyaWVzID0gZ2VvbS5nZW9tZXRyaWVzIHx8IFtdO1xuICAgICAgICBnZW9tLmdlb21ldHJpZXMucHVzaChyZWFkR2VvbWV0cnkocGJmLCB7fSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0YWcgPT09IDEzKSB2YWx1ZXMucHVzaChyZWFkVmFsdWUocGJmKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxNSkgcmVhZFByb3BzKHBiZiwgZ2VvbSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRDb29yZHMoZ2VvbSwgcGJmLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkUG9pbnQocGJmKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTGluZShwYmYsIHRydWUpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykgZ2VvbS5jb29yZGluYXRlcyA9IHJlYWRMaW5lKHBiZik7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIGdlb20uY29vcmRpbmF0ZXMgPSByZWFkTXVsdGlMaW5lKHBiZik7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ1BvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpTGluZShwYmYsIHRydWUpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSBnZW9tLmNvb3JkaW5hdGVzID0gcmVhZE11bHRpUG9seWdvbihwYmYpO1xufVxuXG5mdW5jdGlvbiByZWFkVmFsdWUocGJmKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICB2YWx1ZSA9IG51bGw7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICB2YXIgdmFsID0gcGJmLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzO1xuXG4gICAgICAgIGlmICh0YWcgPT09IDEpIHZhbHVlID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICAgICAgZWxzZSBpZiAodGFnID09PSAyKSB2YWx1ZSA9IHBiZi5yZWFkRG91YmxlKCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gMykgdmFsdWUgPSBwYmYucmVhZFZhcmludCgpO1xuICAgICAgICBlbHNlIGlmICh0YWcgPT09IDQpIHZhbHVlID0gLXBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgIGVsc2UgaWYgKHRhZyA9PT0gNSkgdmFsdWUgPSBwYmYucmVhZEJvb2xlYW4oKTtcbiAgICAgICAgZWxzZSBpZiAodGFnID09PSA2KSB2YWx1ZSA9IEpTT04ucGFyc2UocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZFByb3BzKHBiZiwgcHJvcHMpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHByb3BzW2tleXNbcGJmLnJlYWRWYXJpbnQoKV1dID0gdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuICAgIHZhbHVlcyA9IFtdO1xuICAgIHJldHVybiBwcm9wcztcbn1cblxuZnVuY3Rpb24gcmVhZFBvaW50KHBiZikge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgY29vcmRzID0gW107XG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIGNvb3Jkcy5wdXNoKHBiZi5yZWFkU1ZhcmludCgpIC8gZSk7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuZnVuY3Rpb24gcmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW4sIGNsb3NlZCkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgY29vcmRzID0gW10sXG4gICAgICAgIHAsIGQ7XG5cbiAgICB2YXIgcHJldlAgPSBbXTtcbiAgICBmb3IgKGQgPSAwOyBkIDwgZGltOyBkKyspIHByZXZQW2RdID0gMDtcblxuICAgIHdoaWxlIChsZW4gPyBpIDwgbGVuIDogcGJmLnBvcyA8IGVuZCkge1xuICAgICAgICBwID0gW107XG4gICAgICAgIGZvciAoZCA9IDA7IGQgPCBkaW07IGQrKykge1xuICAgICAgICAgICAgcHJldlBbZF0gKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICBwW2RdID0gcHJldlBbZF0gLyBlO1xuICAgICAgICB9XG4gICAgICAgIGNvb3Jkcy5wdXNoKHApO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChjbG9zZWQpIGNvb3Jkcy5wdXNoKGNvb3Jkc1swXSk7XG5cbiAgICByZXR1cm4gY29vcmRzO1xufVxuXG5mdW5jdGlvbiByZWFkTGluZShwYmYpIHtcbiAgICByZXR1cm4gcmVhZExpbmVQYXJ0KHBiZiwgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MpO1xufVxuXG5mdW5jdGlvbiByZWFkTXVsdGlMaW5lKHBiZiwgY2xvc2VkKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuICAgIGlmICghbGVuZ3RocykgcmV0dXJuIFtyZWFkTGluZVBhcnQocGJmLCBlbmQsIG51bGwsIGNsb3NlZCldO1xuXG4gICAgdmFyIGNvb3JkcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3Rocy5sZW5ndGg7IGkrKykgY29vcmRzLnB1c2gocmVhZExpbmVQYXJ0KHBiZiwgZW5kLCBsZW5ndGhzW2ldLCBjbG9zZWQpKTtcbiAgICBsZW5ndGhzID0gbnVsbDtcbiAgICByZXR1cm4gY29vcmRzO1xufVxuXG5mdW5jdGlvbiByZWFkTXVsdGlQb2x5Z29uKHBiZikge1xuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcbiAgICBpZiAoIWxlbmd0aHMpIHJldHVybiBbW3JlYWRMaW5lUGFydChwYmYsIGVuZCwgbnVsbCwgdHJ1ZSldXTtcblxuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICB2YXIgaiA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhzWzBdOyBpKyspIHtcbiAgICAgICAgdmFyIHJpbmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuZ3Roc1tqXTsgaysrKSByaW5ncy5wdXNoKHJlYWRMaW5lUGFydChwYmYsIGVuZCwgbGVuZ3Roc1tqICsgMSArIGtdLCB0cnVlKSk7XG4gICAgICAgIGogKz0gbGVuZ3Roc1tqXSArIDE7XG4gICAgICAgIGNvb3Jkcy5wdXNoKHJpbmdzKTtcbiAgICB9XG4gICAgbGVuZ3RocyA9IG51bGw7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9nZW9idWYvZGVjb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBiZjtcblxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0Jyk7XG5cbmZ1bmN0aW9uIFBiZihidWYpIHtcbiAgICB0aGlzLmJ1ZiA9IEFycmF5QnVmZmVyLmlzVmlldyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcoYnVmKSA/IGJ1ZiA6IG5ldyBVaW50OEFycmF5KGJ1ZiB8fCAwKTtcbiAgICB0aGlzLnBvcyA9IDA7XG4gICAgdGhpcy50eXBlID0gMDtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuYnVmLmxlbmd0aDtcbn1cblxuUGJmLlZhcmludCAgPSAwOyAvLyB2YXJpbnQ6IGludDMyLCBpbnQ2NCwgdWludDMyLCB1aW50NjQsIHNpbnQzMiwgc2ludDY0LCBib29sLCBlbnVtXG5QYmYuRml4ZWQ2NCA9IDE7IC8vIDY0LWJpdDogZG91YmxlLCBmaXhlZDY0LCBzZml4ZWQ2NFxuUGJmLkJ5dGVzICAgPSAyOyAvLyBsZW5ndGgtZGVsaW1pdGVkOiBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuUGJmLkZpeGVkMzIgPSA1OyAvLyAzMi1iaXQ6IGZsb2F0LCBmaXhlZDMyLCBzZml4ZWQzMlxuXG52YXIgU0hJRlRfTEVGVF8zMiA9ICgxIDw8IDE2KSAqICgxIDw8IDE2KSxcbiAgICBTSElGVF9SSUdIVF8zMiA9IDEgLyBTSElGVF9MRUZUXzMyO1xuXG5QYmYucHJvdG90eXBlID0ge1xuXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuYnVmID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLy8gPT09IFJFQURJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJlYWRGaWVsZHM6IGZ1bmN0aW9uKHJlYWRGaWVsZCwgcmVzdWx0LCBlbmQpIHtcbiAgICAgICAgZW5kID0gZW5kIHx8IHRoaXMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMucmVhZFZhcmludCgpLFxuICAgICAgICAgICAgICAgIHRhZyA9IHZhbCA+PiAzLFxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG5cbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgICAgIHJlYWRGaWVsZCh0YWcsIHJlc3VsdCwgdGhpcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA9PT0gc3RhcnRQb3MpIHRoaXMuc2tpcCh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIHJlYWRNZXNzYWdlOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmllbGRzKHJlYWRGaWVsZCwgcmVzdWx0LCB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zKTtcbiAgICB9LFxuXG4gICAgcmVhZEZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkU0ZpeGVkMzI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZEludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIC8vIDY0LWJpdCBpbnQgaGFuZGxpbmcgaXMgYmFzZWQgb24gZ2l0aHViLmNvbS9kcHcvbm9kZS1idWZmZXItbW9yZS1pbnRzIChNSVQtbGljZW5zZWQpXG5cbiAgICByZWFkRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcyArIDQpICogU0hJRlRfTEVGVF8zMjtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDY0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKSArIHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRGbG9hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSBpZWVlNzU0LnJlYWQodGhpcy5idWYsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWREb3VibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50OiBmdW5jdGlvbihpc1NpZ25lZCkge1xuICAgICAgICB2YXIgYnVmID0gdGhpcy5idWYsXG4gICAgICAgICAgICB2YWwsIGI7XG5cbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsICA9ICBiICYgMHg3ZjsgICAgICAgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgNzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMTQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvcysrXTsgdmFsIHw9IChiICYgMHg3ZikgPDwgMjE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHZhbDtcbiAgICAgICAgYiA9IGJ1Zlt0aGlzLnBvc107ICAgdmFsIHw9IChiICYgMHgwZikgPDwgMjg7XG5cbiAgICAgICAgcmV0dXJuIHJlYWRWYXJpbnRSZW1haW5kZXIodmFsLCBpc1NpZ25lZCwgdGhpcyk7XG4gICAgfSxcblxuICAgIHJlYWRWYXJpbnQ2NDogZnVuY3Rpb24oKSB7IC8vIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdjIuMC4xXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRWYXJpbnQodHJ1ZSk7XG4gICAgfSxcblxuICAgIHJlYWRTVmFyaW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG51bSA9IHRoaXMucmVhZFZhcmludCgpO1xuICAgICAgICByZXR1cm4gbnVtICUgMiA9PT0gMSA/IChudW0gKyAxKSAvIC0yIDogbnVtIC8gMjsgLy8gemlnemFnIGVuY29kaW5nXG4gICAgfSxcblxuICAgIHJlYWRCb29sZWFuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpO1xuICAgIH0sXG5cbiAgICByZWFkU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBzdHIgPSByZWFkVXRmOCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIGVuZCk7XG4gICAgICAgIHRoaXMucG9zID0gZW5kO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICByZWFkQnl0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyxcbiAgICAgICAgICAgIGJ1ZmZlciA9IHRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLCBlbmQpO1xuICAgICAgICB0aGlzLnBvcyA9IGVuZDtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9LFxuXG4gICAgLy8gdmVyYm9zZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczsgZG9lc24ndCBhZmZlY3QgZ3ppcHBlZCBzaXplXG5cbiAgICByZWFkUGFja2VkVmFyaW50OiBmdW5jdGlvbihhcnIsIGlzU2lnbmVkKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFZhcmludChpc1NpZ25lZCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNWYXJpbnQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkQm9vbGVhbjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGbG9hdDogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZERvdWJsZTogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IFBiZi5CeXRlcykgcmV0dXJuIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuXG4gICAgc2tpcDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciB0eXBlID0gdmFsICYgMHg3O1xuICAgICAgICBpZiAodHlwZSA9PT0gUGJmLlZhcmludCkgd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdID4gMHg3Zikge31cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkJ5dGVzKSB0aGlzLnBvcyA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3M7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5GaXhlZDMyKSB0aGlzLnBvcyArPSA0O1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQ2NCkgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgdHlwZTogJyArIHR5cGUpO1xuICAgIH0sXG5cbiAgICAvLyA9PT0gV1JJVElORyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgd3JpdGVUYWc6IGZ1bmN0aW9uKHRhZywgdHlwZSkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KCh0YWcgPDwgMykgfCB0eXBlKTtcbiAgICB9LFxuXG4gICAgcmVhbGxvYzogZnVuY3Rpb24obWluKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAxNjtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdGhpcy5wb3MgKyBtaW4pIGxlbmd0aCAqPSAyO1xuXG4gICAgICAgIGlmIChsZW5ndGggIT09IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5idWYpO1xuICAgICAgICAgICAgdGhpcy5idWYgPSBidWY7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheSgwLCB0aGlzLmxlbmd0aCk7XG4gICAgfSxcblxuICAgIHdyaXRlRml4ZWQzMjogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfSxcblxuICAgIHdyaXRlU0ZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkNjQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoOCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCAmIC0xLCB0aGlzLnBvcyk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIE1hdGguZmxvb3IodmFsICogU0hJRlRfUklHSFRfMzIpLCB0aGlzLnBvcyArIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YWwgPSArdmFsIHx8IDA7XG5cbiAgICAgICAgaWYgKHZhbCA+IDB4ZmZmZmZmZiB8fCB2YWwgPCAwKSB7XG4gICAgICAgICAgICB3cml0ZUJpZ1ZhcmludCh2YWwsIHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuXG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAgICAgICAgIHZhbCAmIDB4N2YgIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICgodmFsID4+Pj0gNykgJiAweDdmKSB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gICAodmFsID4+PiA3KSAmIDB4N2Y7XG4gICAgfSxcblxuICAgIHdyaXRlU1ZhcmludDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsIDwgMCA/IC12YWwgKiAyIC0gMSA6IHZhbCAqIDIpO1xuICAgIH0sXG5cbiAgICB3cml0ZUJvb2xlYW46IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odmFsKSk7XG4gICAgfSxcblxuICAgIHdyaXRlU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgc3RyID0gU3RyaW5nKHN0cik7XG4gICAgICAgIHRoaXMucmVhbGxvYyhzdHIubGVuZ3RoICogNCk7XG5cbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IHN0cmluZyBsZW5ndGhcblxuICAgICAgICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgLy8gd3JpdGUgdGhlIHN0cmluZyBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cbiAgICAgICAgdGhpcy5wb3MgPSB3cml0ZVV0ZjgodGhpcy5idWYsIHN0ciwgdGhpcy5wb3MpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZUZsb2F0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCAyMywgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfSxcblxuICAgIHdyaXRlRG91YmxlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICBpZWVlNzU0LndyaXRlKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zLCB0cnVlLCA1MiwgOCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlQnl0ZXM6IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuICAgICAgICB0aGlzLnJlYWxsb2MobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgdGhpcy5idWZbdGhpcy5wb3MrK10gPSBidWZmZXJbaV07XG4gICAgfSxcblxuICAgIHdyaXRlUmF3TWVzc2FnZTogZnVuY3Rpb24oZm4sIG9iaikge1xuICAgICAgICB0aGlzLnBvcysrOyAvLyByZXNlcnZlIDEgYnl0ZSBmb3Igc2hvcnQgbWVzc2FnZSBsZW5ndGhcblxuICAgICAgICAvLyB3cml0ZSB0aGUgbWVzc2FnZSBkaXJlY3RseSB0byB0aGUgYnVmZmVyIGFuZCBzZWUgaG93IG11Y2ggd2FzIHdyaXR0ZW5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIGZuKG9iaiwgdGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLnBvcyAtIHN0YXJ0UG9zO1xuXG4gICAgICAgIGlmIChsZW4gPj0gMHg4MCkgbWFrZVJvb21Gb3JFeHRyYUxlbmd0aChzdGFydFBvcywgbGVuLCB0aGlzKTtcblxuICAgICAgICAvLyBmaW5hbGx5LCB3cml0ZSB0aGUgbWVzc2FnZSBsZW5ndGggaW4gdGhlIHJlc2VydmVkIHBsYWNlIGFuZCByZXN0b3JlIHRoZSBwb3NpdGlvblxuICAgICAgICB0aGlzLnBvcyA9IHN0YXJ0UG9zIC0gMTtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChsZW4pO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgfSxcblxuICAgIHdyaXRlTWVzc2FnZTogZnVuY3Rpb24odGFnLCBmbiwgb2JqKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlUmF3TWVzc2FnZShmbiwgb2JqKTtcbiAgICB9LFxuXG4gICAgd3JpdGVQYWNrZWRWYXJpbnQ6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRWYXJpbnQsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZFNWYXJpbnQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNWYXJpbnQsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkQm9vbGVhbjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkQm9vbGVhbiwgYXJyKTsgIH0sXG4gICAgd3JpdGVQYWNrZWRGbG9hdDogICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGbG9hdCwgYXJyKTsgICAgfSxcbiAgICB3cml0ZVBhY2tlZERvdWJsZTogICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZERvdWJsZSwgYXJyKTsgICB9LFxuICAgIHdyaXRlUGFja2VkRml4ZWQzMjogIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRml4ZWQzMiwgYXJyKTsgIH0sXG4gICAgd3JpdGVQYWNrZWRTRml4ZWQzMjogZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTRml4ZWQzMiwgYXJyKTsgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkNjQ6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkNjQsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkNjQ6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkNjQsIGFycik7IH0sXG5cbiAgICB3cml0ZUJ5dGVzRmllbGQ6IGZ1bmN0aW9uKHRhZywgYnVmZmVyKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlQnl0ZXMoYnVmZmVyKTtcbiAgICB9LFxuICAgIHdyaXRlRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRml4ZWQzMih2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTRml4ZWQzMkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlU0ZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuICAgICAgICB0aGlzLndyaXRlRml4ZWQ2NCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTRml4ZWQ2NEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkNjQpO1xuICAgICAgICB0aGlzLndyaXRlU0ZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVTVmFyaW50RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuVmFyaW50KTtcbiAgICAgICAgdGhpcy53cml0ZVNWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU3RyaW5nRmllbGQ6IGZ1bmN0aW9uKHRhZywgc3RyKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuQnl0ZXMpO1xuICAgICAgICB0aGlzLndyaXRlU3RyaW5nKHN0cik7XG4gICAgfSxcbiAgICB3cml0ZUZsb2F0RmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQzMik7XG4gICAgICAgIHRoaXMud3JpdGVGbG9hdCh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVEb3VibGVGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZURvdWJsZSh2YWwpO1xuICAgIH0sXG4gICAgd3JpdGVCb29sZWFuRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnRGaWVsZCh0YWcsIEJvb2xlYW4odmFsKSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gcmVhZFZhcmludFJlbWFpbmRlcihsLCBzLCBwKSB7XG4gICAgdmFyIGJ1ZiA9IHAuYnVmLFxuICAgICAgICBoLCBiO1xuXG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCAgPSAoYiAmIDB4NzApID4+IDQ7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMzsgIGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxMDsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDE3OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMjQ7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDAxKSA8PCAzMTsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRQYWNrZWRFbmQocGJmKSB7XG4gICAgcmV0dXJuIHBiZi50eXBlID09PSBQYmYuQnl0ZXMgP1xuICAgICAgICBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyA6IHBiZi5wb3MgKyAxO1xufVxuXG5mdW5jdGlvbiB0b051bShsb3csIGhpZ2gsIGlzU2lnbmVkKSB7XG4gICAgaWYgKGlzU2lnbmVkKSB7XG4gICAgICAgIHJldHVybiBoaWdoICogMHgxMDAwMDAwMDAgKyAobG93ID4+PiAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKChoaWdoID4+PiAwKSAqIDB4MTAwMDAwMDAwKSArIChsb3cgPj4+IDApO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludCh2YWwsIHBiZikge1xuICAgIHZhciBsb3csIGhpZ2g7XG5cbiAgICBpZiAodmFsID49IDApIHtcbiAgICAgICAgbG93ICA9ICh2YWwgJSAweDEwMDAwMDAwMCkgfCAwO1xuICAgICAgICBoaWdoID0gKHZhbCAvIDB4MTAwMDAwMDAwKSB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG93ICA9IH4oLXZhbCAlIDB4MTAwMDAwMDAwKTtcbiAgICAgICAgaGlnaCA9IH4oLXZhbCAvIDB4MTAwMDAwMDAwKTtcblxuICAgICAgICBpZiAobG93IF4gMHhmZmZmZmZmZikge1xuICAgICAgICAgICAgbG93ID0gKGxvdyArIDEpIHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvdyA9IDA7XG4gICAgICAgICAgICBoaWdoID0gKGhpZ2ggKyAxKSB8IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsID49IDB4MTAwMDAwMDAwMDAwMDAwMDAgfHwgdmFsIDwgLTB4MTAwMDAwMDAwMDAwMDAwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHaXZlbiB2YXJpbnQgZG9lc25cXCd0IGZpdCBpbnRvIDEwIGJ5dGVzJyk7XG4gICAgfVxuXG4gICAgcGJmLnJlYWxsb2MoMTApO1xuXG4gICAgd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpO1xuICAgIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludExvdyhsb3csIGhpZ2gsIHBiZikge1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSA9IGxvdyAmIDB4N2YgfCAweDgwOyBsb3cgPj4+PSA3O1xuICAgIHBiZi5idWZbcGJmLnBvc10gICA9IGxvdyAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50SGlnaChoaWdoLCBwYmYpIHtcbiAgICB2YXIgbHNiID0gKGhpZ2ggJiAweDA3KSA8PCA0O1xuXG4gICAgcGJmLmJ1ZltwYmYucG9zKytdIHw9IGxzYiAgICAgICAgIHwgKChoaWdoID4+Pj0gMykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgcGJmKSB7XG4gICAgdmFyIGV4dHJhTGVuID1cbiAgICAgICAgbGVuIDw9IDB4M2ZmZiA/IDEgOlxuICAgICAgICBsZW4gPD0gMHgxZmZmZmYgPyAyIDpcbiAgICAgICAgbGVuIDw9IDB4ZmZmZmZmZiA/IDMgOiBNYXRoLmZsb29yKE1hdGgubG9nKGxlbikgLyAoTWF0aC5MTjIgKiA3KSk7XG5cbiAgICAvLyBpZiAxIGJ5dGUgaXNuJ3QgZW5vdWdoIGZvciBlbmNvZGluZyBtZXNzYWdlIGxlbmd0aCwgc2hpZnQgdGhlIGRhdGEgdG8gdGhlIHJpZ2h0XG4gICAgcGJmLnJlYWxsb2MoZXh0cmFMZW4pO1xuICAgIGZvciAodmFyIGkgPSBwYmYucG9zIC0gMTsgaSA+PSBzdGFydFBvczsgaS0tKSBwYmYuYnVmW2kgKyBleHRyYUxlbl0gPSBwYmYuYnVmW2ldO1xufVxuXG5mdW5jdGlvbiB3cml0ZVBhY2tlZFZhcmludChhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVWYXJpbnQoYXJyW2ldKTsgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNWYXJpbnQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTVmFyaW50KGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZsb2F0KGFyciwgcGJmKSAgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGbG9hdChhcnJbaV0pOyAgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZERvdWJsZShhcnIsIHBiZikgICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVEb3VibGUoYXJyW2ldKTsgICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEJvb2xlYW4oYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVCb29sZWFuKGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkMzIoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDMyKGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDMyKGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQzMihhcnJbaV0pOyB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZEZpeGVkNjQoYXJyLCBwYmYpICB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVGaXhlZDY0KGFycltpXSk7ICB9XG5mdW5jdGlvbiB3cml0ZVBhY2tlZFNGaXhlZDY0KGFyciwgcGJmKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBwYmYud3JpdGVTRml4ZWQ2NChhcnJbaV0pOyB9XG5cbi8vIEJ1ZmZlciBjb2RlIGJlbG93IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIsIE1JVC1saWNlbnNlZFxuXG5mdW5jdGlvbiByZWFkVUludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gKiAweDEwMDAwMDApO1xufVxuXG5mdW5jdGlvbiB3cml0ZUludDMyKGJ1ZiwgdmFsLCBwb3MpIHtcbiAgICBidWZbcG9zXSA9IHZhbDtcbiAgICBidWZbcG9zICsgMV0gPSAodmFsID4+PiA4KTtcbiAgICBidWZbcG9zICsgMl0gPSAodmFsID4+PiAxNik7XG4gICAgYnVmW3BvcyArIDNdID0gKHZhbCA+Pj4gMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkSW50MzIoYnVmLCBwb3MpIHtcbiAgICByZXR1cm4gKChidWZbcG9zXSkgfFxuICAgICAgICAoYnVmW3BvcyArIDFdIDw8IDgpIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAyXSA8PCAxNikpICtcbiAgICAgICAgKGJ1Zltwb3MgKyAzXSA8PCAyNCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVdGY4KGJ1ZiwgcG9zLCBlbmQpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGkgPSBwb3M7XG5cbiAgICB3aGlsZSAoaSA8IGVuZCkge1xuICAgICAgICB2YXIgYjAgPSBidWZbaV07XG4gICAgICAgIHZhciBjID0gbnVsbDsgLy8gY29kZXBvaW50XG4gICAgICAgIHZhciBieXRlc1BlclNlcXVlbmNlID1cbiAgICAgICAgICAgIGIwID4gMHhFRiA/IDQgOlxuICAgICAgICAgICAgYjAgPiAweERGID8gMyA6XG4gICAgICAgICAgICBiMCA+IDB4QkYgPyAyIDogMTtcblxuICAgICAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPiBlbmQpIGJyZWFrO1xuXG4gICAgICAgIHZhciBiMSwgYjIsIGIzO1xuXG4gICAgICAgIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoYjAgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IGIwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzUGVyU2VxdWVuY2UgPT09IDIpIHtcbiAgICAgICAgICAgIGIxID0gYnVmW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICgoYjEgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSAoYjAgJiAweDFGKSA8PCAweDYgfCAoYjEgJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAzKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweEMgfCAoYjEgJiAweDNGKSA8PCAweDYgfCAoYjIgJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAoYyA8PSAweDdGRiB8fCAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERGRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSA0KSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBiMiA9IGJ1ZltpICsgMl07XG4gICAgICAgICAgICBiMyA9IGJ1ZltpICsgM107XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODAgJiYgKGIyICYgMHhDMCkgPT09IDB4ODAgJiYgKGIzICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHhGKSA8PCAweDEyIHwgKGIxICYgMHgzRikgPDwgMHhDIHwgKGIyICYgMHgzRikgPDwgMHg2IHwgKGIzICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHhGRkZGIHx8IGMgPj0gMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGMgPSAweEZGRkQ7XG4gICAgICAgICAgICBieXRlc1BlclNlcXVlbmNlID0gMTtcblxuICAgICAgICB9IGVsc2UgaWYgKGMgPiAweEZGRkYpIHtcbiAgICAgICAgICAgIGMgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuICAgICAgICAgICAgYyA9IDB4REMwMCB8IGMgJiAweDNGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gd3JpdGVVdGY4KGJ1Ziwgc3RyLCBwb3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYywgbGVhZDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7IC8vIGNvZGUgcG9pbnRcblxuICAgICAgICBpZiAoYyA+IDB4RDdGRiAmJiBjIDwgMHhFMDAwKSB7XG4gICAgICAgICAgICBpZiAobGVhZCkge1xuICAgICAgICAgICAgICAgIGlmIChjIDwgMHhEQzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEVGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjID0gbGVhZCAtIDB4RDgwMCA8PCAxMCB8IGMgLSAweERDMDAgfCAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBsZWFkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjID4gMHhEQkZGIHx8IChpICsgMSA9PT0gc3RyLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZWFkID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGVhZCkge1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRjtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgbGVhZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4NiB8IDB4QzA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgfCAweEUwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4MTIgfCAweEYwO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweEMgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2ICYgMHgzRiB8IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZbcG9zKytdID0gYyAmIDB4M0YgfCAweDgwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGJmL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1ZXN0KHt1cmwsIHJlc3BvbnNlVHlwZSA9ICdqc29uJ30pIHtcbiAgY29uc3QgZmV0Y2hEYXRhID0gKCkgPT4ge1xuICAgIHJldHVybiBheGlvcyh7XG4gICAgICB1cmwsXG4gICAgICByZXNwb25zZVR5cGUsXG4gICAgfSkudGhlbigoe2RhdGF9KSA9PiB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZldGNoRGF0YSgpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9uZXQvcmVxdWVzdC5qcyIsInZhciB0ZW1wbGF0ZVJlID0gL1xceyAqKFtcXHdfLV0rKSAqXFx9L2c7XG5cbi8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXG4vLyBTaW1wbGUgdGVtcGxhdGluZyBmYWNpbGl0eSwgYWNjZXB0cyBhIHRlbXBsYXRlIHN0cmluZyBvZiB0aGUgZm9ybSBgJ0hlbGxvIHthfSwge2J9J2Bcbi8vIGFuZCBhIGRhdGEgb2JqZWN0IGxpa2UgYHthOiAnZm9vJywgYjogJ2Jhcid9YCwgcmV0dXJucyBldmFsdWF0ZWQgc3RyaW5nXG4vLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3Jcbi8vIGRhdGEgdmFsdWVzIOKAlCB0aGV5IHdpbGwgYmUgZXZhbHVhdGVkIHBhc3NpbmcgYGRhdGFgIGFzIGFuIGFyZ3VtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVtcGxhdGUoc3RyLCBkYXRhKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSh0ZW1wbGF0ZVJlLCBmdW5jdGlvbiAoc3RyLCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XG5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyaW5nL3RlbXBsYXRlLmpzIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvaXNvYmplY3QvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgQXJyYXkuaXNBcnJheSh2YWwpID09PSBmYWxzZTtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZhbGlkYXRlL2lzb2JqZWN0LmpzIiwibW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGVsYXllci5qcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBWZWN0b3JUaWxlTGF5ZXIgPSByZXF1aXJlKCcuL3ZlY3RvcnRpbGVsYXllcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGU7XG5cbmZ1bmN0aW9uIFZlY3RvclRpbGUocGJmLCBlbmQpIHtcbiAgICB0aGlzLmxheWVycyA9IHBiZi5yZWFkRmllbGRzKHJlYWRUaWxlLCB7fSwgZW5kKTtcbn1cblxuZnVuY3Rpb24gcmVhZFRpbGUodGFnLCBsYXllcnMsIHBiZikge1xuICAgIGlmICh0YWcgPT09IDMpIHtcbiAgICAgICAgdmFyIGxheWVyID0gbmV3IFZlY3RvclRpbGVMYXllcihwYmYsIHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zKTtcbiAgICAgICAgaWYgKGxheWVyLmxlbmd0aCkgbGF5ZXJzW2xheWVyLm5hbWVdID0gbGF5ZXI7XG4gICAgfVxufVxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC92ZWN0b3ItdGlsZS9saWIvdmVjdG9ydGlsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gNDA5NjtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxuICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cbiAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXG4gICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlbGF5ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciBQb2ludCA9IHJlcXVpcmUoJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlRmVhdHVyZTtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUZlYXR1cmUocGJmLCBlbmQsIGV4dGVudCwga2V5cywgdmFsdWVzKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgdGhpcy5leHRlbnQgPSBleHRlbnQ7XG4gICAgdGhpcy50eXBlID0gMDtcblxuICAgIC8vIFByaXZhdGVcbiAgICB0aGlzLl9wYmYgPSBwYmY7XG4gICAgdGhpcy5fZ2VvbWV0cnkgPSAtMTtcbiAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICBwYmYucmVhZEZpZWxkcyhyZWFkRmVhdHVyZSwgdGhpcywgZW5kKTtcbn1cblxuZnVuY3Rpb24gcmVhZEZlYXR1cmUodGFnLCBmZWF0dXJlLCBwYmYpIHtcbiAgICBpZiAodGFnID09IDEpIGZlYXR1cmUuaWQgPSBwYmYucmVhZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSAyKSByZWFkVGFnKHBiZiwgZmVhdHVyZSk7XG4gICAgZWxzZSBpZiAodGFnID09IDMpIGZlYXR1cmUudHlwZSA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09IDQpIGZlYXR1cmUuX2dlb21ldHJ5ID0gcGJmLnBvcztcbn1cblxuZnVuY3Rpb24gcmVhZFRhZyhwYmYsIGZlYXR1cmUpIHtcbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3M7XG5cbiAgICB3aGlsZSAocGJmLnBvcyA8IGVuZCkge1xuICAgICAgICB2YXIga2V5ID0gZmVhdHVyZS5fa2V5c1twYmYucmVhZFZhcmludCgpXSxcbiAgICAgICAgICAgIHZhbHVlID0gZmVhdHVyZS5fdmFsdWVzW3BiZi5yZWFkVmFyaW50KCldO1xuICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbn1cblxuVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMgPSBbJ1Vua25vd24nLCAnUG9pbnQnLCAnTGluZVN0cmluZycsICdQb2x5Z29uJ107XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5sb2FkR2VvbWV0cnkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGJmID0gdGhpcy5fcGJmO1xuICAgIHBiZi5wb3MgPSB0aGlzLl9nZW9tZXRyeTtcblxuICAgIHZhciBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyxcbiAgICAgICAgY21kID0gMSxcbiAgICAgICAgbGVuZ3RoID0gMCxcbiAgICAgICAgeCA9IDAsXG4gICAgICAgIHkgPSAwLFxuICAgICAgICBsaW5lcyA9IFtdLFxuICAgICAgICBsaW5lO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4NztcbiAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoLS07XG5cbiAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcbiAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuXG4gICAgICAgICAgICBpZiAoY21kID09PSAxKSB7IC8vIG1vdmVUb1xuICAgICAgICAgICAgICAgIGlmIChsaW5lKSBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZS5wdXNoKG5ldyBQb2ludCh4LCB5KSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjbWQgPT09IDcpIHtcblxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBuaWstdmVjdG9yLXRpbGUvaXNzdWVzLzkwXG4gICAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgICAgIGxpbmUucHVzaChsaW5lWzBdLmNsb25lKCkpOyAvLyBjbG9zZVBvbHlnb25cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcblxuICAgIHJldHVybiBsaW5lcztcbn07XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS5iYm94ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcbiAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNtZCA9IDEsXG4gICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgeDEgPSBJbmZpbml0eSxcbiAgICAgICAgeDIgPSAtSW5maW5pdHksXG4gICAgICAgIHkxID0gSW5maW5pdHksXG4gICAgICAgIHkyID0gLUluZmluaXR5O1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB2YXIgY21kTGVuID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgICAgIGNtZCA9IGNtZExlbiAmIDB4NztcbiAgICAgICAgICAgIGxlbmd0aCA9IGNtZExlbiA+PiAzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoLS07XG5cbiAgICAgICAgaWYgKGNtZCA9PT0gMSB8fCBjbWQgPT09IDIpIHtcbiAgICAgICAgICAgIHggKz0gcGJmLnJlYWRTVmFyaW50KCk7XG4gICAgICAgICAgICB5ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgaWYgKHggPCB4MSkgeDEgPSB4O1xuICAgICAgICAgICAgaWYgKHggPiB4MikgeDIgPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCB5MSkgeTEgPSB5O1xuICAgICAgICAgICAgaWYgKHkgPiB5MikgeTIgPSB5O1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY21kICE9PSA3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29tbWFuZCAnICsgY21kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbeDEsIHkxLCB4MiwgeTJdO1xufTtcblxuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTiA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuZXh0ZW50ICogTWF0aC5wb3coMiwgeiksXG4gICAgICAgIHgwID0gdGhpcy5leHRlbnQgKiB4LFxuICAgICAgICB5MCA9IHRoaXMuZXh0ZW50ICogeSxcbiAgICAgICAgY29vcmRzID0gdGhpcy5sb2FkR2VvbWV0cnkoKSxcbiAgICAgICAgdHlwZSA9IFZlY3RvclRpbGVGZWF0dXJlLnR5cGVzW3RoaXMudHlwZV0sXG4gICAgICAgIGksIGo7XG5cbiAgICBmdW5jdGlvbiBwcm9qZWN0KGxpbmUpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGxpbmVbal0sIHkyID0gMTgwIC0gKHAueSArIHkwKSAqIDM2MCAvIHNpemU7XG4gICAgICAgICAgICBsaW5lW2pdID0gW1xuICAgICAgICAgICAgICAgIChwLnggKyB4MCkgKiAzNjAgLyBzaXplIC0gMTgwLFxuICAgICAgICAgICAgICAgIDM2MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4oTWF0aC5leHAoeTIgKiBNYXRoLlBJIC8gMTgwKSkgLSA5MFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgY2FzZSAxOlxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tpXSA9IGNvb3Jkc1tpXVswXTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZHMgPSBwb2ludHM7XG4gICAgICAgIHByb2plY3QoY29vcmRzKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDI6XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgIGNhc2UgMzpcbiAgICAgICAgY29vcmRzID0gY2xhc3NpZnlSaW5ncyhjb29yZHMpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdChjb29yZHNbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChjb29yZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvb3JkcyA9IGNvb3Jkc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gJ011bHRpJyArIHR5cGU7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3Jkc1xuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICB9O1xuXG4gICAgaWYgKCdpZCcgaW4gdGhpcykge1xuICAgICAgICByZXN1bHQuaWQgPSB0aGlzLmlkO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBjbGFzc2lmaWVzIGFuIGFycmF5IG9mIHJpbmdzIGludG8gcG9seWdvbnMgd2l0aCBvdXRlciByaW5ncyBhbmQgaG9sZXNcblxuZnVuY3Rpb24gY2xhc3NpZnlSaW5ncyhyaW5ncykge1xuICAgIHZhciBsZW4gPSByaW5ncy5sZW5ndGg7XG5cbiAgICBpZiAobGVuIDw9IDEpIHJldHVybiBbcmluZ3NdO1xuXG4gICAgdmFyIHBvbHlnb25zID0gW10sXG4gICAgICAgIHBvbHlnb24sXG4gICAgICAgIGNjdztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGFyZWEgPSBzaWduZWRBcmVhKHJpbmdzW2ldKTtcbiAgICAgICAgaWYgKGFyZWEgPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChjY3cgPT09IHVuZGVmaW5lZCkgY2N3ID0gYXJlYSA8IDA7XG5cbiAgICAgICAgaWYgKGNjdyA9PT0gYXJlYSA8IDApIHtcbiAgICAgICAgICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuICAgICAgICAgICAgcG9seWdvbiA9IFtyaW5nc1tpXV07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChyaW5nc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBvbHlnb24pIHBvbHlnb25zLnB1c2gocG9seWdvbik7XG5cbiAgICByZXR1cm4gcG9seWdvbnM7XG59XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEocmluZykge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByaW5nLmxlbmd0aCwgaiA9IGxlbiAtIDEsIHAxLCBwMjsgaSA8IGxlbjsgaiA9IGkrKykge1xuICAgICAgICBwMSA9IHJpbmdbaV07XG4gICAgICAgIHAyID0gcmluZ1tqXTtcbiAgICAgICAgc3VtICs9IChwMi54IC0gcDEueCkgKiAocDEueSArIHAyLnkpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVmZWF0dXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBvaW50O1xuXG4vKipcbiAqIEEgc3RhbmRhbG9uZSBwb2ludCBnZW9tZXRyeSB3aXRoIHVzZWZ1bCBhY2Nlc3NvciwgY29tcGFyaXNvbiwgYW5kXG4gKiBtb2RpZmljYXRpb24gbWV0aG9kcy5cbiAqXG4gKiBAY2xhc3MgUG9pbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbG9uZ2l0dWRlIG9yIHNjcmVlblxuICogcGl4ZWxzLCBvciBhbnkgb3RoZXIgc29ydCBvZiB1bml0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZS4gdGhpcyBjb3VsZCBiZSBsYXRpdHVkZSBvciBzY3JlZW5cbiAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoLTc3LCAzOCk7XG4gKi9cbmZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG59XG5cblBvaW50LnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgcG9pbnQsIHJldHVybmluZyBhIG5ldyBwb2ludCB0aGF0IGNhbiBiZSBtb2RpZmllZFxuICAgICAqIHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvbGQgb25lLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSB0aGUgY2xvbmVcbiAgICAgKi9cbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpOyB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBhbm90aGVyIHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIGFkZDogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIHRvIGZyb20gcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgc3ViOiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbXVsdEJ5UG9pbnQ6ICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIGRpdkJ5UG9pbnQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbXVsdDogICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGspOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3RvcixcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBrIGZhY3RvclxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBkaXY6ICAgICBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdihrKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCB0aGUgMCwgMCBvcmlnaW4gYnkgYW4gYW5nbGUgYSxcbiAgICAgKiBnaXZlbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgYW5nbGUgdG8gcm90YXRlIGFyb3VuZCwgaW4gcmFkaWFuc1xuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICByb3RhdGU6ICBmdW5jdGlvbihhKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShhKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCBwIHBvaW50IGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFBvaW50IHRvIHJvdGF0ZSBhcm91bmRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlQXJvdW5kOiAgZnVuY3Rpb24oYSxwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChhLHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCBieSBhIDR4MSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IG0gdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG1hdE11bHQ6IGZ1bmN0aW9uKG0pIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChtKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGlzIHBvaW50IGJ1dCBhcyBhIHVuaXQgdmVjdG9yIGZyb20gMCwgMCwgbWVhbmluZ1xuICAgICAqIHRoYXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHJlc3VsdGluZyBwb2ludCB0byB0aGUgMCwgMFxuICAgICAqIGNvb3JkaW5hdGUgd2lsbCBiZSBlcXVhbCB0byAxIGFuZCB0aGUgYW5nbGUgZnJvbSB0aGUgcmVzdWx0aW5nXG4gICAgICogcG9pbnQgdG8gdGhlIDAsIDAgY29vcmRpbmF0ZSB3aWxsIGJlIHRoZSBzYW1lIGFzIGJlZm9yZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdW5pdCB2ZWN0b3IgcG9pbnRcbiAgICAgKi9cbiAgICB1bml0OiAgICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpOyB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIHBlcnBlbmRpY3VsYXIgcG9pbnQsIHdoZXJlIHRoZSBuZXcgeSBjb29yZGluYXRlXG4gICAgICogaXMgdGhlIG9sZCB4IGNvb3JkaW5hdGUgYW5kIHRoZSBuZXcgeCBjb29yZGluYXRlIGlzIHRoZSBvbGQgeVxuICAgICAqIGNvb3JkaW5hdGUgbXVsdGlwbGllZCBieSAtMVxuICAgICAqIEByZXR1cm4ge1BvaW50fSBwZXJwZW5kaWN1bGFyIHBvaW50XG4gICAgICovXG4gICAgcGVycDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHZlcnNpb24gb2YgdGhpcyBwb2ludCB3aXRoIHRoZSB4ICYgeSBjb29yZGluYXRlc1xuICAgICAqIHJvdW5kZWQgdG8gaW50ZWdlcnMuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHJvdW5kZWQgcG9pbnRcbiAgICAgKi9cbiAgICByb3VuZDogICBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWFnaXR1ZGUgb2YgdGhpcyBwb2ludDogdGhpcyBpcyB0aGUgRXVjbGlkZWFuXG4gICAgICogZGlzdGFuY2UgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQncyB4IGFuZCB5XG4gICAgICogY29vcmRpbmF0ZXMuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBtYWduaXR1ZGVcbiAgICAgKi9cbiAgICBtYWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEp1ZGdlIHdoZXRoZXIgdGhpcyBwb2ludCBpcyBlcXVhbCB0byBhbm90aGVyIHBvaW50LCByZXR1cm5pbmdcbiAgICAgKiB0cnVlIG9yIGZhbHNlLlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IG90aGVyIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBvaW50cyBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyLnggJiZcbiAgICAgICAgICAgICAgIHRoaXMueSA9PT0gb3RoZXIueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGRpc3Q6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIocCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LFxuICAgICAqIHdpdGhvdXQgdGhlIHNxdWFyZSByb290IHN0ZXAuIFVzZWZ1bCBpZiB5b3UncmUgY29tcGFyaW5nXG4gICAgICogcmVsYXRpdmUgZGlzdGFuY2VzLlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGRpc3RTcXI6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGR4ID0gcC54IC0gdGhpcy54LFxuICAgICAgICAgICAgZHkgPSBwLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIGFuZ2xlVG86IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55IC0gYi55LCB0aGlzLnggLSBiLngpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7UG9pbnR9IGIgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIGFuZ2xlV2l0aDogZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoYi54LCBiLnkpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEZpbmQgdGhlIGFuZ2xlIG9mIHRoZSB0d28gdmVjdG9ycywgc29sdmluZyB0aGUgZm9ybXVsYSBmb3JcbiAgICAgKiB0aGUgY3Jvc3MgcHJvZHVjdCBhIHggYiA9IHxhfHxifHNpbijOuCkgZm9yIM64LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB0aGUgeS1jb29yZGluYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgYW5nbGUgaW4gcmFkaWFuc1xuICAgICAqL1xuICAgIGFuZ2xlV2l0aFNlcDogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihcbiAgICAgICAgICAgIHRoaXMueCAqIHkgLSB0aGlzLnkgKiB4LFxuICAgICAgICAgICAgdGhpcy54ICogeCArIHRoaXMueSAqIHkpO1xuICAgIH0sXG5cbiAgICBfbWF0TXVsdDogZnVuY3Rpb24obSkge1xuICAgICAgICB2YXIgeCA9IG1bMF0gKiB0aGlzLnggKyBtWzFdICogdGhpcy55LFxuICAgICAgICAgICAgeSA9IG1bMl0gKiB0aGlzLnggKyBtWzNdICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2FkZDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggKz0gcC54O1xuICAgICAgICB0aGlzLnkgKz0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3N1YjogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggLT0gcC54O1xuICAgICAgICB0aGlzLnkgLT0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX211bHQ6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgdGhpcy54ICo9IGs7XG4gICAgICAgIHRoaXMueSAqPSBrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX2RpdjogZnVuY3Rpb24oaykge1xuICAgICAgICB0aGlzLnggLz0gaztcbiAgICAgICAgdGhpcy55IC89IGs7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfbXVsdEJ5UG9pbnQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54ICo9IHAueDtcbiAgICAgICAgdGhpcy55ICo9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9kaXZCeVBvaW50OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAvPSBwLng7XG4gICAgICAgIHRoaXMueSAvPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfdW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rpdih0aGlzLm1hZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9wZXJwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMueSA9IHRoaXMueDtcbiAgICAgICAgdGhpcy54ID0gLXk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm90YXRlOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeCA9IGNvcyAqIHRoaXMueCAtIHNpbiAqIHRoaXMueSxcbiAgICAgICAgICAgIHkgPSBzaW4gKiB0aGlzLnggKyBjb3MgKiB0aGlzLnk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm90YXRlQXJvdW5kOiBmdW5jdGlvbihhbmdsZSwgcCkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeCA9IHAueCArIGNvcyAqICh0aGlzLnggLSBwLngpIC0gc2luICogKHRoaXMueSAtIHAueSksXG4gICAgICAgICAgICB5ID0gcC55ICsgc2luICogKHRoaXMueCAtIHAueCkgKyBjb3MgKiAodGhpcy55IC0gcC55KTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9yb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIHBvaW50IGZyb20gYW4gYXJyYXkgaWYgbmVjZXNzYXJ5LCBvdGhlcndpc2UgaWYgdGhlIGlucHV0XG4gKiBpcyBhbHJlYWR5IGEgUG9pbnQsIG9yIGFuIHVua25vd24gdHlwZSwgcmV0dXJuIGl0IHVuY2hhbmdlZFxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fFBvaW50fCp9IGEgYW55IGtpbmQgb2YgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge1BvaW50fSBjb25zdHJ1Y3RlZCBwb2ludCwgb3IgcGFzc2VkLXRocm91Z2ggdmFsdWUuXG4gKiBAZXhhbXBsZVxuICogLy8gdGhpc1xuICogdmFyIHBvaW50ID0gUG9pbnQuY29udmVydChbMCwgMV0pO1xuICogLy8gaXMgZXF1aXZhbGVudCB0b1xuICogdmFyIHBvaW50ID0gbmV3IFBvaW50KDAsIDEpO1xuICovXG5Qb2ludC5jb252ZXJ0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KGFbMF0sIGFbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gYTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQG1hcGJveC9wb2ludC1nZW9tZXRyeS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsInZhciBib2xkUHJlZml4ID0gJ+KWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqOKWqCAnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBib2xkKGxhYmVsKSB7XG4gIHJldHVybiBgJHtib2xkUHJlZml4fSAke2xhYmVsfWA7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnNvbGUvYm9sZC5qcyIsImltcG9ydCBpc09iamVjdCBmcm9tICcuLi92YWxpZGF0ZS9pc29iamVjdCdcblxudmFyIE1BWF9ERVBUSCA9IDEwMDtcblxuZnVuY3Rpb24gZXhwYW5kKGl0ZW0sIGRlcHRoKXtcbiAgZGVwdGggPSBkZXB0aCB8fCAzMDtcblxuICBpZiAoZGVwdGggPiBNQVhfREVQVEggKSB7XG4gICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBpdGVtKSB7XG4gICAgICBjb25zb2xlLmxvZyhwcm9wLCBpdGVtW3Byb3BdKTtcbiAgICAgIGNvbnNvbGUuZ3JvdXAocHJvcCArICcgOiAnICsodHlwZW9mIGl0ZW1bcHJvcF0pKTtcbiAgICAgIGV4cGFuZChpdGVtW3Byb3BdLCBkZXB0aCArIDEpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0LCBzcGFjZSkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0LCBudWxsLCBzcGFjZSlcbn1cblxuZXhwb3J0IHtcbiAgZXhwYW5kLFxuICBzdHJpbmdpZnksXG59IDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29uc29sZS9leHBhbmQuanMiXSwic291cmNlUm9vdCI6IiJ9